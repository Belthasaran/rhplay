(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xl(e){const t=Object.create(null);for(const l of e.split(","))t[l]=1;return l=>l in t}const be={},Bn=[],kt=()=>{},nr=()=>!1,Co=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),El=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Rl=(e,t)=>{const l=e.indexOf(t);l>-1&&e.splice(l,1)},pu=Object.prototype.hasOwnProperty,de=(e,t)=>pu.call(e,t),J=Array.isArray,Hn=e=>Rs(e)==="[object Map]",Wn=e=>Rs(e)==="[object Set]",_a=e=>Rs(e)==="[object Date]",ne=e=>typeof e=="function",Ae=e=>typeof e=="string",xt=e=>typeof e=="symbol",Ce=e=>e!==null&&typeof e=="object",sr=e=>(Ce(e)||ne(e))&&ne(e.then)&&ne(e.catch),or=Object.prototype.toString,Rs=e=>or.call(e),gu=e=>Rs(e).slice(8,-1),lr=e=>Rs(e)==="[object Object]",Al=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vs=xl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ko=e=>{const t=Object.create(null);return l=>t[l]||(t[l]=e(l))},vu=/-\w/g,un=ko(e=>e.replace(vu,t=>t.slice(1).toUpperCase())),hu=/\B([A-Z])/g,pn=ko(e=>e.replace(hu,"-$1").toLowerCase()),ar=ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),ol=ko(e=>e?`on${ar(e)}`:""),cn=(e,t)=>!Object.is(e,t),co=(e,...t)=>{for(let l=0;l<e.length;l++)e[l](...t)},rr=(e,t,l,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:l})},vo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ca;const Po=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ln(e){if(J(e)){const t={};for(let l=0;l<e.length;l++){const a=e[l],r=Ae(a)?wu(a):ln(a);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ae(e)||Ce(e))return e}const mu=/;(?![^(]*\))/g,bu=/:([^]+)/,yu=/\/\*[^]*?\*\//g;function wu(e){const t={};return e.replace(yu,"").split(mu).forEach(l=>{if(l){const a=l.split(bu);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Se(e){let t="";if(Ae(e))t=e;else if(J(e))for(let l=0;l<e.length;l++){const a=Se(e[l]);a&&(t+=a+" ")}else if(Ce(e))for(const l in e)e[l]&&(t+=l+" ");return t.trim()}const Su="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_u=xl(Su);function ir(e){return!!e||e===""}function Cu(e,t){if(e.length!==t.length)return!1;let l=!0;for(let a=0;l&&a<e.length;a++)l=As(e[a],t[a]);return l}function As(e,t){if(e===t)return!0;let l=_a(e),a=_a(t);if(l||a)return l&&a?e.getTime()===t.getTime():!1;if(l=xt(e),a=xt(t),l||a)return e===t;if(l=J(e),a=J(t),l||a)return l&&a?Cu(e,t):!1;if(l=Ce(e),a=Ce(t),l||a){if(!l||!a)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const u in e){const d=e.hasOwnProperty(u),g=t.hasOwnProperty(u);if(d&&!g||!d&&g||!As(e[u],t[u]))return!1}}return String(e)===String(t)}function Dl(e,t){return e.findIndex(l=>As(l,t))}const cr=e=>!!(e&&e.__v_isRef===!0),m=e=>Ae(e)?e:e==null?"":J(e)||Ce(e)&&(e.toString===or||!ne(e.toString))?cr(e)?m(e.value):JSON.stringify(e,ur,2):String(e),ur=(e,t)=>cr(t)?ur(e,t.value):Hn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((l,[a,r],i)=>(l[ll(a,i)+" =>"]=r,l),{})}:Wn(t)?{[`Set(${t.size})`]:[...t.values()].map(l=>ll(l))}:xt(t)?ll(t):Ce(t)&&!J(t)&&!lr(t)?String(t):t,ll=(e,t="")=>{var l;return xt(e)?`Symbol(${(l=e.description)!=null?l:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class ku{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ze,!t&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,l;if(this.scopes)for(t=0,l=this.scopes.length;t<l;t++)this.scopes[t].pause();for(t=0,l=this.effects.length;t<l;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,l;if(this.scopes)for(t=0,l=this.scopes.length;t<l;t++)this.scopes[t].resume();for(t=0,l=this.effects.length;t<l;t++)this.effects[t].resume()}}run(t){if(this._active){const l=Ze;try{return Ze=this,t()}finally{Ze=l}}}on(){++this._on===1&&(this.prevScope=Ze,Ze=this)}off(){this._on>0&&--this._on===0&&(Ze=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let l,a;for(l=0,a=this.effects.length;l<a;l++)this.effects[l].stop();for(this.effects.length=0,l=0,a=this.cleanups.length;l<a;l++)this.cleanups[l]();if(this.cleanups.length=0,this.scopes){for(l=0,a=this.scopes.length;l<a;l++)this.scopes[l].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Pu(){return Ze}let _e;const al=new WeakSet;class dr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ze&&Ze.active&&Ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,al.has(this)&&(al.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ka(this),gr(this);const t=_e,l=gt;_e=this,gt=!0;try{return this.fn()}finally{vr(this),_e=t,gt=l,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ml(t);this.deps=this.depsTail=void 0,ka(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?al.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vl(this)&&this.run()}get dirty(){return vl(this)}}let fr=0,hs,ms;function pr(e,t=!1){if(e.flags|=8,t){e.next=ms,ms=e;return}e.next=hs,hs=e}function Il(){fr++}function Tl(){if(--fr>0)return;if(ms){let t=ms;for(ms=void 0;t;){const l=t.next;t.next=void 0,t.flags&=-9,t=l}}let e;for(;hs;){let t=hs;for(hs=void 0;t;){const l=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=l}}if(e)throw e}function gr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vr(e){let t,l=e.depsTail,a=l;for(;a;){const r=a.prevDep;a.version===-1?(a===l&&(l=r),Ml(a),xu(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=r}e.deps=t,e.depsTail=l}function vl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_s)||(e.globalVersion=_s,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!vl(e))))return;e.flags|=2;const t=e.dep,l=_e,a=gt;_e=e,gt=!0;try{gr(e);const r=e.fn(e._value);(t.version===0||cn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=l,gt=a,vr(e),e.flags&=-3}}function Ml(e,t=!1){const{dep:l,prevSub:a,nextSub:r}=e;if(a&&(a.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=a,e.nextSub=void 0),l.subs===e&&(l.subs=a,!a&&l.computed)){l.computed.flags&=-5;for(let i=l.computed.deps;i;i=i.nextDep)Ml(i,!0)}!t&&!--l.sc&&l.map&&l.map.delete(l.key)}function xu(e){const{prevDep:t,nextDep:l}=e;t&&(t.nextDep=l,e.prevDep=void 0),l&&(l.prevDep=t,e.nextDep=void 0)}let gt=!0;const mr=[];function Wt(){mr.push(gt),gt=!1}function Jt(){const e=mr.pop();gt=e===void 0?!0:e}function ka(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const l=_e;_e=void 0;try{t()}finally{_e=l}}}let _s=0;class Eu{constructor(t,l){this.sub=t,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_e||!gt||_e===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==_e)l=this.activeLink=new Eu(_e,this),_e.deps?(l.prevDep=_e.depsTail,_e.depsTail.nextDep=l,_e.depsTail=l):_e.deps=_e.depsTail=l,br(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const a=l.nextDep;a.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=a),l.prevDep=_e.depsTail,l.nextDep=void 0,_e.depsTail.nextDep=l,_e.depsTail=l,_e.deps===l&&(_e.deps=a)}return l}trigger(t){this.version++,_s++,this.notify(t)}notify(t){Il();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{Tl()}}}function br(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)br(a)}const l=e.dep.subs;l!==e&&(e.prevSub=l,l&&(l.nextSub=e)),e.dep.subs=e}}const hl=new WeakMap,En=Symbol(""),ml=Symbol(""),Cs=Symbol("");function Ge(e,t,l){if(gt&&_e){let a=hl.get(e);a||hl.set(e,a=new Map);let r=a.get(l);r||(a.set(l,r=new Fl),r.map=a,r.key=l),r.track()}}function zt(e,t,l,a,r,i){const u=hl.get(e);if(!u){_s++;return}const d=g=>{g&&g.trigger()};if(Il(),t==="clear")u.forEach(d);else{const g=J(e),C=g&&Al(l);if(g&&l==="length"){const h=Number(a);u.forEach((x,O)=>{(O==="length"||O===Cs||!xt(O)&&O>=h)&&d(x)})}else switch((l!==void 0||u.has(void 0))&&d(u.get(l)),C&&d(u.get(Cs)),t){case"add":g?C&&d(u.get("length")):(d(u.get(En)),Hn(e)&&d(u.get(ml)));break;case"delete":g||(d(u.get(En)),Hn(e)&&d(u.get(ml)));break;case"set":Hn(e)&&d(u.get(En));break}}Tl()}function Ln(e){const t=ue(e);return t===e?t:(Ge(t,"iterate",Cs),ut(e)?t:t.map(Oe))}function xo(e){return Ge(e=ue(e),"iterate",Cs),e}const Ru={__proto__:null,[Symbol.iterator](){return rl(this,Symbol.iterator,Oe)},concat(...e){return Ln(this).concat(...e.map(t=>J(t)?Ln(t):t))},entries(){return rl(this,"entries",e=>(e[1]=Oe(e[1]),e))},every(e,t){return Ht(this,"every",e,t,void 0,arguments)},filter(e,t){return Ht(this,"filter",e,t,l=>l.map(Oe),arguments)},find(e,t){return Ht(this,"find",e,t,Oe,arguments)},findIndex(e,t){return Ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ht(this,"findLast",e,t,Oe,arguments)},findLastIndex(e,t){return Ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return il(this,"includes",e)},indexOf(...e){return il(this,"indexOf",e)},join(e){return Ln(this).join(e)},lastIndexOf(...e){return il(this,"lastIndexOf",e)},map(e,t){return Ht(this,"map",e,t,void 0,arguments)},pop(){return ds(this,"pop")},push(...e){return ds(this,"push",e)},reduce(e,...t){return Pa(this,"reduce",e,t)},reduceRight(e,...t){return Pa(this,"reduceRight",e,t)},shift(){return ds(this,"shift")},some(e,t){return Ht(this,"some",e,t,void 0,arguments)},splice(...e){return ds(this,"splice",e)},toReversed(){return Ln(this).toReversed()},toSorted(e){return Ln(this).toSorted(e)},toSpliced(...e){return Ln(this).toSpliced(...e)},unshift(...e){return ds(this,"unshift",e)},values(){return rl(this,"values",Oe)}};function rl(e,t,l){const a=xo(e),r=a[t]();return a!==e&&!ut(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=l(i.value)),i}),r}const Au=Array.prototype;function Ht(e,t,l,a,r,i){const u=xo(e),d=u!==e&&!ut(e),g=u[t];if(g!==Au[t]){const x=g.apply(e,i);return d?Oe(x):x}let C=l;u!==e&&(d?C=function(x,O){return l.call(this,Oe(x),O,e)}:l.length>2&&(C=function(x,O){return l.call(this,x,O,e)}));const h=g.call(u,C,a);return d&&r?r(h):h}function Pa(e,t,l,a){const r=xo(e);let i=l;return r!==e&&(ut(e)?l.length>3&&(i=function(u,d,g){return l.call(this,u,d,g,e)}):i=function(u,d,g){return l.call(this,u,Oe(d),g,e)}),r[t](i,...a)}function il(e,t,l){const a=ue(e);Ge(a,"iterate",Cs);const r=a[t](...l);return(r===-1||r===!1)&&Nl(l[0])?(l[0]=ue(l[0]),a[t](...l)):r}function ds(e,t,l=[]){Wt(),Il();const a=ue(e)[t].apply(e,l);return Tl(),Jt(),a}const Du=xl("__proto__,__v_isRef,__isVue"),yr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xt));function Iu(e){xt(e)||(e=String(e));const t=ue(this);return Ge(t,"has",e),t.hasOwnProperty(e)}class wr{constructor(t=!1,l=!1){this._isReadonly=t,this._isShallow=l}get(t,l,a){if(l==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(l==="__v_isReactive")return!r;if(l==="__v_isReadonly")return r;if(l==="__v_isShallow")return i;if(l==="__v_raw")return a===(r?i?Bu:kr:i?Cr:_r).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const u=J(t);if(!r){let g;if(u&&(g=Ru[l]))return g;if(l==="hasOwnProperty")return Iu}const d=Reflect.get(t,l,ze(t)?t:a);if((xt(l)?yr.has(l):Du(l))||(r||Ge(t,"get",l),i))return d;if(ze(d)){const g=u&&Al(l)?d:d.value;return r&&Ce(g)?yl(g):g}return Ce(d)?r?yl(d):Gt(d):d}}class Sr extends wr{constructor(t=!1){super(!1,t)}set(t,l,a,r){let i=t[l];if(!this._isShallow){const g=dn(i);if(!ut(a)&&!dn(a)&&(i=ue(i),a=ue(a)),!J(t)&&ze(i)&&!ze(a))return g||(i.value=a),!0}const u=J(t)&&Al(l)?Number(l)<t.length:de(t,l),d=Reflect.set(t,l,a,ze(t)?t:r);return t===ue(r)&&(u?cn(a,i)&&zt(t,"set",l,a):zt(t,"add",l,a)),d}deleteProperty(t,l){const a=de(t,l);t[l];const r=Reflect.deleteProperty(t,l);return r&&a&&zt(t,"delete",l,void 0),r}has(t,l){const a=Reflect.has(t,l);return(!xt(l)||!yr.has(l))&&Ge(t,"has",l),a}ownKeys(t){return Ge(t,"iterate",J(t)?"length":En),Reflect.ownKeys(t)}}class Tu extends wr{constructor(t=!1){super(!0,t)}set(t,l){return!0}deleteProperty(t,l){return!0}}const Mu=new Sr,Fu=new Tu,Uu=new Sr(!0);const bl=e=>e,so=e=>Reflect.getPrototypeOf(e);function $u(e,t,l){return function(...a){const r=this.__v_raw,i=ue(r),u=Hn(i),d=e==="entries"||e===Symbol.iterator&&u,g=e==="keys"&&u,C=r[e](...a),h=l?bl:t?ho:Oe;return!t&&Ge(i,"iterate",g?ml:En),{next(){const{value:x,done:O}=C.next();return O?{value:x,done:O}:{value:d?[h(x[0]),h(x[1])]:h(x),done:O}},[Symbol.iterator](){return this}}}}function oo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Nu(e,t){const l={get(r){const i=this.__v_raw,u=ue(i),d=ue(r);e||(cn(r,d)&&Ge(u,"get",r),Ge(u,"get",d));const{has:g}=so(u),C=t?bl:e?ho:Oe;if(g.call(u,r))return C(i.get(r));if(g.call(u,d))return C(i.get(d));i!==u&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Ge(ue(r),"iterate",En),r.size},has(r){const i=this.__v_raw,u=ue(i),d=ue(r);return e||(cn(r,d)&&Ge(u,"has",r),Ge(u,"has",d)),r===d?i.has(r):i.has(r)||i.has(d)},forEach(r,i){const u=this,d=u.__v_raw,g=ue(d),C=t?bl:e?ho:Oe;return!e&&Ge(g,"iterate",En),d.forEach((h,x)=>r.call(i,C(h),C(x),u))}};return Ke(l,e?{add:oo("add"),set:oo("set"),delete:oo("delete"),clear:oo("clear")}:{add(r){!t&&!ut(r)&&!dn(r)&&(r=ue(r));const i=ue(this);return so(i).has.call(i,r)||(i.add(r),zt(i,"add",r,r)),this},set(r,i){!t&&!ut(i)&&!dn(i)&&(i=ue(i));const u=ue(this),{has:d,get:g}=so(u);let C=d.call(u,r);C||(r=ue(r),C=d.call(u,r));const h=g.call(u,r);return u.set(r,i),C?cn(i,h)&&zt(u,"set",r,i):zt(u,"add",r,i),this},delete(r){const i=ue(this),{has:u,get:d}=so(i);let g=u.call(i,r);g||(r=ue(r),g=u.call(i,r)),d&&d.call(i,r);const C=i.delete(r);return g&&zt(i,"delete",r,void 0),C},clear(){const r=ue(this),i=r.size!==0,u=r.clear();return i&&zt(r,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(r=>{l[r]=$u(r,e,t)}),l}function Ul(e,t){const l=Nu(e,t);return(a,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?a:Reflect.get(de(l,r)&&r in a?l:a,r,i)}const Lu={get:Ul(!1,!1)},Ou={get:Ul(!1,!0)},Vu={get:Ul(!0,!1)};const _r=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Bu=new WeakMap;function Hu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ju(e){return e.__v_skip||!Object.isExtensible(e)?0:Hu(gu(e))}function Gt(e){return dn(e)?e:$l(e,!1,Mu,Lu,_r)}function Gu(e){return $l(e,!1,Uu,Ou,Cr)}function yl(e){return $l(e,!0,Fu,Vu,kr)}function $l(e,t,l,a,r){if(!Ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=ju(e);if(i===0)return e;const u=r.get(e);if(u)return u;const d=new Proxy(e,i===2?a:l);return r.set(e,d),d}function jn(e){return dn(e)?jn(e.__v_raw):!!(e&&e.__v_isReactive)}function dn(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Nl(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function zu(e){return!de(e,"__v_skip")&&Object.isExtensible(e)&&rr(e,"__v_skip",!0),e}const Oe=e=>Ce(e)?Gt(e):e,ho=e=>Ce(e)?yl(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function R(e){return Ku(e,!1)}function Ku(e,t){return ze(e)?e:new qu(e,t)}class qu{constructor(t,l){this.dep=new Fl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?t:ue(t),this._value=l?t:Oe(t),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(t){const l=this._rawValue,a=this.__v_isShallow||ut(t)||dn(t);t=a?t:ue(t),cn(t,l)&&(this._rawValue=t,this._value=a?t:Oe(t),this.dep.trigger())}}function Pr(e){return ze(e)?e.value:e}const Wu={get:(e,t,l)=>t==="__v_raw"?e:Pr(Reflect.get(e,t,l)),set:(e,t,l,a)=>{const r=e[t];return ze(r)&&!ze(l)?(r.value=l,!0):Reflect.set(e,t,l,a)}};function xr(e){return jn(e)?e:new Proxy(e,Wu)}class Ju{constructor(t,l,a){this.fn=t,this.setter=l,this._value=void 0,this.dep=new Fl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return pr(this,!0),!0}get value(){const t=this.dep.track();return hr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Qu(e,t,l=!1){let a,r;return ne(e)?a=e:(a=e.get,r=e.set),new Ju(a,r,l)}const lo={},mo=new WeakMap;let xn;function Yu(e,t=!1,l=xn){if(l){let a=mo.get(l);a||mo.set(l,a=[]),a.push(e)}}function Xu(e,t,l=be){const{immediate:a,deep:r,once:i,scheduler:u,augmentJob:d,call:g}=l,C=V=>r?V:ut(V)||r===!1||r===0?Kt(V,1):Kt(V);let h,x,O,H,te=!1,Y=!1;if(ze(e)?(x=()=>e.value,te=ut(e)):jn(e)?(x=()=>C(e),te=!0):J(e)?(Y=!0,te=e.some(V=>jn(V)||ut(V)),x=()=>e.map(V=>{if(ze(V))return V.value;if(jn(V))return C(V);if(ne(V))return g?g(V,2):V()})):ne(e)?t?x=g?()=>g(e,2):e:x=()=>{if(O){Wt();try{O()}finally{Jt()}}const V=xn;xn=h;try{return g?g(e,3,[H]):e(H)}finally{xn=V}}:x=kt,t&&r){const V=x,X=r===!0?1/0:r;x=()=>Kt(V(),X)}const _=Pu(),q=()=>{h.stop(),_&&_.active&&Rl(_.effects,h)};if(i&&t){const V=t;t=(...X)=>{V(...X),q()}}let ee=Y?new Array(e.length).fill(lo):lo;const fe=V=>{if(!(!(h.flags&1)||!h.dirty&&!V))if(t){const X=h.run();if(r||te||(Y?X.some((Ue,st)=>cn(Ue,ee[st])):cn(X,ee))){O&&O();const Ue=xn;xn=h;try{const st=[X,ee===lo?void 0:Y&&ee[0]===lo?[]:ee,H];ee=X,g?g(t,3,st):t(...st)}finally{xn=Ue}}}else h.run()};return d&&d(fe),h=new dr(x),h.scheduler=u?()=>u(fe,!1):fe,H=V=>Yu(V,!1,h),O=h.onStop=()=>{const V=mo.get(h);if(V){if(g)g(V,4);else for(const X of V)X();mo.delete(h)}},t?a?fe(!0):ee=h.run():u?u(fe.bind(null,!0),!0):h.run(),q.pause=h.pause.bind(h),q.resume=h.resume.bind(h),q.stop=q,q}function Kt(e,t=1/0,l){if(t<=0||!Ce(e)||e.__v_skip||(l=l||new Map,(l.get(e)||0)>=t))return e;if(l.set(e,t),t--,ze(e))Kt(e.value,t,l);else if(J(e))for(let a=0;a<e.length;a++)Kt(e[a],t,l);else if(Wn(e)||Hn(e))e.forEach(a=>{Kt(a,t,l)});else if(lr(e)){for(const a in e)Kt(e[a],t,l);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Kt(e[a],t,l)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ds(e,t,l,a){try{return a?e(...a):e()}catch(r){Eo(r,t,l)}}function Et(e,t,l,a){if(ne(e)){const r=Ds(e,t,l,a);return r&&sr(r)&&r.catch(i=>{Eo(i,t,l)}),r}if(J(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Et(e[i],t,l,a));return r}}function Eo(e,t,l,a=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||be;if(t){let d=t.parent;const g=t.proxy,C=`https://vuejs.org/error-reference/#runtime-${l}`;for(;d;){const h=d.ec;if(h){for(let x=0;x<h.length;x++)if(h[x](e,g,C)===!1)return}d=d.parent}if(i){Wt(),Ds(i,null,10,[e,g,C]),Jt();return}}Zu(e,l,r,a,u)}function Zu(e,t,l,a=!0,r=!1){if(r)throw e;console.error(e)}const Je=[];let _t=-1;const Gn=[];let sn=null,On=0;const Er=Promise.resolve();let bo=null;function Vn(e){const t=bo||Er;return e?t.then(this?e.bind(this):e):t}function ed(e){let t=_t+1,l=Je.length;for(;t<l;){const a=t+l>>>1,r=Je[a],i=ks(r);i<e||i===e&&r.flags&2?t=a+1:l=a}return t}function Ll(e){if(!(e.flags&1)){const t=ks(e),l=Je[Je.length-1];!l||!(e.flags&2)&&t>=ks(l)?Je.push(e):Je.splice(ed(t),0,e),e.flags|=1,Rr()}}function Rr(){bo||(bo=Er.then(Dr))}function td(e){J(e)?Gn.push(...e):sn&&e.id===-1?sn.splice(On+1,0,e):e.flags&1||(Gn.push(e),e.flags|=1),Rr()}function xa(e,t,l=_t+1){for(;l<Je.length;l++){const a=Je[l];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Je.splice(l,1),l--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Ar(e){if(Gn.length){const t=[...new Set(Gn)].sort((l,a)=>ks(l)-ks(a));if(Gn.length=0,sn){sn.push(...t);return}for(sn=t,On=0;On<sn.length;On++){const l=sn[On];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}sn=null,On=0}}const ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Dr(e){try{for(_t=0;_t<Je.length;_t++){const t=Je[_t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ds(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;_t<Je.length;_t++){const t=Je[_t];t&&(t.flags&=-2)}_t=-1,Je.length=0,Ar(),bo=null,(Je.length||Gn.length)&&Dr()}}let ct=null,Ir=null;function yo(e){const t=ct;return ct=e,Ir=e&&e.type.__scopeId||null,t}function nd(e,t=ct,l){if(!t||e._n)return e;const a=(...r)=>{a._d&&$a(-1);const i=yo(t);let u;try{u=e(...r)}finally{yo(i),a._d&&$a(1)}return u};return a._n=!0,a._c=!0,a._d=!0,a}function re(e,t){if(ct===null)return e;const l=Io(ct),a=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,u,d,g=be]=t[r];i&&(ne(i)&&(i={mounted:i,updated:i}),i.deep&&Kt(u),a.push({dir:i,instance:l,value:u,oldValue:void 0,arg:d,modifiers:g}))}return e}function kn(e,t,l,a){const r=e.dirs,i=t&&t.dirs;for(let u=0;u<r.length;u++){const d=r[u];i&&(d.oldValue=i[u].value);let g=d.dir[a];g&&(Wt(),Et(g,l,8,[e.el,d,e,t]),Jt())}}const sd=Symbol("_vte"),od=e=>e.__isTeleport,ld=Symbol("_leaveCb");function Ol(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ol(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ad(e,t){return ne(e)?Ke({name:e.name},t,{setup:e}):e}function Tr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const wo=new WeakMap;function bs(e,t,l,a,r=!1){if(J(e)){e.forEach((te,Y)=>bs(te,t&&(J(t)?t[Y]:t),l,a,r));return}if(ys(a)&&!r){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&bs(e,t,l,a.component.subTree);return}const i=a.shapeFlag&4?Io(a.component):a.el,u=r?null:i,{i:d,r:g}=e,C=t&&t.r,h=d.refs===be?d.refs={}:d.refs,x=d.setupState,O=ue(x),H=x===be?nr:te=>de(O,te);if(C!=null&&C!==g){if(Ea(t),Ae(C))h[C]=null,H(C)&&(x[C]=null);else if(ze(C)){C.value=null;const te=t;te.k&&(h[te.k]=null)}}if(ne(g))Ds(g,d,12,[u,h]);else{const te=Ae(g),Y=ze(g);if(te||Y){const _=()=>{if(e.f){const q=te?H(g)?x[g]:h[g]:g.value;if(r)J(q)&&Rl(q,i);else if(J(q))q.includes(i)||q.push(i);else if(te)h[g]=[i],H(g)&&(x[g]=h[g]);else{const ee=[i];g.value=ee,e.k&&(h[e.k]=ee)}}else te?(h[g]=u,H(g)&&(x[g]=u)):Y&&(g.value=u,e.k&&(h[e.k]=u))};if(u){const q=()=>{_(),wo.delete(e)};q.id=-1,wo.set(e,q),tt(q,l)}else Ea(e),_()}}}function Ea(e){const t=wo.get(e);t&&(t.flags|=8,wo.delete(e))}Po().requestIdleCallback;Po().cancelIdleCallback;const ys=e=>!!e.type.__asyncLoader,Mr=e=>e.type.__isKeepAlive;function rd(e,t){Fr(e,"a",t)}function id(e,t){Fr(e,"da",t)}function Fr(e,t,l=Qe){const a=e.__wdc||(e.__wdc=()=>{let r=l;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ro(t,a,l),l){let r=l.parent;for(;r&&r.parent;)Mr(r.parent.vnode)&&cd(a,t,l,r),r=r.parent}}function cd(e,t,l,a){const r=Ro(t,e,a,!0);Vl(()=>{Rl(a[t],r)},l)}function Ro(e,t,l=Qe,a=!1){if(l){const r=l[e]||(l[e]=[]),i=t.__weh||(t.__weh=(...u)=>{Wt();const d=Is(l),g=Et(t,l,e,u);return d(),Jt(),g});return a?r.unshift(i):r.push(i),i}}const Qt=e=>(t,l=Qe)=>{(!xs||e==="sp")&&Ro(e,(...a)=>t(...a),l)},ud=Qt("bm"),Ur=Qt("m"),dd=Qt("bu"),fd=Qt("u"),pd=Qt("bum"),Vl=Qt("um"),gd=Qt("sp"),vd=Qt("rtg"),hd=Qt("rtc");function md(e,t=Qe){Ro("ec",e,t)}const bd=Symbol.for("v-ndc");function Le(e,t,l,a){let r;const i=l,u=J(e);if(u||Ae(e)){const d=u&&jn(e);let g=!1,C=!1;d&&(g=!ut(e),C=dn(e),e=xo(e)),r=new Array(e.length);for(let h=0,x=e.length;h<x;h++)r[h]=t(g?C?ho(Oe(e[h])):Oe(e[h]):e[h],h,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let d=0;d<e;d++)r[d]=t(d+1,d,void 0,i)}else if(Ce(e))if(e[Symbol.iterator])r=Array.from(e,(d,g)=>t(d,g,void 0,i));else{const d=Object.keys(e);r=new Array(d.length);for(let g=0,C=d.length;g<C;g++){const h=d[g];r[g]=t(e[h],h,g,i)}}else r=[];return r}const wl=e=>e?ni(e)?Io(e):wl(e.parent):null,ws=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wl(e.parent),$root:e=>wl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Nr(e),$forceUpdate:e=>e.f||(e.f=()=>{Ll(e.update)}),$nextTick:e=>e.n||(e.n=Vn.bind(e.proxy)),$watch:e=>Vd.bind(e)}),cl=(e,t)=>e!==be&&!e.__isScriptSetup&&de(e,t),yd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:l,setupState:a,data:r,props:i,accessCache:u,type:d,appContext:g}=e;let C;if(t[0]!=="$"){const H=u[t];if(H!==void 0)switch(H){case 1:return a[t];case 2:return r[t];case 4:return l[t];case 3:return i[t]}else{if(cl(a,t))return u[t]=1,a[t];if(r!==be&&de(r,t))return u[t]=2,r[t];if((C=e.propsOptions[0])&&de(C,t))return u[t]=3,i[t];if(l!==be&&de(l,t))return u[t]=4,l[t];Sl&&(u[t]=0)}}const h=ws[t];let x,O;if(h)return t==="$attrs"&&Ge(e.attrs,"get",""),h(e);if((x=d.__cssModules)&&(x=x[t]))return x;if(l!==be&&de(l,t))return u[t]=4,l[t];if(O=g.config.globalProperties,de(O,t))return O[t]},set({_:e},t,l){const{data:a,setupState:r,ctx:i}=e;return cl(r,t)?(r[t]=l,!0):a!==be&&de(a,t)?(a[t]=l,!0):de(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=l,!0)},has({_:{data:e,setupState:t,accessCache:l,ctx:a,appContext:r,propsOptions:i,type:u}},d){let g,C;return!!(l[d]||e!==be&&d[0]!=="$"&&de(e,d)||cl(t,d)||(g=i[0])&&de(g,d)||de(a,d)||de(ws,d)||de(r.config.globalProperties,d)||(C=u.__cssModules)&&C[d])},defineProperty(e,t,l){return l.get!=null?e._.accessCache[t]=0:de(l,"value")&&this.set(e,t,l.value,null),Reflect.defineProperty(e,t,l)}};function Ra(e){return J(e)?e.reduce((t,l)=>(t[l]=null,t),{}):e}let Sl=!0;function wd(e){const t=Nr(e),l=e.proxy,a=e.ctx;Sl=!1,t.beforeCreate&&Aa(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:u,watch:d,provide:g,inject:C,created:h,beforeMount:x,mounted:O,beforeUpdate:H,updated:te,activated:Y,deactivated:_,beforeDestroy:q,beforeUnmount:ee,destroyed:fe,unmounted:V,render:X,renderTracked:Ue,renderTriggered:st,errorCaptured:vt,serverPrefetch:Rn,expose:Rt,inheritAttrs:At,components:An,directives:Dn,filters:Jn}=t;if(C&&Sd(C,a,null),u)for(const ke in u){const ie=u[ke];ne(ie)&&(a[ke]=ie.bind(l))}if(r){const ke=r.call(l,l);Ce(ke)&&(e.data=Gt(ke))}if(Sl=!0,i)for(const ke in i){const ie=i[ke],Dt=ne(ie)?ie.bind(l,l):ne(ie.get)?ie.get.bind(l,l):kt,dt=!ne(ie)&&ne(ie.set)?ie.set.bind(l):kt,It=Pe({get:Dt,set:dt});Object.defineProperty(a,ke,{enumerable:!0,configurable:!0,get:()=>It.value,set:ot=>It.value=ot})}if(d)for(const ke in d)$r(d[ke],a,l,ke);if(g){const ke=ne(g)?g.call(l):g;Reflect.ownKeys(ke).forEach(ie=>{Ed(ie,ke[ie])})}h&&Aa(h,e,"c");function he(ke,ie){J(ie)?ie.forEach(Dt=>ke(Dt.bind(l))):ie&&ke(ie.bind(l))}if(he(ud,x),he(Ur,O),he(dd,H),he(fd,te),he(rd,Y),he(id,_),he(md,vt),he(hd,Ue),he(vd,st),he(pd,ee),he(Vl,V),he(gd,Rn),J(Rt))if(Rt.length){const ke=e.exposed||(e.exposed={});Rt.forEach(ie=>{Object.defineProperty(ke,ie,{get:()=>l[ie],set:Dt=>l[ie]=Dt,enumerable:!0})})}else e.exposed||(e.exposed={});X&&e.render===kt&&(e.render=X),At!=null&&(e.inheritAttrs=At),An&&(e.components=An),Dn&&(e.directives=Dn),Rn&&Tr(e)}function Sd(e,t,l=kt){J(e)&&(e=_l(e));for(const a in e){const r=e[a];let i;Ce(r)?"default"in r?i=uo(r.from||a,r.default,!0):i=uo(r.from||a):i=uo(r),ze(i)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):t[a]=i}}function Aa(e,t,l){Et(J(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,l)}function $r(e,t,l,a){let r=a.includes(".")?Qr(l,a):()=>l[a];if(Ae(e)){const i=t[e];ne(i)&&an(r,i)}else if(ne(e))an(r,e.bind(l));else if(Ce(e))if(J(e))e.forEach(i=>$r(i,t,l,a));else{const i=ne(e.handler)?e.handler.bind(l):t[e.handler];ne(i)&&an(r,i,e)}}function Nr(e){const t=e.type,{mixins:l,extends:a}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:u}}=e.appContext,d=i.get(t);let g;return d?g=d:!r.length&&!l&&!a?g=t:(g={},r.length&&r.forEach(C=>So(g,C,u,!0)),So(g,t,u)),Ce(t)&&i.set(t,g),g}function So(e,t,l,a=!1){const{mixins:r,extends:i}=t;i&&So(e,i,l,!0),r&&r.forEach(u=>So(e,u,l,!0));for(const u in t)if(!(a&&u==="expose")){const d=_d[u]||l&&l[u];e[u]=d?d(e[u],t[u]):t[u]}return e}const _d={data:Da,props:Ia,emits:Ia,methods:gs,computed:gs,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:gs,directives:gs,watch:kd,provide:Da,inject:Cd};function Da(e,t){return t?e?function(){return Ke(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function Cd(e,t){return gs(_l(e),_l(t))}function _l(e){if(J(e)){const t={};for(let l=0;l<e.length;l++)t[e[l]]=e[l];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function gs(e,t){return e?Ke(Object.create(null),e,t):t}function Ia(e,t){return e?J(e)&&J(t)?[...new Set([...e,...t])]:Ke(Object.create(null),Ra(e),Ra(t??{})):t}function kd(e,t){if(!e)return t;if(!t)return e;const l=Ke(Object.create(null),e);for(const a in t)l[a]=We(e[a],t[a]);return l}function Lr(){return{app:null,config:{isNativeTag:nr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pd=0;function xd(e,t){return function(a,r=null){ne(a)||(a=Ke({},a)),r!=null&&!Ce(r)&&(r=null);const i=Lr(),u=new WeakSet,d=[];let g=!1;const C=i.app={_uid:Pd++,_component:a,_props:r,_container:null,_context:i,_instance:null,version:uf,get config(){return i.config},set config(h){},use(h,...x){return u.has(h)||(h&&ne(h.install)?(u.add(h),h.install(C,...x)):ne(h)&&(u.add(h),h(C,...x))),C},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),C},component(h,x){return x?(i.components[h]=x,C):i.components[h]},directive(h,x){return x?(i.directives[h]=x,C):i.directives[h]},mount(h,x,O){if(!g){const H=C._ceVNode||Pt(a,r);return H.appContext=i,O===!0?O="svg":O===!1&&(O=void 0),e(H,h,O),g=!0,C._container=h,h.__vue_app__=C,Io(H.component)}},onUnmount(h){d.push(h)},unmount(){g&&(Et(d,C._instance,16),e(null,C._container),delete C._container.__vue_app__)},provide(h,x){return i.provides[h]=x,C},runWithContext(h){const x=zn;zn=C;try{return h()}finally{zn=x}}};return C}}let zn=null;function Ed(e,t){if(Qe){let l=Qe.provides;const a=Qe.parent&&Qe.parent.provides;a===l&&(l=Qe.provides=Object.create(a)),l[e]=t}}function uo(e,t,l=!1){const a=sf();if(a||zn){let r=zn?zn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return l&&ne(t)?t.call(a&&a.proxy):t}}const Or={},Vr=()=>Object.create(Or),Br=e=>Object.getPrototypeOf(e)===Or;function Rd(e,t,l,a=!1){const r={},i=Vr();e.propsDefaults=Object.create(null),Hr(e,t,r,i);for(const u in e.propsOptions[0])u in r||(r[u]=void 0);l?e.props=a?r:Gu(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Ad(e,t,l,a){const{props:r,attrs:i,vnode:{patchFlag:u}}=e,d=ue(r),[g]=e.propsOptions;let C=!1;if((a||u>0)&&!(u&16)){if(u&8){const h=e.vnode.dynamicProps;for(let x=0;x<h.length;x++){let O=h[x];if(Ao(e.emitsOptions,O))continue;const H=t[O];if(g)if(de(i,O))H!==i[O]&&(i[O]=H,C=!0);else{const te=un(O);r[te]=Cl(g,d,te,H,e,!1)}else H!==i[O]&&(i[O]=H,C=!0)}}}else{Hr(e,t,r,i)&&(C=!0);let h;for(const x in d)(!t||!de(t,x)&&((h=pn(x))===x||!de(t,h)))&&(g?l&&(l[x]!==void 0||l[h]!==void 0)&&(r[x]=Cl(g,d,x,void 0,e,!0)):delete r[x]);if(i!==d)for(const x in i)(!t||!de(t,x))&&(delete i[x],C=!0)}C&&zt(e.attrs,"set","")}function Hr(e,t,l,a){const[r,i]=e.propsOptions;let u=!1,d;if(t)for(let g in t){if(vs(g))continue;const C=t[g];let h;r&&de(r,h=un(g))?!i||!i.includes(h)?l[h]=C:(d||(d={}))[h]=C:Ao(e.emitsOptions,g)||(!(g in a)||C!==a[g])&&(a[g]=C,u=!0)}if(i){const g=ue(l),C=d||be;for(let h=0;h<i.length;h++){const x=i[h];l[x]=Cl(r,g,x,C[x],e,!de(C,x))}}return u}function Cl(e,t,l,a,r,i){const u=e[l];if(u!=null){const d=de(u,"default");if(d&&a===void 0){const g=u.default;if(u.type!==Function&&!u.skipFactory&&ne(g)){const{propsDefaults:C}=r;if(l in C)a=C[l];else{const h=Is(r);a=C[l]=g.call(null,t),h()}}else a=g;r.ce&&r.ce._setProp(l,a)}u[0]&&(i&&!d?a=!1:u[1]&&(a===""||a===pn(l))&&(a=!0))}return a}const Dd=new WeakMap;function jr(e,t,l=!1){const a=l?Dd:t.propsCache,r=a.get(e);if(r)return r;const i=e.props,u={},d=[];let g=!1;if(!ne(e)){const h=x=>{g=!0;const[O,H]=jr(x,t,!0);Ke(u,O),H&&d.push(...H)};!l&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!g)return Ce(e)&&a.set(e,Bn),Bn;if(J(i))for(let h=0;h<i.length;h++){const x=un(i[h]);Ta(x)&&(u[x]=be)}else if(i)for(const h in i){const x=un(h);if(Ta(x)){const O=i[h],H=u[x]=J(O)||ne(O)?{type:O}:Ke({},O),te=H.type;let Y=!1,_=!0;if(J(te))for(let q=0;q<te.length;++q){const ee=te[q],fe=ne(ee)&&ee.name;if(fe==="Boolean"){Y=!0;break}else fe==="String"&&(_=!1)}else Y=ne(te)&&te.name==="Boolean";H[0]=Y,H[1]=_,(Y||de(H,"default"))&&d.push(x)}}const C=[u,d];return Ce(e)&&a.set(e,C),C}function Ta(e){return e[0]!=="$"&&!vs(e)}const Bl=e=>e==="_"||e==="_ctx"||e==="$stable",Hl=e=>J(e)?e.map(Ct):[Ct(e)],Id=(e,t,l)=>{if(t._n)return t;const a=nd((...r)=>Hl(t(...r)),l);return a._c=!1,a},Gr=(e,t,l)=>{const a=e._ctx;for(const r in e){if(Bl(r))continue;const i=e[r];if(ne(i))t[r]=Id(r,i,a);else if(i!=null){const u=Hl(i);t[r]=()=>u}}},zr=(e,t)=>{const l=Hl(t);e.slots.default=()=>l},Kr=(e,t,l)=>{for(const a in t)(l||!Bl(a))&&(e[a]=t[a])},Td=(e,t,l)=>{const a=e.slots=Vr();if(e.vnode.shapeFlag&32){const r=t._;r?(Kr(a,t,l),l&&rr(a,"_",r,!0)):Gr(t,a)}else t&&zr(e,t)},Md=(e,t,l)=>{const{vnode:a,slots:r}=e;let i=!0,u=be;if(a.shapeFlag&32){const d=t._;d?l&&d===1?i=!1:Kr(r,t,l):(i=!t.$stable,Gr(t,r)),u=t}else t&&(zr(e,t),u={default:1});if(i)for(const d in r)!Bl(d)&&u[d]==null&&delete r[d]},tt=Wd;function Fd(e){return Ud(e)}function Ud(e,t){const l=Po();l.__VUE__=!0;const{insert:a,remove:r,patchProp:i,createElement:u,createText:d,createComment:g,setText:C,setElementText:h,parentNode:x,nextSibling:O,setScopeId:H=kt,insertStaticContent:te}=e,Y=(p,v,k,M=null,D=null,I=null,L=void 0,T=null,U=!!v.dynamicChildren)=>{if(p===v)return;p&&!fs(p,v)&&(M=vn(p),ot(p,D,I,!0),p=null),v.patchFlag===-2&&(U=!1,v.dynamicChildren=null);const{type:A,ref:z,shapeFlag:$}=v;switch(A){case Do:_(p,v,k,M);break;case fn:q(p,v,k,M);break;case fo:p==null&&ee(v,k,M,L);break;case ve:An(p,v,k,M,D,I,L,T,U);break;default:$&1?X(p,v,k,M,D,I,L,T,U):$&6?Dn(p,v,k,M,D,I,L,T,U):($&64||$&128)&&A.process(p,v,k,M,D,I,L,T,U,hn)}z!=null&&D?bs(z,p&&p.ref,I,v||p,!v):z==null&&p&&p.ref!=null&&bs(p.ref,null,I,p,!0)},_=(p,v,k,M)=>{if(p==null)a(v.el=d(v.children),k,M);else{const D=v.el=p.el;v.children!==p.children&&C(D,v.children)}},q=(p,v,k,M)=>{p==null?a(v.el=g(v.children||""),k,M):v.el=p.el},ee=(p,v,k,M)=>{[p.el,p.anchor]=te(p.children,v,k,M,p.el,p.anchor)},fe=({el:p,anchor:v},k,M)=>{let D;for(;p&&p!==v;)D=O(p),a(p,k,M),p=D;a(v,k,M)},V=({el:p,anchor:v})=>{let k;for(;p&&p!==v;)k=O(p),r(p),p=k;r(v)},X=(p,v,k,M,D,I,L,T,U)=>{v.type==="svg"?L="svg":v.type==="math"&&(L="mathml"),p==null?Ue(v,k,M,D,I,L,T,U):Rn(p,v,D,I,L,T,U)},Ue=(p,v,k,M,D,I,L,T)=>{let U,A;const{props:z,shapeFlag:$,transition:j,dirs:K}=p;if(U=p.el=u(p.type,I,z&&z.is,z),$&8?h(U,p.children):$&16&&vt(p.children,U,null,M,D,ul(p,I),L,T),K&&kn(p,null,M,"created"),st(U,p,p.scopeId,L,M),z){for(const ae in z)ae!=="value"&&!vs(ae)&&i(U,ae,null,z[ae],I,M);"value"in z&&i(U,"value",null,z.value,I),(A=z.onVnodeBeforeMount)&&St(A,M,p)}K&&kn(p,null,M,"beforeMount");const se=$d(D,j);se&&j.beforeEnter(U),a(U,v,k),((A=z&&z.onVnodeMounted)||se||K)&&tt(()=>{A&&St(A,M,p),se&&j.enter(U),K&&kn(p,null,M,"mounted")},D)},st=(p,v,k,M,D)=>{if(k&&H(p,k),M)for(let I=0;I<M.length;I++)H(p,M[I]);if(D){let I=D.subTree;if(v===I||Xr(I.type)&&(I.ssContent===v||I.ssFallback===v)){const L=D.vnode;st(p,L,L.scopeId,L.slotScopeIds,D.parent)}}},vt=(p,v,k,M,D,I,L,T,U=0)=>{for(let A=U;A<p.length;A++){const z=p[A]=T?on(p[A]):Ct(p[A]);Y(null,z,v,k,M,D,I,L,T)}},Rn=(p,v,k,M,D,I,L)=>{const T=v.el=p.el;let{patchFlag:U,dynamicChildren:A,dirs:z}=v;U|=p.patchFlag&16;const $=p.props||be,j=v.props||be;let K;if(k&&Pn(k,!1),(K=j.onVnodeBeforeUpdate)&&St(K,k,v,p),z&&kn(v,p,k,"beforeUpdate"),k&&Pn(k,!0),($.innerHTML&&j.innerHTML==null||$.textContent&&j.textContent==null)&&h(T,""),A?Rt(p.dynamicChildren,A,T,k,M,ul(v,D),I):L||ie(p,v,T,null,k,M,ul(v,D),I,!1),U>0){if(U&16)At(T,$,j,k,D);else if(U&2&&$.class!==j.class&&i(T,"class",null,j.class,D),U&4&&i(T,"style",$.style,j.style,D),U&8){const se=v.dynamicProps;for(let ae=0;ae<se.length;ae++){const le=se[ae],Ee=$[le],ye=j[le];(ye!==Ee||le==="value")&&i(T,le,Ee,ye,D,k)}}U&1&&p.children!==v.children&&h(T,v.children)}else!L&&A==null&&At(T,$,j,k,D);((K=j.onVnodeUpdated)||z)&&tt(()=>{K&&St(K,k,v,p),z&&kn(v,p,k,"updated")},M)},Rt=(p,v,k,M,D,I,L)=>{for(let T=0;T<v.length;T++){const U=p[T],A=v[T],z=U.el&&(U.type===ve||!fs(U,A)||U.shapeFlag&198)?x(U.el):k;Y(U,A,z,null,M,D,I,L,!0)}},At=(p,v,k,M,D)=>{if(v!==k){if(v!==be)for(const I in v)!vs(I)&&!(I in k)&&i(p,I,v[I],null,D,M);for(const I in k){if(vs(I))continue;const L=k[I],T=v[I];L!==T&&I!=="value"&&i(p,I,T,L,D,M)}"value"in k&&i(p,"value",v.value,k.value,D)}},An=(p,v,k,M,D,I,L,T,U)=>{const A=v.el=p?p.el:d(""),z=v.anchor=p?p.anchor:d("");let{patchFlag:$,dynamicChildren:j,slotScopeIds:K}=v;K&&(T=T?T.concat(K):K),p==null?(a(A,k,M),a(z,k,M),vt(v.children||[],k,z,D,I,L,T,U)):$>0&&$&64&&j&&p.dynamicChildren?(Rt(p.dynamicChildren,j,k,D,I,L,T),(v.key!=null||D&&v===D.subTree)&&qr(p,v,!0)):ie(p,v,k,z,D,I,L,T,U)},Dn=(p,v,k,M,D,I,L,T,U)=>{v.slotScopeIds=T,p==null?v.shapeFlag&512?D.ctx.activate(v,k,M,L,U):Jn(v,k,M,D,I,L,U):gn(p,v,U)},Jn=(p,v,k,M,D,I,L)=>{const T=p.component=nf(p,M,D);if(Mr(p)&&(T.ctx.renderer=hn),of(T,!1,L),T.asyncDep){if(D&&D.registerDep(T,he,L),!p.el){const U=T.subTree=Pt(fn);q(null,U,v,k),p.placeholder=U.el}}else he(T,p,v,k,D,I,L)},gn=(p,v,k)=>{const M=v.component=p.component;if(Kd(p,v,k))if(M.asyncDep&&!M.asyncResolved){ke(M,v,k);return}else M.next=v,M.update();else v.el=p.el,M.vnode=v},he=(p,v,k,M,D,I,L)=>{const T=()=>{if(p.isMounted){let{next:$,bu:j,u:K,parent:se,vnode:ae}=p;{const Te=Wr(p);if(Te){$&&($.el=ae.el,ke(p,$,L)),Te.asyncDep.then(()=>{p.isUnmounted||T()});return}}let le=$,Ee;Pn(p,!1),$?($.el=ae.el,ke(p,$,L)):$=ae,j&&co(j),(Ee=$.props&&$.props.onVnodeBeforeUpdate)&&St(Ee,se,$,ae),Pn(p,!0);const ye=Fa(p),Ye=p.subTree;p.subTree=ye,Y(Ye,ye,x(Ye.el),vn(Ye),p,D,I),$.el=ye.el,le===null&&qd(p,ye.el),K&&tt(K,D),(Ee=$.props&&$.props.onVnodeUpdated)&&tt(()=>St(Ee,se,$,ae),D)}else{let $;const{el:j,props:K}=v,{bm:se,m:ae,parent:le,root:Ee,type:ye}=p,Ye=ys(v);Pn(p,!1),se&&co(se),!Ye&&($=K&&K.onVnodeBeforeMount)&&St($,le,v),Pn(p,!0);{Ee.ce&&Ee.ce._def.shadowRoot!==!1&&Ee.ce._injectChildStyle(ye);const Te=p.subTree=Fa(p);Y(null,Te,k,M,p,D,I),v.el=Te.el}if(ae&&tt(ae,D),!Ye&&($=K&&K.onVnodeMounted)){const Te=v;tt(()=>St($,le,Te),D)}(v.shapeFlag&256||le&&ys(le.vnode)&&le.vnode.shapeFlag&256)&&p.a&&tt(p.a,D),p.isMounted=!0,v=k=M=null}};p.scope.on();const U=p.effect=new dr(T);p.scope.off();const A=p.update=U.run.bind(U),z=p.job=U.runIfDirty.bind(U);z.i=p,z.id=p.uid,U.scheduler=()=>Ll(z),Pn(p,!0),A()},ke=(p,v,k)=>{v.component=p;const M=p.vnode.props;p.vnode=v,p.next=null,Ad(p,v.props,M,k),Md(p,v.children,k),Wt(),xa(p),Jt()},ie=(p,v,k,M,D,I,L,T,U=!1)=>{const A=p&&p.children,z=p?p.shapeFlag:0,$=v.children,{patchFlag:j,shapeFlag:K}=v;if(j>0){if(j&128){dt(A,$,k,M,D,I,L,T,U);return}else if(j&256){Dt(A,$,k,M,D,I,L,T,U);return}}K&8?(z&16&&Tt(A,D,I),$!==A&&h(k,$)):z&16?K&16?dt(A,$,k,M,D,I,L,T,U):Tt(A,D,I,!0):(z&8&&h(k,""),K&16&&vt($,k,M,D,I,L,T,U))},Dt=(p,v,k,M,D,I,L,T,U)=>{p=p||Bn,v=v||Bn;const A=p.length,z=v.length,$=Math.min(A,z);let j;for(j=0;j<$;j++){const K=v[j]=U?on(v[j]):Ct(v[j]);Y(p[j],K,k,null,D,I,L,T,U)}A>z?Tt(p,D,I,!0,!1,$):vt(v,k,M,D,I,L,T,U,$)},dt=(p,v,k,M,D,I,L,T,U)=>{let A=0;const z=v.length;let $=p.length-1,j=z-1;for(;A<=$&&A<=j;){const K=p[A],se=v[A]=U?on(v[A]):Ct(v[A]);if(fs(K,se))Y(K,se,k,null,D,I,L,T,U);else break;A++}for(;A<=$&&A<=j;){const K=p[$],se=v[j]=U?on(v[j]):Ct(v[j]);if(fs(K,se))Y(K,se,k,null,D,I,L,T,U);else break;$--,j--}if(A>$){if(A<=j){const K=j+1,se=K<z?v[K].el:M;for(;A<=j;)Y(null,v[A]=U?on(v[A]):Ct(v[A]),k,se,D,I,L,T,U),A++}}else if(A>j)for(;A<=$;)ot(p[A],D,I,!0),A++;else{const K=A,se=A,ae=new Map;for(A=se;A<=j;A++){const $e=v[A]=U?on(v[A]):Ct(v[A]);$e.key!=null&&ae.set($e.key,A)}let le,Ee=0;const ye=j-se+1;let Ye=!1,Te=0;const De=new Array(ye);for(A=0;A<ye;A++)De[A]=0;for(A=K;A<=$;A++){const $e=p[A];if(Ee>=ye){ot($e,D,I,!0);continue}let Be;if($e.key!=null)Be=ae.get($e.key);else for(le=se;le<=j;le++)if(De[le-se]===0&&fs($e,v[le])){Be=le;break}Be===void 0?ot($e,D,I,!0):(De[Be-se]=A+1,Be>=Te?Te=Be:Ye=!0,Y($e,v[Be],k,null,D,I,L,T,U),Ee++)}const Ve=Ye?Nd(De):Bn;for(le=Ve.length-1,A=ye-1;A>=0;A--){const $e=se+A,Be=v[$e],Mt=v[$e+1],mn=$e+1<z?Mt.el||Mt.placeholder:M;De[A]===0?Y(null,Be,k,mn,D,I,L,T,U):Ye&&(le<0||A!==Ve[le]?It(Be,k,mn,2):le--)}}},It=(p,v,k,M,D=null)=>{const{el:I,type:L,transition:T,children:U,shapeFlag:A}=p;if(A&6){It(p.component.subTree,v,k,M);return}if(A&128){p.suspense.move(v,k,M);return}if(A&64){L.move(p,v,k,hn);return}if(L===ve){a(I,v,k);for(let $=0;$<U.length;$++)It(U[$],v,k,M);a(p.anchor,v,k);return}if(L===fo){fe(p,v,k);return}if(M!==2&&A&1&&T)if(M===0)T.beforeEnter(I),a(I,v,k),tt(()=>T.enter(I),D);else{const{leave:$,delayLeave:j,afterLeave:K}=T,se=()=>{p.ctx.isUnmounted?r(I):a(I,v,k)},ae=()=>{I._isLeaving&&I[ld](!0),$(I,()=>{se(),K&&K()})};j?j(I,se,ae):ae()}else a(I,v,k)},ot=(p,v,k,M=!1,D=!1)=>{const{type:I,props:L,ref:T,children:U,dynamicChildren:A,shapeFlag:z,patchFlag:$,dirs:j,cacheIndex:K}=p;if($===-2&&(D=!1),T!=null&&(Wt(),bs(T,null,k,p,!0),Jt()),K!=null&&(v.renderCache[K]=void 0),z&256){v.ctx.deactivate(p);return}const se=z&1&&j,ae=!ys(p);let le;if(ae&&(le=L&&L.onVnodeBeforeUnmount)&&St(le,v,p),z&6)Qn(p.component,k,M);else{if(z&128){p.suspense.unmount(k,M);return}se&&kn(p,null,v,"beforeUnmount"),z&64?p.type.remove(p,v,k,hn,M):A&&!A.hasOnce&&(I!==ve||$>0&&$&64)?Tt(A,v,k,!1,!0):(I===ve&&$&384||!D&&z&16)&&Tt(U,v,k),M&&Ts(p)}(ae&&(le=L&&L.onVnodeUnmounted)||se)&&tt(()=>{le&&St(le,v,p),se&&kn(p,null,v,"unmounted")},k)},Ts=p=>{const{type:v,el:k,anchor:M,transition:D}=p;if(v===ve){lt(k,M);return}if(v===fo){V(p);return}const I=()=>{r(k),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(p.shapeFlag&1&&D&&!D.persisted){const{leave:L,delayLeave:T}=D,U=()=>L(k,I);T?T(p.el,I,U):U()}else I()},lt=(p,v)=>{let k;for(;p!==v;)k=O(p),r(p),p=k;r(v)},Qn=(p,v,k)=>{const{bum:M,scope:D,job:I,subTree:L,um:T,m:U,a:A}=p;Ma(U),Ma(A),M&&co(M),D.stop(),I&&(I.flags|=8,ot(L,p,v,k)),T&&tt(T,v),tt(()=>{p.isUnmounted=!0},v)},Tt=(p,v,k,M=!1,D=!1,I=0)=>{for(let L=I;L<p.length;L++)ot(p[L],v,k,M,D)},vn=p=>{if(p.shapeFlag&6)return vn(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=O(p.anchor||p.el),k=v&&v[sd];return k?O(k):v};let Yn=!1;const Ms=(p,v,k)=>{p==null?v._vnode&&ot(v._vnode,null,null,!0):Y(v._vnode||null,p,v,null,null,null,k),v._vnode=p,Yn||(Yn=!0,xa(),Ar(),Yn=!1)},hn={p:Y,um:ot,m:It,r:Ts,mt:Jn,mc:vt,pc:ie,pbc:Rt,n:vn,o:e};return{render:Ms,hydrate:void 0,createApp:xd(Ms)}}function ul({type:e,props:t},l){return l==="svg"&&e==="foreignObject"||l==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:l}function Pn({effect:e,job:t},l){l?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $d(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qr(e,t,l=!1){const a=e.children,r=t.children;if(J(a)&&J(r))for(let i=0;i<a.length;i++){const u=a[i];let d=r[i];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=r[i]=on(r[i]),d.el=u.el),!l&&d.patchFlag!==-2&&qr(u,d)),d.type===Do&&d.patchFlag!==-1&&(d.el=u.el),d.type===fn&&!d.el&&(d.el=u.el)}}function Nd(e){const t=e.slice(),l=[0];let a,r,i,u,d;const g=e.length;for(a=0;a<g;a++){const C=e[a];if(C!==0){if(r=l[l.length-1],e[r]<C){t[a]=r,l.push(a);continue}for(i=0,u=l.length-1;i<u;)d=i+u>>1,e[l[d]]<C?i=d+1:u=d;C<e[l[i]]&&(i>0&&(t[a]=l[i-1]),l[i]=a)}}for(i=l.length,u=l[i-1];i-- >0;)l[i]=u,u=t[u];return l}function Wr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Wr(t)}function Ma(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ld=Symbol.for("v-scx"),Od=()=>uo(Ld);function an(e,t,l){return Jr(e,t,l)}function Jr(e,t,l=be){const{immediate:a,deep:r,flush:i,once:u}=l,d=Ke({},l),g=t&&a||!t&&i!=="post";let C;if(xs){if(i==="sync"){const H=Od();C=H.__watcherHandles||(H.__watcherHandles=[])}else if(!g){const H=()=>{};return H.stop=kt,H.resume=kt,H.pause=kt,H}}const h=Qe;d.call=(H,te,Y)=>Et(H,h,te,Y);let x=!1;i==="post"?d.scheduler=H=>{tt(H,h&&h.suspense)}:i!=="sync"&&(x=!0,d.scheduler=(H,te)=>{te?H():Ll(H)}),d.augmentJob=H=>{t&&(H.flags|=4),x&&(H.flags|=2,h&&(H.id=h.uid,H.i=h))};const O=Xu(e,t,d);return xs&&(C?C.push(O):g&&O()),O}function Vd(e,t,l){const a=this.proxy,r=Ae(e)?e.includes(".")?Qr(a,e):()=>a[e]:e.bind(a,a);let i;ne(t)?i=t:(i=t.handler,l=t);const u=Is(this),d=Jr(r,i.bind(a),l);return u(),d}function Qr(e,t){const l=t.split(".");return()=>{let a=e;for(let r=0;r<l.length&&a;r++)a=a[l[r]];return a}}const Bd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${un(t)}Modifiers`]||e[`${pn(t)}Modifiers`];function Hd(e,t,...l){if(e.isUnmounted)return;const a=e.vnode.props||be;let r=l;const i=t.startsWith("update:"),u=i&&Bd(a,t.slice(7));u&&(u.trim&&(r=l.map(h=>Ae(h)?h.trim():h)),u.number&&(r=l.map(vo)));let d,g=a[d=ol(t)]||a[d=ol(un(t))];!g&&i&&(g=a[d=ol(pn(t))]),g&&Et(g,e,6,r);const C=a[d+"Once"];if(C){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Et(C,e,6,r)}}const jd=new WeakMap;function Yr(e,t,l=!1){const a=l?jd:t.emitsCache,r=a.get(e);if(r!==void 0)return r;const i=e.emits;let u={},d=!1;if(!ne(e)){const g=C=>{const h=Yr(C,t,!0);h&&(d=!0,Ke(u,h))};!l&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!i&&!d?(Ce(e)&&a.set(e,null),null):(J(i)?i.forEach(g=>u[g]=null):Ke(u,i),Ce(e)&&a.set(e,u),u)}function Ao(e,t){return!e||!Co(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(e,t[0].toLowerCase()+t.slice(1))||de(e,pn(t))||de(e,t))}function Fa(e){const{type:t,vnode:l,proxy:a,withProxy:r,propsOptions:[i],slots:u,attrs:d,emit:g,render:C,renderCache:h,props:x,data:O,setupState:H,ctx:te,inheritAttrs:Y}=e,_=yo(e);let q,ee;try{if(l.shapeFlag&4){const V=r||a,X=V;q=Ct(C.call(X,V,h,x,H,O,te)),ee=d}else{const V=t;q=Ct(V.length>1?V(x,{attrs:d,slots:u,emit:g}):V(x,null)),ee=t.props?d:Gd(d)}}catch(V){Ss.length=0,Eo(V,e,1),q=Pt(fn)}let fe=q;if(ee&&Y!==!1){const V=Object.keys(ee),{shapeFlag:X}=fe;V.length&&X&7&&(i&&V.some(El)&&(ee=zd(ee,i)),fe=Kn(fe,ee,!1,!0))}return l.dirs&&(fe=Kn(fe,null,!1,!0),fe.dirs=fe.dirs?fe.dirs.concat(l.dirs):l.dirs),l.transition&&Ol(fe,l.transition),q=fe,yo(_),q}const Gd=e=>{let t;for(const l in e)(l==="class"||l==="style"||Co(l))&&((t||(t={}))[l]=e[l]);return t},zd=(e,t)=>{const l={};for(const a in e)(!El(a)||!(a.slice(9)in t))&&(l[a]=e[a]);return l};function Kd(e,t,l){const{props:a,children:r,component:i}=e,{props:u,children:d,patchFlag:g}=t,C=i.emitsOptions;if(t.dirs||t.transition)return!0;if(l&&g>=0){if(g&1024)return!0;if(g&16)return a?Ua(a,u,C):!!u;if(g&8){const h=t.dynamicProps;for(let x=0;x<h.length;x++){const O=h[x];if(u[O]!==a[O]&&!Ao(C,O))return!0}}}else return(r||d)&&(!d||!d.$stable)?!0:a===u?!1:a?u?Ua(a,u,C):!0:!!u;return!1}function Ua(e,t,l){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let r=0;r<a.length;r++){const i=a[r];if(t[i]!==e[i]&&!Ao(l,i))return!0}return!1}function qd({vnode:e,parent:t},l){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=l,t=t.parent;else break}}const Xr=e=>e.__isSuspense;function Wd(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):td(e)}const ve=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),fo=Symbol.for("v-stc"),Ss=[];let nt=null;function w(e=!1){Ss.push(nt=e?null:[])}function Jd(){Ss.pop(),nt=Ss[Ss.length-1]||null}let Ps=1;function $a(e,t=!1){Ps+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function Zr(e){return e.dynamicChildren=Ps>0?nt||Bn:null,Jd(),Ps>0&&nt&&nt.push(e),e}function S(e,t,l,a,r,i){return Zr(s(e,t,l,a,r,i,!0))}function Qd(e,t,l,a,r){return Zr(Pt(e,t,l,a,r,!0))}function ei(e){return e?e.__v_isVNode===!0:!1}function fs(e,t){return e.type===t.type&&e.key===t.key}const ti=({key:e})=>e??null,po=({ref:e,ref_key:t,ref_for:l})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||ze(e)||ne(e)?{i:ct,r:e,k:t,f:!!l}:e:null);function s(e,t=null,l=null,a=0,r=null,i=e===ve?0:1,u=!1,d=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ti(t),ref:t&&po(t),scopeId:Ir,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ct};return d?(jl(g,l),i&128&&e.normalize(g)):l&&(g.shapeFlag|=Ae(l)?8:16),Ps>0&&!u&&nt&&(g.patchFlag>0||i&6)&&g.patchFlag!==32&&nt.push(g),g}const Pt=Yd;function Yd(e,t=null,l=null,a=0,r=null,i=!1){if((!e||e===bd)&&(e=fn),ei(e)){const d=Kn(e,t,!0);return l&&jl(d,l),Ps>0&&!i&&nt&&(d.shapeFlag&6?nt[nt.indexOf(e)]=d:nt.push(d)),d.patchFlag=-2,d}if(cf(e)&&(e=e.__vccOpts),t){t=Xd(t);let{class:d,style:g}=t;d&&!Ae(d)&&(t.class=Se(d)),Ce(g)&&(Nl(g)&&!J(g)&&(g=Ke({},g)),t.style=ln(g))}const u=Ae(e)?1:Xr(e)?128:od(e)?64:Ce(e)?4:ne(e)?2:0;return s(e,t,l,a,r,u,i,!0)}function Xd(e){return e?Nl(e)||Br(e)?Ke({},e):e:null}function Kn(e,t,l=!1,a=!1){const{props:r,ref:i,patchFlag:u,children:d,transition:g}=e,C=t?Zd(r||{},t):r,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:C,key:C&&ti(C),ref:t&&t.ref?l&&i?J(i)?i.concat(po(t)):[i,po(t)]:po(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kn(e.ssContent),ssFallback:e.ssFallback&&Kn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&a&&Ol(h,g.clone(h)),h}function Q(e=" ",t=0){return Pt(Do,null,e,t)}function Na(e,t){const l=Pt(fo,null,e);return l.staticCount=t,l}function F(e="",t=!1){return t?(w(),Qd(fn,null,e)):Pt(fn,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Pt(fn):J(e)?Pt(ve,null,e.slice()):ei(e)?on(e):Pt(Do,null,String(e))}function on(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kn(e)}function jl(e,t){let l=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(J(t))l=16;else if(typeof t=="object")if(a&65){const r=t.default;r&&(r._c&&(r._d=!1),jl(e,r()),r._c&&(r._d=!0));return}else{l=32;const r=t._;!r&&!Br(t)?t._ctx=ct:r===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:ct},l=32):(t=String(t),a&64?(l=16,t=[Q(t)]):l=8);e.children=t,e.shapeFlag|=l}function Zd(...e){const t={};for(let l=0;l<e.length;l++){const a=e[l];for(const r in a)if(r==="class")t.class!==a.class&&(t.class=Se([t.class,a.class]));else if(r==="style")t.style=ln([t.style,a.style]);else if(Co(r)){const i=t[r],u=a[r];u&&i!==u&&!(J(i)&&i.includes(u))&&(t[r]=i?[].concat(i,u):u)}else r!==""&&(t[r]=a[r])}return t}function St(e,t,l,a=null){Et(e,t,7,[l,a])}const ef=Lr();let tf=0;function nf(e,t,l){const a=e.type,r=(t?t.appContext:e.appContext)||ef,i={uid:tf++,vnode:e,type:a,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ku(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jr(a,r),emitsOptions:Yr(a,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:a.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Hd.bind(null,i),e.ce&&e.ce(i),i}let Qe=null;const sf=()=>Qe||ct;let _o,kl;{const e=Po(),t=(l,a)=>{let r;return(r=e[l])||(r=e[l]=[]),r.push(a),i=>{r.length>1?r.forEach(u=>u(i)):r[0](i)}};_o=t("__VUE_INSTANCE_SETTERS__",l=>Qe=l),kl=t("__VUE_SSR_SETTERS__",l=>xs=l)}const Is=e=>{const t=Qe;return _o(e),e.scope.on(),()=>{e.scope.off(),_o(t)}},La=()=>{Qe&&Qe.scope.off(),_o(null)};function ni(e){return e.vnode.shapeFlag&4}let xs=!1;function of(e,t=!1,l=!1){t&&kl(t);const{props:a,children:r}=e.vnode,i=ni(e);Rd(e,a,i,t),Td(e,r,l||t);const u=i?lf(e,t):void 0;return t&&kl(!1),u}function lf(e,t){const l=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yd);const{setup:a}=l;if(a){Wt();const r=e.setupContext=a.length>1?rf(e):null,i=Is(e),u=Ds(a,e,0,[e.props,r]),d=sr(u);if(Jt(),i(),(d||e.sp)&&!ys(e)&&Tr(e),d){if(u.then(La,La),t)return u.then(g=>{Oa(e,g)}).catch(g=>{Eo(g,e,0)});e.asyncDep=u}else Oa(e,u)}else si(e)}function Oa(e,t,l){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ce(t)&&(e.setupState=xr(t)),si(e)}function si(e,t,l){const a=e.type;e.render||(e.render=a.render||kt);{const r=Is(e);Wt();try{wd(e)}finally{Jt(),r()}}}const af={get(e,t){return Ge(e,"get",""),e[t]}};function rf(e){const t=l=>{e.exposed=l||{}};return{attrs:new Proxy(e.attrs,af),slots:e.slots,emit:e.emit,expose:t}}function Io(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(xr(zu(e.exposed)),{get(t,l){if(l in t)return t[l];if(l in ws)return ws[l](e)},has(t,l){return l in t||l in ws}})):e.proxy}function cf(e){return ne(e)&&"__vccOpts"in e}const Pe=(e,t)=>Qu(e,t,xs),uf="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pl;const Va=typeof window<"u"&&window.trustedTypes;if(Va)try{Pl=Va.createPolicy("vue",{createHTML:e=>e})}catch{}const oi=Pl?e=>Pl.createHTML(e):e=>e,df="http://www.w3.org/2000/svg",ff="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,Ba=jt&&jt.createElement("template"),pf={insert:(e,t,l)=>{t.insertBefore(e,l||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,l,a)=>{const r=t==="svg"?jt.createElementNS(df,e):t==="mathml"?jt.createElementNS(ff,e):l?jt.createElement(e,{is:l}):jt.createElement(e);return e==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,l,a,r,i){const u=l?l.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),l),!(r===i||!(r=r.nextSibling)););else{Ba.innerHTML=oi(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const d=Ba.content;if(a==="svg"||a==="mathml"){const g=d.firstChild;for(;g.firstChild;)d.appendChild(g.firstChild);d.removeChild(g)}t.insertBefore(d,l)}return[u?u.nextSibling:t.firstChild,l?l.previousSibling:t.lastChild]}},gf=Symbol("_vtc");function vf(e,t,l){const a=e[gf];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):l?e.setAttribute("class",t):e.className=t}const Ha=Symbol("_vod"),hf=Symbol("_vsh"),mf=Symbol(""),bf=/(?:^|;)\s*display\s*:/;function yf(e,t,l){const a=e.style,r=Ae(l);let i=!1;if(l&&!r){if(t)if(Ae(t))for(const u of t.split(";")){const d=u.slice(0,u.indexOf(":")).trim();l[d]==null&&go(a,d,"")}else for(const u in t)l[u]==null&&go(a,u,"");for(const u in l)u==="display"&&(i=!0),go(a,u,l[u])}else if(r){if(t!==l){const u=a[mf];u&&(l+=";"+u),a.cssText=l,i=bf.test(l)}}else t&&e.removeAttribute("style");Ha in e&&(e[Ha]=i?a.display:"",e[hf]&&(a.display="none"))}const ja=/\s*!important$/;function go(e,t,l){if(J(l))l.forEach(a=>go(e,t,a));else if(l==null&&(l=""),t.startsWith("--"))e.setProperty(t,l);else{const a=wf(e,t);ja.test(l)?e.setProperty(pn(a),l.replace(ja,""),"important"):e[a]=l}}const Ga=["Webkit","Moz","ms"],dl={};function wf(e,t){const l=dl[t];if(l)return l;let a=un(t);if(a!=="filter"&&a in e)return dl[t]=a;a=ar(a);for(let r=0;r<Ga.length;r++){const i=Ga[r]+a;if(i in e)return dl[t]=i}return t}const za="http://www.w3.org/1999/xlink";function Ka(e,t,l,a,r,i=_u(t)){a&&t.startsWith("xlink:")?l==null?e.removeAttributeNS(za,t.slice(6,t.length)):e.setAttributeNS(za,t,l):l==null||i&&!ir(l)?e.removeAttribute(t):e.setAttribute(t,i?"":xt(l)?String(l):l)}function qa(e,t,l,a,r){if(t==="innerHTML"||t==="textContent"){l!=null&&(e[t]=t==="innerHTML"?oi(l):l);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const d=i==="OPTION"?e.getAttribute("value")||"":e.value,g=l==null?e.type==="checkbox"?"on":"":String(l);(d!==g||!("_value"in e))&&(e.value=g),l==null&&e.removeAttribute(t),e._value=l;return}let u=!1;if(l===""||l==null){const d=typeof e[t];d==="boolean"?l=ir(l):l==null&&d==="string"?(l="",u=!0):d==="number"&&(l=0,u=!0)}try{e[t]=l}catch{}u&&e.removeAttribute(r||t)}function rn(e,t,l,a){e.addEventListener(t,l,a)}function Sf(e,t,l,a){e.removeEventListener(t,l,a)}const Wa=Symbol("_vei");function _f(e,t,l,a,r=null){const i=e[Wa]||(e[Wa]={}),u=i[t];if(a&&u)u.value=a;else{const[d,g]=Cf(t);if(a){const C=i[t]=xf(a,r);rn(e,d,C,g)}else u&&(Sf(e,d,u,g),i[t]=void 0)}}const Ja=/(?:Once|Passive|Capture)$/;function Cf(e){let t;if(Ja.test(e)){t={};let a;for(;a=e.match(Ja);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pn(e.slice(2)),t]}let fl=0;const kf=Promise.resolve(),Pf=()=>fl||(kf.then(()=>fl=0),fl=Date.now());function xf(e,t){const l=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=l.attached)return;Et(Ef(a,l.value),t,5,[a])};return l.value=e,l.attached=Pf(),l}function Ef(e,t){if(J(t)){const l=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{l.call(e),e._stopped=!0},t.map(a=>r=>!r._stopped&&a&&a(r))}else return t}const Qa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rf=(e,t,l,a,r,i)=>{const u=r==="svg";t==="class"?vf(e,a,u):t==="style"?yf(e,l,a):Co(t)?El(t)||_f(e,t,l,a,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Af(e,t,a,u))?(qa(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ka(e,t,a,u,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ae(a))?qa(e,un(t),a,i,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Ka(e,t,a,u))};function Af(e,t,l,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qa(t)&&ne(l));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Qa(t)&&Ae(l)?!1:t in e}const qn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return J(t)?l=>co(t,l):t};function Df(e){e.target.composing=!0}function Ya(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qt=Symbol("_assign"),je={created(e,{modifiers:{lazy:t,trim:l,number:a}},r){e[qt]=qn(r);const i=a||r.props&&r.props.type==="number";rn(e,t?"change":"input",u=>{if(u.target.composing)return;let d=e.value;l&&(d=d.trim()),i&&(d=vo(d)),e[qt](d)}),l&&rn(e,"change",()=>{e.value=e.value.trim()}),t||(rn(e,"compositionstart",Df),rn(e,"compositionend",Ya),rn(e,"change",Ya))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:l,modifiers:{lazy:a,trim:r,number:i}},u){if(e[qt]=qn(u),e.composing)return;const d=(i||e.type==="number")&&!/^0\d/.test(e.value)?vo(e.value):e.value,g=t??"";d!==g&&(document.activeElement===e&&e.type!=="range"&&(a&&t===l||r&&e.value.trim()===g)||(e.value=g))}},ps={deep:!0,created(e,t,l){e[qt]=qn(l),rn(e,"change",()=>{const a=e._modelValue,r=Es(e),i=e.checked,u=e[qt];if(J(a)){const d=Dl(a,r),g=d!==-1;if(i&&!g)u(a.concat(r));else if(!i&&g){const C=[...a];C.splice(d,1),u(C)}}else if(Wn(a)){const d=new Set(a);i?d.add(r):d.delete(r),u(d)}else u(li(e,i))})},mounted:Xa,beforeUpdate(e,t,l){e[qt]=qn(l),Xa(e,t,l)}};function Xa(e,{value:t,oldValue:l},a){e._modelValue=t;let r;if(J(t))r=Dl(t,a.props.value)>-1;else if(Wn(t))r=t.has(a.props.value);else{if(t===l)return;r=As(t,li(e,!0))}e.checked!==r&&(e.checked=r)}const it={deep:!0,created(e,{value:t,modifiers:{number:l}},a){const r=Wn(t);rn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>l?vo(Es(u)):Es(u));e[qt](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,Vn(()=>{e._assigning=!1})}),e[qt]=qn(a)},mounted(e,{value:t}){Za(e,t)},beforeUpdate(e,t,l){e[qt]=qn(l)},updated(e,{value:t}){e._assigning||Za(e,t)}};function Za(e,t){const l=e.multiple,a=J(t);if(!(l&&!a&&!Wn(t))){for(let r=0,i=e.options.length;r<i;r++){const u=e.options[r],d=Es(u);if(l)if(a){const g=typeof d;g==="string"||g==="number"?u.selected=t.some(C=>String(C)===String(d)):u.selected=Dl(t,d)>-1}else u.selected=t.has(d);else if(As(Es(u),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!l&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Es(e){return"_value"in e?e._value:e.value}function li(e,t){const l=t?"_trueValue":"_falseValue";return l in e?e[l]:t}const If=["ctrl","shift","alt","meta"],Tf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>If.some(l=>e[`${l}Key`]&&!t.includes(l))},ge=(e,t)=>{const l=e._withMods||(e._withMods={}),a=t.join(".");return l[a]||(l[a]=(r,...i)=>{for(let u=0;u<t.length;u++){const d=Tf[t[u]];if(d&&d(r,t))return}return e(r,...i)})},Mf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ao=(e,t)=>{const l=e._withKeys||(e._withKeys={}),a=t.join(".");return l[a]||(l[a]=r=>{if(!("key"in r))return;const i=pn(r.key);if(t.some(u=>u===i||Mf[u]===i))return e(r)})},Ff=Ke({patchProp:Rf},pf);let er;function Uf(){return er||(er=Fd(Ff))}const $f=(...e)=>{const t=Uf().createApp(...e),{mount:l}=t;return t.mount=a=>{const r=Lf(a);if(!r)return;const i=t._component;!ne(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const u=l(r,!1,Nf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),u},t};function Nf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lf(e){return Ae(e)?document.querySelector(e):e}const pl="light",gl="medium",Of={light:{bgPrimary:"#ffffff",bgSecondary:"#fafafa",bgTertiary:"#f3f4f6",bgHover:"#f9fafb",textPrimary:"#111827",textSecondary:"#374151",textTertiary:"#6b7280",borderPrimary:"#e5e7eb",borderSecondary:"#d1d5db",accentPrimary:"#3b82f6",accentHover:"#2563eb",buttonBg:"#f3f4f6",buttonText:"#111827",buttonHoverBg:"#e5e7eb",selectedBg:"#dbeafe",selectedText:"#1e40af",disabledText:"#9ca3af",successColor:"#10b981",warningColor:"#f59e0b",errorColor:"#ef4444",modalBg:"#ffffff",modalOverlay:"rgba(0, 0, 0, 0.4)",modalBorder:"#d1d5db",scrollbarTrack:"#f3f4f6",scrollbarThumb:"#d1d5db",scrollbarThumbHover:"#9ca3af"},dark:{bgPrimary:"#36393f",bgSecondary:"#2f3136",bgTertiary:"#202225",bgHover:"#3c3f45",textPrimary:"#dcddde",textSecondary:"#b9bbbe",textTertiary:"#8e9297",borderPrimary:"#202225",borderSecondary:"#2f3136",accentPrimary:"#5865f2",accentHover:"#4752c4",buttonBg:"#4f545c",buttonText:"#ffffff",buttonHoverBg:"#5d6269",selectedBg:"#404449",selectedText:"#ffffff",disabledText:"#72767d",successColor:"#3ba55d",warningColor:"#faa81a",errorColor:"#ed4245",modalBg:"#36393f",modalOverlay:"rgba(0, 0, 0, 0.7)",modalBorder:"#1a1c1e",scrollbarTrack:"#2f3136",scrollbarThumb:"#1a1c1e",scrollbarThumbHover:"#3a3d42"},onyx:{bgPrimary:"#000000",bgSecondary:"#1a1a1a",bgTertiary:"#0a0a0a",bgHover:"#2a2a2a",textPrimary:"#ffffff",textSecondary:"#e0e0e0",textTertiary:"#a0a0a0",borderPrimary:"#333333",borderSecondary:"#444444",accentPrimary:"#00a8ff",accentHover:"#0088cc",buttonBg:"#2a2a2a",buttonText:"#ffffff",buttonHoverBg:"#3a3a3a",selectedBg:"#1a3a5a",selectedText:"#ffffff",disabledText:"#666666",successColor:"#00d26a",warningColor:"#ffaa00",errorColor:"#ff4444",modalBg:"#000000",modalOverlay:"rgba(0, 0, 0, 0.85)",modalBorder:"#444444",scrollbarTrack:"#0a0a0a",scrollbarThumb:"#1a1a1a",scrollbarThumbHover:"#2a2a2a"},ash:{bgPrimary:"#4a4a4a",bgSecondary:"#3a3a3a",bgTertiary:"#2a2a2a",bgHover:"#555555",textPrimary:"#ffffff",textSecondary:"#e8e8e8",textTertiary:"#b0b0b0",borderPrimary:"#5a5a5a",borderSecondary:"#6a6a6a",accentPrimary:"#60a5fa",accentHover:"#3b82f6",buttonBg:"#5a5a5a",buttonText:"#ffffff",buttonHoverBg:"#6a6a6a",selectedBg:"#2563eb",selectedText:"#ffffff",disabledText:"#808080",successColor:"#34d399",warningColor:"#fbbf24",errorColor:"#f87171",modalBg:"#4a4a4a",modalOverlay:"rgba(0, 0, 0, 0.6)",modalBorder:"#2a2a2a",scrollbarTrack:"#3a3a3a",scrollbarThumb:"#2a2a2a",scrollbarThumbHover:"#555555"}},Vf={small:{baseFontSize:"13px",smallFontSize:"11px",mediumFontSize:"13px",largeFontSize:"15px",inputPadding:"4px 6px",buttonPadding:"4px 8px"},medium:{baseFontSize:"14px",smallFontSize:"12px",mediumFontSize:"14px",largeFontSize:"16px",inputPadding:"6px 8px",buttonPadding:"6px 10px"},large:{baseFontSize:"16px",smallFontSize:"14px",mediumFontSize:"16px",largeFontSize:"18px",inputPadding:"8px 10px",buttonPadding:"8px 12px"},xlarge:{baseFontSize:"18px",smallFontSize:"16px",mediumFontSize:"18px",largeFontSize:"20px",inputPadding:"10px 12px",buttonPadding:"10px 14px"}};function ro(e){const t=Of[e],l=document.documentElement;Object.entries(t).forEach(([a,r])=>{l.style.setProperty(`--${ai(a)}`,r)}),l.setAttribute("data-theme",e)}function io(e){const t=Vf[e],l=document.documentElement;Object.entries(t).forEach(([a,r])=>{l.style.setProperty(`--${ai(a)}`,r)}),l.setAttribute("data-text-size",e)}function ai(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Bf(e){return{small:"Small",medium:"Medium",large:"Large",xlarge:"Extra Large"}[e]}function Hf(e,t){if(!t)return!0;const a=t.trim().split(/\s+/).filter(r=>r.length>0);for(const r of a)if(!jf(e,r))return!1;return!0}function jf(e,t){const l=t.startsWith("-"),a=l?t.substring(1):t,r=Gf(e,a);return l?!r:r}function Gf(e,t){var i,u,d,g,C,h,x,O,H,te,Y;const l=t.toLowerCase(),a=l.match(/^(\w+):(>|<|>=|<=)?(.+)$/);if(a){const[,_,q,ee]=a;if(_==="rating"){const V=e.Publicrating??0,X=parseFloat(ee);return isNaN(X)?!1:q===">"?V>X:q==="<"?V<X:q===">="?V>=X:q==="<="?V<=X:V===X}if(_==="version"){const V=e.CurrentVersion??1,X=parseInt(ee);return isNaN(X)?!1:q===">"?V>X:q==="<"?V<X:q===">="?V>=X:q==="<="?V<=X:V===X}if(["length","added"].includes(_)){const V=tr(e,_);if(V===null)return!1;const X=parseFloat(V),Ue=parseFloat(ee);return isNaN(X)||isNaN(Ue)?V.toLowerCase().includes(ee.toLowerCase()):q===">"?X>Ue:q==="<"?X<Ue:q===">="?X>=Ue:q==="<="?X<=Ue:X===Ue}const fe=tr(e,_);return fe===null?!1:fe.toLowerCase().includes(ee.toLowerCase())}return[e.Id,e.Name,e.Type,e.Author,e.Length,e.Status,String(e.MyDifficultyRating??""),String(e.MyReviewRating??""),String(e.Publicrating??""),String(e.Mynotes??""),(i=e.JsonData)!=null&&i.added?String(e.JsonData.added):"",(u=e.JsonData)!=null&&u.difficulty?String(e.JsonData.difficulty):"",(d=e.JsonData)!=null&&d.gametype?String(e.JsonData.gametype):"",(g=e.JsonData)!=null&&g.legacy_type?String(e.JsonData.legacy_type):"",(C=e.JsonData)!=null&&C.demo?String(e.JsonData.demo):"",(h=e.JsonData)!=null&&h.featured?String(e.JsonData.featured):"",(x=e.JsonData)!=null&&x.obsoleted?String(e.JsonData.obsoleted):"",(O=e.JsonData)!=null&&O.removed?String(e.JsonData.removed):"",(H=e.JsonData)!=null&&H.moderated?String(e.JsonData.moderated):"",(te=e.JsonData)!=null&&te.tags?String(e.JsonData.tags):"",(Y=e.JsonData)!=null&&Y.section?String(e.JsonData.section):""].join(" ").toLowerCase().includes(l)}function tr(e,t){const l={id:e.Id,name:e.Name,type:e.Type,author:e.Author,length:e.Length,status:e.Status,rating:e.Publicrating,notes:e.Mynotes,version:e.CurrentVersion};return l[t]!==void 0?String(l[t]??""):e.JsonData&&e.JsonData[t]!==void 0?String(e.JsonData[t]):null}const zf={class:"layout"},Kf={class:"toolbar"},qf={class:"left-controls"},Wf={key:0,class:"usb2snes-dropdown-container"},Jf={class:"usb2snes-dropdown-header"},Qf={class:"status-indicators"},Yf={class:"status-item"},Xf={class:"status-item"},Zf={key:0,class:"connection-info"},ep={class:"info-item"},tp={class:"info-item"},np={class:"info-item"},sp={class:"dropdown-header-actions"},op={key:1,class:"action-status-display"},lp={class:"usb2snes-dropdown-actions"},ap={class:"action-grid"},rp=["disabled"],ip=["disabled"],cp=["disabled"],up=["disabled"],dp={class:"usb2snes-dropdown-chat"},fp={class:"minichat-log"},pp={class:"chat-message-mini"},gp={key:0,class:"minichat-empty"},vp={class:"minichat-input-row"},hp=["disabled"],mp=["disabled"],bp={class:"filter-dropdown-container"},yp={key:0,class:"filter-indicator"},wp={class:"filter-body"},Sp={class:"filter-search-row"},_p=["disabled"],Cp={class:"common-filters"},kp={class:"filter-tags"},Pp={class:"filter-dropdown-container"},xp={class:"simple-dropdown-body"},Ep=["disabled"],Rp=["disabled"],Ap=["disabled"],Dp={class:"filter-dropdown-container"},Ip={class:"simple-dropdown-body"},Tp=["disabled"],Mp=["disabled"],Fp=["disabled"],Up={class:"status-setter"},$p=["disabled"],Np={class:"toggle"},Lp={class:"toggle"},Op={class:"right-actions"},Vp=["disabled"],Bp=["disabled"],Hp=["disabled"],jp={key:0,class:"snes-contents-dropdown-container"},Gp={class:"snes-contents-header"},zp={class:"show-all-checkbox"},Kp={class:"snes-contents-list"},qp={key:0,class:"snes-contents-empty"},Wp={class:"snes-file-info"},Jp={class:"snes-file-name"},Qp={key:0,class:"pin-indicator"},Yp={class:"snes-file-meta"},Xp={key:0,class:"game-name"},Zp={key:1,class:"game-id"},eg={key:2,class:"unknown-file"},tg={key:3,class:"upload-time"},ng={class:"snes-file-actions"},sg=["onClick"],og=["onClick"],lg=["onClick"],ag=["onClick"],rg={class:"content"},ig={class:"table-wrapper"},cg={key:0,class:"loading-overlay"},ug={key:1,class:"error-message"},dg={class:"data-table"},fg={class:"col-check"},pg=["checked"],gg=["onClick"],vg={class:"col-check"},hg=["checked","onChange"],mg={class:"action"},bg={class:"notes"},yg={key:0},wg={class:"sidebar"},Sg={key:0,class:"panel"},_g={class:"panel-body details"},Cg={class:"kv-table"},kg=["value"],Pg={class:"readonly-field"},xg={class:"readonly-field"},Eg={class:"readonly-field"},Rg={key:0},Ag={class:"readonly-field"},Dg={class:"readonly-field"},Ig={class:"readonly-field"},Tg={class:"readonly-field"},Mg={class:"readonly-field"},Fg={class:"star-rating"},Ug=["onClick"],$g={class:"rating-label"},Ng={class:"star-rating"},Lg=["onClick"],Og={class:"rating-label"},Vg={class:"skill-rating-container"},Bg={class:"star-rating skill-rating"},Hg=["onClick","title"],jg={class:"rating-label"},Gg={key:0,class:"skill-caption"},zg={colspan:"2",style:{"padding-top":"12px"}},Kg={class:"detail-actions"},qg=["disabled"],Wg={key:1,class:"panel"},Jg={class:"panel-actions"},Qg=["disabled"],Yg=["disabled"],Xg=["disabled"],Zg=["disabled"],ev={class:"panel-body stages"},tv={class:"data-table"},nv={class:"col-check"},sv=["checked"],ov={class:"col-check"},lv=["checked","onChange"],av={key:0},rv={key:2,class:"panel"},iv={class:"modal"},cv={class:"modal-header"},uv={class:"modal-header-actions"},dv=["title"],fv=["disabled"],pv=["disabled"],gv=["disabled"],vv={class:"run-timer"},hv={key:0,class:"pause-time"},mv={class:"run-progress"},bv=["disabled"],yv=["disabled"],wv=["disabled","title"],Sv=["disabled"],_v={key:0,class:"modal-toolbar"},Cv={class:"left"},kv=["disabled"],Pv=["disabled"],xv=["disabled"],Ev={class:"right add-random"},Rv=["value"],Av=["value"],Dv=["disabled"],Iv={key:0,class:"error-text"},Tv={class:"modal-body"},Mv={class:"table-wrapper"},Fv={class:"data-table"},Uv={class:"col-check"},$v=["checked"],Nv={key:0,class:"col-status"},Lv={key:1,class:"col-duration"},Ov=["draggable","onDragstart","onDragover","onDrop"],Vv={class:"col-check"},Bv=["checked","onChange","disabled"],Hv={class:"col-seq"},jv={class:"status-icon"},Gv={key:1,class:"col-duration"},zv={class:"col-actions"},Kv=["onClick","disabled"],qv=["onClick","disabled"],Wv={class:"readonly-text"},Jv={class:"col-count"},Qv=["max","onUpdate:modelValue","disabled","title"],Yv={key:2},Xv={class:"readonly-text"},Zv={key:3},eh={key:4},th={class:"readonly-text"},nh={key:5},sh={key:6,class:"col-pattern"},oh={class:"readonly-text"},lh={key:7,class:"col-pattern"},ah={key:8,class:"col-matches"},rh={key:9,class:"col-matches"},ih={key:10,class:"col-seed"},ch=["onUpdate:modelValue","disabled"],uh={key:11,class:"col-seed"},dh={class:"col-conditions"},fh=["onClick","disabled","title"],ph={key:0},gh={class:"modal json-modal"},vh={class:"modal-body json-body"},hh={class:"modal settings-modal"},mh={class:"modal-body settings-body"},bh={class:"settings-section"},yh={class:"setting-row"},wh={class:"setting-control"},Sh={class:"settings-section"},_h={class:"setting-row"},Ch={class:"setting-control"},kh={class:"text-size-label"},Ph={class:"settings-section"},xh={class:"setting-row"},Eh={class:"setting-label"},Rh={class:"status-icon"},Ah={class:"setting-control"},Dh={key:0,class:"setting-current-path"},Ih={class:"settings-section"},Th={class:"setting-row"},Mh={class:"setting-label"},Fh={class:"status-icon"},Uh={class:"setting-control"},$h={key:0,class:"setting-current-path"},Nh={class:"settings-section"},Lh={class:"setting-row"},Oh={class:"setting-control"},Vh={class:"settings-section"},Bh={class:"setting-row"},Hh={class:"setting-control"},jh={key:0,class:"setting-current-path"},Gh={class:"settings-section"},zh={class:"setting-row"},Kh={class:"setting-control"},qh={class:"settings-section"},Wh={class:"setting-row"},Jh={class:"setting-control"},Qh={class:"settings-section"},Yh={class:"setting-row"},Xh={class:"setting-control"},Zh={class:"settings-section"},em={class:"setting-row"},tm={class:"setting-control"},nm={class:"settings-section"},sm={class:"setting-row"},om={class:"setting-control"},lm={class:"settings-section"},am={class:"setting-row"},rm={class:"setting-control"},im={class:"settings-section"},cm={class:"setting-row"},um={class:"setting-control"},dm={class:"settings-section"},fm={class:"setting-row"},pm={class:"setting-label"},gm={class:"status-icon"},vm={class:"setting-control"},hm={key:0,class:"setting-current-path"},mm={class:"settings-section"},bm={class:"setting-row"},ym={class:"setting-label"},wm={class:"status-icon"},Sm={class:"setting-control"},_m={key:0,class:"setting-current-path"},Cm={class:"settings-section"},km={class:"setting-row"},Pm={class:"setting-label"},xm={class:"status-icon"},Em={class:"setting-control"},Rm={key:0,class:"setting-current-path"},Am={class:"modal usb2snes-tools-modal"},Dm={class:"modal-body"},Im={class:"usb2snes-section"},Tm={class:"status-row"},Mm=["disabled"],Fm={key:0,class:"setting-caption warning"},Um={class:"usb2snes-section"},$m={class:"status-row"},Nm={class:"status-row"},Lm={class:"status-row"},Om={key:0,class:"status-row"},Vm={key:1,class:"status-row"},Bm={key:2,class:"status-row"},Hm={class:"action-buttons"},jm={key:3,class:"create-dir-row"},Gm={class:"dir-caption"},zm={class:"usb2snes-section"},Km={class:"status-row"},qm={class:"status-row"},Wm={class:"status-row"},Jm={class:"usb2snes-section"},Qm={class:"diagnostic-info"},Ym={class:"usb2snes-section"},Xm={class:"debug-status",style:{padding:"8px",background:"#2a2a2a",border:"1px solid #444","border-radius":"4px","margin-bottom":"12px","font-family":"monospace","font-size":"12px"}},Zm={class:"action-buttons"},eb=["disabled"],tb=["disabled"],nb={class:"usb2snes-section"},sb={class:"action-buttons"},ob=["disabled"],lb=["disabled"],ab={class:"usb2snes-section"},rb={class:"file-upload-section"},ib={class:"file-upload-row"},cb={key:0,class:"selected-file"},ub={key:1,class:"no-file"},db=["disabled"],fb={key:0,class:"setting-caption warning"},pb={class:"usb2snes-section"},gb={class:"chat-section"},vb={class:"chat-timestamp"},hb={class:"chat-message"},mb={key:0,class:"chat-empty"},bb={class:"chat-input-row"},yb=["disabled"],wb={class:"chat-help"},Sb={key:0,class:"loaded-modules"},_b={class:"module-list"},Cb={class:"module-addr"},kb={class:"modal command-help-modal"},Pb={class:"modal-header"},xb={class:"modal-footer"},Eb={key:5,class:"modal-backdrop upload-progress-backdrop"},Rb={class:"modal upload-progress-modal"},Ab={class:"modal-body"},Db={class:"upload-progress-content"},Ib={class:"upload-file-info"},Tb={class:"progress-bar-container"},Mb={class:"progress-bar-text"},Fb={class:"modal-footer"},Ub={class:"modal upload-file-modal"},$b={class:"modal-body"},Nb={class:"upload-file-content"},Lb={class:"file-selector"},Ob={key:0,class:"selected-file-info"},Vb={key:0},Bb={key:0,class:"upload-actions"},Hb={class:"modal cheats-modal"},jb={class:"modal-body"},Gb={class:"cheats-content"},zb={key:0,class:"action-status-display cheat-status"},Kb={class:"modal challenges-modal"},qb={class:"modal-body"},Wb={class:"challenges-content"},Jb={key:0,class:"action-status-display challenge-status"},Qb={class:"modal full-chat-modal"},Yb={class:"modal-body"},Xb={class:"full-chat-content"},Zb={class:"chat-status-bar"},e1={class:"status-item-inline"},t1={key:0,class:"rom-name"},n1={class:"quick-commands"},s1={class:"chat-timestamp"},o1={class:"chat-message"},l1={key:0,class:"chat-empty"},a1={class:"chat-input-row-fullsize"},r1=["disabled"],i1={class:"chat-help-section"},c1={key:0,class:"loaded-modules-fullchat"},u1={class:"module-list-inline"},d1={class:"modal run-name-modal"},f1={class:"modal-body run-name-body"},p1={key:11,class:"modal-backdrop"},g1={class:"modal resume-run-modal"},v1={class:"modal-body resume-run-body"},h1={class:"run-info"},m1={class:"run-info-row"},b1={class:"value"},y1={class:"run-info-row"},w1={class:"value"},S1={class:"run-info-row"},_1={class:"value"},C1={key:0,class:"run-info-row"},k1={class:"value pause-time"},P1={key:12,class:"modal-backdrop"},x1={class:"modal staging-progress-modal"},E1={class:"modal-body"},R1={class:"progress-info"},A1={class:"progress-bar"},D1={class:"progress-text"},I1={class:"progress-game"},T1={key:13,class:"modal-backdrop"},M1={class:"modal run-upload-progress-modal"},F1={class:"modal-body"},U1={class:"progress-info"},$1={class:"progress-bar"},N1={class:"progress-text"},L1={class:"progress-bar"},O1={class:"progress-text"},V1={class:"status-log-container"},B1=["value"],H1={class:"modal-footer"},j1={class:"modal past-runs-modal"},G1={class:"modal-body"},z1={class:"past-runs-controls"},K1=["disabled"],q1={class:"past-runs-content"},W1={class:"past-runs-table-wrapper"},J1={class:"data-table"},Q1=["onClick"],Y1=["checked","onChange","disabled"],X1={key:0},Z1={key:0,class:"past-runs-inspector"},ey={class:"inspector-content"},ty={class:"detail-row"},ny={class:"detail-row"},sy={class:"detail-row"},oy={class:"detail-row"},ly={class:"detail-row"},ay={key:0,class:"detail-row"},ry={key:1,class:"results-section"},iy={class:"results-table"},cy={key:2,class:"plan-section"},uy={key:15,class:"modal-backdrop"},dy={class:"modal staging-success-modal"},fy={class:"modal-body"},py={class:"success-info"},gy={class:"success-message"},vy={class:"folder-info"},hy={class:"folder-path"},my=["value"],by={class:"launch-instructions"},yy={class:"quick-actions-buttons"},wy={key:0,class:"action-group"},Sy={key:1,class:"action-group"},_y={key:0,class:"action-status-display"},Cy={key:16,class:"modal-backdrop"},ky={class:"modal staging-progress-modal"},Py={class:"modal-body"},xy={class:"progress-info"},Ey={class:"progress-bar"},Ry={class:"progress-text"},Ay={class:"progress-game"},Dy={key:17,class:"modal-backdrop"},Iy={class:"modal staging-success-modal"},Ty={class:"modal-body"},My={class:"success-info"},Fy={class:"success-message"},Uy={class:"folder-info"},$y={class:"folder-path"},Ny=["value"],Ly={class:"launch-instructions"},Oy={class:"quick-actions-buttons"},Vy={key:0,class:"action-group"},By={key:1,class:"action-group"},Hy={key:0,class:"action-status-display quick-launch-status"},jy=ad({__name:"App",setup(e){function t(o,n){let f=null;return(...y)=>{f&&clearTimeout(f),f=setTimeout(()=>o(...y),n)}}const l=R(!1),a=R(null),r=Gt([]),i=R(new Set),u=R(""),d=R(!1),g=R(!1),C=R(""),h=R(!1),x=R(null),O=R(!1),H=R(!1),te=R(!1),Y=R("usb2snes_a"),_=Gt({connected:!1,device:"",lastAttempt:"",lastError:"",firmwareVersion:"",versionString:"",romRunning:""}),q=R(1),ee=Pe(()=>{const o=u.value.trim();return r.filter(n=>!d.value&&n.Hidden||g.value&&n.Status==="Finished"?!1:Hf(n,o))}),fe=Pe(()=>u.value.trim().length>0||g.value||d.value),V=Pe(()=>i.value.size),X=Pe(()=>i.value.size===1),Ue=Pe(()=>i.value.size>=1&&i.value.size<=21),st=Pe(()=>ee.value.length===0?!1:ee.value.every(o=>i.value.has(o.Id)));function vt(o){if(o.target.checked)for(const f of ee.value)i.value.add(f.Id);else for(const f of ee.value)i.value.delete(f.Id)}function Rn(o){const n=i.value.has(o.Id);i.value.clear(),n||i.value.add(o.Id)}function Rt(o,n){n.target.checked?i.value.add(o):i.value.delete(o)}function At(o){return N.some(n=>n.entryType==="game"&&n.id===o)}function An(){const o=r.filter(f=>i.value.has(f.Id));let n=0;for(const f of o){if(At(f.Id))continue;const y=`game-${f.Id}-${Date.now()}-${n}`;N.push({key:y,id:f.Id,entryType:"game",name:f.Name,stageNumber:"",stageName:"",count:1,filterDifficulty:"",filterType:"",filterPattern:"",seed:"",isLocked:!0,conditions:[]}),n++}i.value.clear(),console.log(`Added ${n} games to run`)}function Dn(){u.value="",g.value=!1,d.value=!1}function Jn(){h.value=!h.value,h.value&&setTimeout(()=>{var o;(o=x.value)==null||o.focus()},100)}function gn(){h.value=!1}function he(o){const n=u.value.trim();n?u.value=n+" "+o:u.value=o,setTimeout(()=>{var f;(f=x.value)==null||f.focus()},50)}function ke(){O.value=!O.value}function ie(){O.value=!1}function Dt(){H.value=!H.value}function dt(){H.value=!1}async function It(){if(i.value.size===0){alert("Please select games to export");return}try{const o=await window.electronAPI.selectDirectory({title:"Select export directory",properties:["openDirectory","createDirectory"]});if(!o.canceled&&o.filePaths&&o.filePaths.length>0){const n=o.filePaths[0],f=Array.from(i.value),y=await window.electronAPI.exportGames({gameIds:f,exportDirectory:n});y.success?alert(`Successfully exported ${y.exportedCount} games to ${n}`):alert(`Export failed: ${y.error}`)}}catch(o){console.error("Export error:",o),alert("Export failed: "+o.message)}}async function ot(){try{const o=await window.electronAPI.selectFiles({title:"Select game info files to import",filters:[{name:"Game Info Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(!o.canceled&&o.filePaths&&o.filePaths.length>0){const n=o.filePaths,f=await window.electronAPI.importGames({filePaths:n});f.success?(alert(`Successfully imported ${f.importedCount} games`),await el()):alert(`Import failed: ${f.error}`)}}catch(o){console.error("Import error:",o),alert("Import failed: "+o.message)}}async function Ts(){Y.value=b.usb2snesLibrary,De.value=!1,te.value=!0,await lt()}async function lt(){try{const o=await window.electronAPI.usb2snesStatus();console.log("[USB2SNES] Refreshed status:",o),console.log("[USB2SNES] Before update - usb2snesStatus.connected:",_.connected),o.connected?(_.connected=!0,_.device=o.device||"Connected",console.log("[USB2SNES] Set connected to TRUE")):(_.connected=!1,_.device="Not connected",console.log("[USB2SNES] Set connected to FALSE")),console.log("[USB2SNES] After update - usb2snesStatus.connected:",_.connected)}catch(o){console.error("Failed to refresh USB2SNES status:",o)}}function Qn(){te.value=!1}async function Tt(){_.lastAttempt=new Date().toLocaleString(),Ie.value="Connecting...";try{if(await lt(),_.connected){Ie.value=" Already connected";return}const o=Y.value,n=b.usb2snesAddress,f=await window.electronAPI.usb2snesConnect(o,n);_.connected=!0,_.device=f.device,_.firmwareVersion=f.firmwareVersion||"N/A",_.versionString=f.versionString||"N/A",_.romRunning=f.romRunning||"N/A",_.lastError="",Tn(),Ie.value=` Connected: ${f.device}`}catch(o){_.lastError=String(o),_.connected=!1,Ns(),Ie.value=` Connection failed: ${o}`}}async function vn(){Ie.value="Disconnecting...";try{if(await lt(),!_.connected){Ie.value=" Already disconnected";return}await window.electronAPI.usb2snesDisconnect(),_.connected=!1,_.device="",_.firmwareVersion="",_.versionString="",_.romRunning="",Ns(),Ie.value=" Disconnected successfully"}catch(o){_.lastError=String(o),Ie.value=` Disconnection error: ${o}`}}async function Yn(){Ie.value="Reconnecting...";try{await lt(),_.connected&&(await window.electronAPI.usb2snesDisconnect(),_.connected=!1,_.device="",_.firmwareVersion="",_.versionString="",_.romRunning="",Ns(),await new Promise(y=>setTimeout(y,500)));const o=Y.value,n=b.usb2snesAddress,f=await window.electronAPI.usb2snesConnect(o,n);_.connected=!0,_.device=f.device,_.firmwareVersion=f.firmwareVersion||"N/A",_.versionString=f.versionString||"N/A",_.romRunning=f.romRunning||"N/A",_.lastError="",Tn(),Ie.value=` Reconnected: ${f.device}`}catch(o){_.lastError=String(o),_.connected=!1,Ns(),Ie.value=` Reconnection failed: ${o}`}}function Ms(){_.lastError="",_.lastAttempt=""}function hn(){_.connected=!1,_.device="",_.firmwareVersion="",_.versionString="",_.romRunning="",_.lastError="",_.lastAttempt="",alert("USB2SNES connection reset")}function Gl(){window.open("https://usb2snes.com/","_blank")}async function p(){try{const o=b.usb2snesUploadDir;await window.electronAPI.usb2snesCreateDir(o),alert(`Directory created successfully: ${o}`)}catch(o){String(o).includes("exist")?alert(`Directory ${b.usb2snesUploadDir} already exists (this is fine)`):alert(`Create directory failed: ${o}`)}}async function v(){Ie.value="Rebooting SNES...";try{await window.electronAPI.usb2snesReset(),Ie.value=" SNES rebooted"}catch(o){Ie.value=` Reboot failed: ${o}`}}async function k(){Ie.value="Returning to menu...";try{await window.electronAPI.usb2snesMenu(),Ie.value=" Returned to menu"}catch(o){Ie.value=` Menu command failed: ${o}`}}async function M(){et.value="Granting cape...";try{Ls();const o=await window.electronAPI.chatExecuteCommand("!powerup 0x02");ns(),o&&o.success?et.value=" Cape granted!":et.value=" Failed to grant cape"}catch(o){et.value=` Failed: ${o}`}}async function D(){et.value="Granting 1-Up...";try{Ls();const n=(await window.electronAPI.usb2snesReadMemory(16059838,1)).data[0],f=Math.min(n+1,99);await window.electronAPI.chatExecuteCommand(`!lives 0x${f.toString(16).padStart(2,"0")}`),ns(),et.value=` 1-Up! Lives: ${f}`}catch(o){et.value=` Failed: ${o}`}}async function I(){et.value="Granting star...";try{Ls();const o=await window.electronAPI.chatExecuteCommand("!star_timer 0xFF");ns(),o&&o.success?et.value=" Star invincibility granted!":et.value=" Failed to grant star"}catch(o){et.value=` Failed: ${o}`}}async function L(){Zn.value="Starting timer challenge...";try{const o=await window.electronAPI.usb2snesTimerChallenge();Zn.value=` ${o.message}`}catch(o){Zn.value=` Timer challenge failed: ${o}`}}const T=R(null),U=R(null),A=R(""),z=R([]),$=R([]),j=R(-1),K=R([]),se=R(null),ae=R(!1),le=R(!1),Ee=R(0),ye=R(""),Ye=R(""),Te=R(!1),De=R(!1),Ve=R("red"),$e=R(0),Be=R(0),Mt=R(null),mn=R(!1),Fs=R(!1),To=R(!1),Mo=R(!1),Us=R(!1),Xn=R([]),Yt=R(""),Xt=R([]),ft=R(-1),zl=R(null),Ie=R(""),et=R(""),Zn=R(""),In=R(!1),es=R([]),Fo=R(!1);async function Kl(){try{const o=await window.electronAPI.showOpenDialog({title:"Select ROM File",filters:[{name:"ROM Files",extensions:["sfc","smc","bin"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(!o.canceled&&o.filePaths.length>0){const n=o.filePaths[0];console.log("[File Select] Selected file:",n),T.value={path:n,name:n.split(/[\\/]/).pop()||"unknown",size:0},console.log("[File Select] Stored file info:",T.value)}}catch(o){console.error("[File Select] Error:",o),alert(`File selection error: ${o}`)}}function ql(o){const n=o.target;n.files&&n.files.length>0&&(T.value=n.files[0])}function Wl(o){return o<1024?o+" B":o<1024*1024?(o/1024).toFixed(2)+" KB":(o/(1024*1024)).toFixed(2)+" MB"}async function Jl(){if(!T.value){alert("No file selected");return}try{const o=T.value.name,n=`/work/${o}`,f=T.value.path;if(console.log("[Upload] File object:",T.value),console.log("[Upload] Extracted path:",f),!f){alert("Could not get file path. Please select the file using the Browse button.");return}Fs.value=!1,le.value=!0,Ee.value=0,ye.value="Uploading...",Ye.value=n,Te.value=!1;let y=!0;const P=window.electronAPI.onUploadProgress((E,c,G)=>{y&&(console.log("[Upload] Progress event:",G,"%",`(${E}/${c} bytes)`),Ee.value=G)});console.log("[Upload] Starting upload:",f,"->",n),console.log("[Upload] About to call electronAPI.usb2snesUploadRom...");let B;try{B=await window.electronAPI.usb2snesUploadRom(f,n),console.log("[Upload] Upload finished successfully:",B)}catch(E){throw console.error("[Upload] Upload threw error:",E),E}if(y=!1,P(),Ee.value=100,B.success){ye.value="Upload complete!",Te.value=!0;try{const E={fullpath:n,filename:o,gameid:null,version:null,metadata:{},part_of_a_run:!1},c=o.match(/^smw(\d+)_(\d+)\.sfc$/i);if(c){E.gameid=c[1],E.version=parseInt(c[2]);const G=r.find(we=>we.Id===c[1]);G&&(E.metadata={gamename:G.Name,gametype:G.Type,difficulty:G.PublicDifficulty,combinedtype:G.Type})}await window.electronAPI.snesContentsSync(E),console.log("[Upload] SNES contents cache synced")}catch(E){console.warn("[Upload] Cache sync failed:",E)}T.value=null,U.value&&(U.value.value="")}else ye.value="Upload failed!",Te.value=!1}catch(o){ye.value=`Upload failed: ${o}`,Te.value=!1,Ee.value=0}}function ri(){le.value=!1}async function ii(){try{if(b.usb2snesEnabled==="yes"&&(await lt(),!_.connected)){ye.value="Connecting to USB2SNES...";try{const o=Y.value,n=b.usb2snesAddress,f=await window.electronAPI.usb2snesConnect(o,n);_.connected=!0,_.device=f.device,_.firmwareVersion=f.firmwareVersion||"N/A",_.versionString=f.versionString||"N/A",_.romRunning=f.romRunning||"N/A",Tn(),console.log("[launchUploadedFile]  USB2SNES connected successfully")}catch(o){console.error("[launchUploadedFile] Connection error:",o),ye.value=`Launch failed: Could not connect to USB2SNES - ${o}`;return}}ye.value="Launching file...",await window.electronAPI.usb2snesBoot(Ye.value),ye.value="File launched!",setTimeout(()=>{le.value=!1},1500)}catch(o){ye.value=`Launch failed: ${o}`}}async function $s(){const o=A.value.trim();if(o){bn(o,"command"),$.value.push(o),j.value=$.value.length,A.value="";try{console.log("[Chat] Sending command:",o);const n=await window.electronAPI.chatExecuteCommand(o);console.log("[Chat] Received result:",n),n&&n.message?n.success?bn(n.message,"response-success"):bn(n.message,"response-error"):(console.error("[Chat] Invalid result format:",n),bn("Command sent but no response received","response-error")),(o.toLowerCase().startsWith("!load")||o.toLowerCase().startsWith("!unload")||o.toLowerCase().startsWith("!reload"))&&await ci()}catch(n){bn(`Error: ${n}`,"response-error")}ui()}}function bn(o,n){const f=new Date().toLocaleTimeString();z.value.push({timestamp:f,message:o,type:n}),z.value.length>100&&z.value.shift()}function Ql(o){if(o.key==="ArrowUp"){if(o.preventDefault(),$.value.length===0)return;j.value>0&&(j.value--,A.value=$.value[j.value])}else if(o.key==="ArrowDown"){if(o.preventDefault(),$.value.length===0)return;j.value<$.value.length-1?(j.value++,A.value=$.value[j.value]):(j.value=$.value.length,A.value="")}}async function ci(){try{const o=await window.electronAPI.chatGetLoadedModules();K.value=o}catch(o){console.error("Failed to update loaded modules:",o)}}function ui(){Vn(()=>{const o=ts==null?void 0:ts.value;o&&(o.scrollTop=o.scrollHeight)})}const ts=R(null);async function di(){De.value=!De.value,De.value&&await lt()}function fi(){De.value=!1}function Tn(){Mt.value&&clearInterval(Mt.value),Be.value=Date.now(),$e.value=Date.now(),Ve.value="green",Mt.value=setInterval(()=>{pi(),gi()},1e3)}function Ns(){Mt.value&&(clearInterval(Mt.value),Mt.value=null),Ve.value="red"}function pi(){if(!_.connected){Ve.value="red";return}const n=Date.now()-Be.value;n<7e3?Ve.value="green":n<15e3?Ve.value="yellow":Ve.value="red"}async function gi(){if(!_.connected||mn.value)return;Date.now()-Be.value>15e3&&await vi()}async function vi(){if(!mn.value)try{mn.value=!0,$e.value=Date.now(),await window.electronAPI.usb2snesReadMemory(16056320,1),Be.value=Date.now()}catch(o){console.error("[Health] Ping failed:",o)}finally{mn.value=!1}}function Ls(){$e.value=Date.now()}function ns(){Be.value=Date.now()}function hi(){De.value=!1,Fs.value=!0}function Uo(){Fs.value=!1}function mi(){De.value=!1,To.value=!0}function $o(){To.value=!1}function bi(){De.value=!1,Mo.value=!0}function No(){Mo.value=!1}function yi(){De.value=!1,Us.value=!0}function Lo(){Us.value=!1}async function Yl(){const o=Yt.value.trim();if(o){Xt.value.push(o),Xt.value.length>50&&Xt.value.shift(),ft.value=-1,Oo(o,"command"),bn(o,"command"),Yt.value="";try{Ls();const n=await window.electronAPI.chatExecuteCommand(o);if(ns(),n&&n.message){const f=n.success?"response-success":"response-error";Oo(n.message,f),bn(n.message,f)}}catch(n){console.error("[MiniChat] Command error:",n),Oo(`Error: ${n}`,"response-error")}}}function wi(o){if(o.key==="ArrowUp"){if(o.preventDefault(),Xt.value.length===0)return;ft.value===-1?ft.value=Xt.value.length-1:ft.value>0&&ft.value--,Yt.value=Xt.value[ft.value]}else if(o.key==="ArrowDown"){if(o.preventDefault(),ft.value===-1)return;ft.value<Xt.value.length-1?(ft.value++,Yt.value=Xt.value[ft.value]):(ft.value=-1,Yt.value="")}else o.key==="Enter"&&(o.preventDefault(),Yl())}function Oo(o,n){const f=new Date().toLocaleTimeString();Xn.value.push({timestamp:f,message:o,type:n}),Xn.value.length>5&&Xn.value.shift()}function ss(o){Us.value&&(A.value=o+" ",Vn(()=>{var n;(n=se.value)==null||n.focus()}))}function Xl(o){const n=o.target,f=n.tagName==="INPUT"||n.tagName==="TEXTAREA";o.key==="/"&&!h.value&&!f&&(o.preventDefault(),h.value=!0,setTimeout(()=>{var y;(y=x.value)==null||y.focus()},100)),o.key==="!"&&!De.value&&!f&&(o.preventDefault(),De.value=!0,setTimeout(()=>{var y;(y=zl.value)==null||y.focus()},100)),o.key==="Escape"&&h.value&&gn(),o.key==="Escape"&&O.value&&ie(),o.key==="Escape"&&H.value&&dt(),o.key==="Escape"&&De.value&&fi(),o.key==="Escape"&&In.value&&Yo()}function Zl(o){const n=o.target,f=document.querySelectorAll(".filter-dropdown-container, .snes-contents-dropdown-container");let y=!1;f.forEach(B=>{B.contains(n)&&(y=!0)});const P=document.querySelector(".usb2snes-dropdown-container");P&&P.contains(n)&&(y=!0),y||(gn(),ie(),dt(),Yo())}function Si(){for(const o of ee.value)i.value.add(o.Id)}function _i(){i.value.clear()}function Ci(){if(ee.value.length===0)return;const o=Math.floor(Math.random()*ee.value.length),n=ee.value[o];i.value.clear(),i.value.add(n.Id)}function ki(){for(const o of r)i.value.has(o.Id)&&(o.Hidden=!0)}function Pi(){for(const o of r)i.value.has(o.Id)&&(o.Hidden=!1)}function xi(){const o=C.value;if(o){for(const n of r)i.value.has(n.Id)&&(n.Status=o);C.value=""}}function ea(){if(i.value.size!==1)return null;const o=Array.from(i.value)[0];return r.find(n=>n.Id===o)??null}async function Ei(){const o=Array.from(i.value);if(console.log("[QuickLaunch] Selected game IDs:",o),console.log("[QuickLaunch] Number of selected games:",o.length),o.length===0||o.length>21){alert("Please select between 1 and 21 games to launch.");return}if(!oe()){alert("Quick launch requires Electron environment");return}if(!b.vanillaRomPath||!b.vanillaRomValid){alert("Please configure a valid vanilla SMW ROM in Settings before staging games."),Vo();return}if(!b.flipsPath||!b.flipsValid){alert("Please configure FLIPS executable in Settings before staging games."),Vo();return}try{Ys.value=!0,Xs.value=0,Zs.value=o.length,Ko.value="Preparing games...";const n=window.electronAPI.ipcRenderer;n&&n.on("quick-launch-progress",(y,P)=>{Xs.value=P.current,Zs.value=P.total,Ko.value=P.gameName||"Processing..."}),console.log("[QuickLaunch] Calling stageQuickLaunchGames with:",{gameIds:o,vanillaRomPath:b.vanillaRomPath,flipsPath:b.flipsPath});const f=await window.electronAPI.stageQuickLaunchGames({gameIds:o,vanillaRomPath:b.vanillaRomPath,flipsPath:b.flipsPath,tempDirOverride:b.tempDirOverride||""});if(console.log("[QuickLaunch] Staging result:",f),n&&n.removeAllListeners("quick-launch-progress"),Ys.value=!1,console.log("Quick launch staging result:",f),!f.success){alert("Failed to stage games: "+f.error);return}console.log("[QuickLaunch] Setting quickLaunchFolderPath to:",f.folderPath),console.log("[QuickLaunch] Games staged:",f.gamesStaged),console.log("[QuickLaunch] Staged files:",f.stagedFiles),Ot.value=f.folderPath,eo.value=f.gamesStaged,to.value=f.stagedFiles||[],qo.value=!0}catch(n){console.error("Error staging games for quick launch:",n),Ys.value=!1,alert("Error staging games: "+n.message)}}function Ri(){const o=ea();if(!o)return;const n=o.Mynotes??"",f=window.prompt("Edit notes:",n);f!==null&&(o.Mynotes=f)}function Ai(){const o=ea();if(!o)return;const n=o.Myrating??"",f=window.prompt("Set My rating (0-5):",String(n));if(f===null)return;const y=Number(f);!Number.isNaN(y)&&y>=0&&y<=5&&(o.Myrating=y)}const Os=R(!1),b=Gt({theme:pl,textSize:gl,vanillaRomPath:"",vanillaRomValid:!1,flipsPath:"",flipsValid:!1,asarPath:"",asarValid:!1,uberAsmPath:"",uberAsmValid:!1,launchMethod:"manual",launchProgram:"",launchProgramArgs:"%file",usb2snesAddress:"ws://localhost:64213",usb2snesEnabled:"no",usb2snesLibrary:"usb2snes_a",usb2snesLaunchPref:"auto",usb2snesUploadPref:"manual",usb2snesUploadDir:"/work",tempDirOverride:"",tempDirValid:!0});function Vo(){Os.value=!0}function Vs(){Os.value=!1}function Di(o){console.log("Opening settings modal due to:",o),Os.value=!0,o.reason==="startup-validation"&&alert(`Critical paths need to be configured:

${o.missingPaths.join(`
`)}

Please configure these paths in the settings.`)}window.electronAPI.onStartupValidationResults(o=>{console.log("Startup validation results:",o)}),window.electronAPI.onOpenSettingsModal(Di);const Bo=["small","medium","large","xlarge"],Bs=R(Bo.indexOf(b.textSize));function Ii(){ro(b.theme)}function Ti(){b.textSize=Bo[Bs.value],io(b.textSize)}async function Mi(){if(console.log("Saving settings:",b),!oe()){console.warn("Mock mode: Settings not saved (Electron not available)"),Vs();return}if(b.tempDirOverride&&b.tempDirOverride.trim()!=="")try{const o=await window.electronAPI.validatePath(b.tempDirOverride);if(!o.exists||!o.isDirectory){alert("Temporary directory override path does not exist or is not a directory. Please provide a valid path or leave blank."),b.tempDirValid=!1;return}b.tempDirValid=!0}catch(o){alert("Error validating temporary directory path: "+o.message),b.tempDirValid=!1;return}else b.tempDirValid=!0;try{const o={theme:b.theme,textSize:b.textSize,vanillaRomPath:b.vanillaRomPath,vanillaRomValid:String(b.vanillaRomValid),flipsPath:b.flipsPath,flipsValid:String(b.flipsValid),asarPath:b.asarPath,asarValid:String(b.asarValid),uberAsmPath:b.uberAsmPath,uberAsmValid:String(b.uberAsmValid),launchMethod:b.launchMethod,launchProgram:b.launchProgram,launchProgramArgs:b.launchProgramArgs,usb2snesAddress:b.usb2snesAddress,usb2snesEnabled:b.usb2snesEnabled,usb2snesLaunchPref:b.usb2snesLaunchPref,usb2snesUploadPref:b.usb2snesUploadPref,usb2snesUploadDir:b.usb2snesUploadDir,tempDirOverride:b.tempDirOverride,tempDirValid:String(b.tempDirValid)},n=await window.electronAPI.saveSettings(o);n.success?console.log("Settings saved successfully"):(console.error("Failed to save settings:",n.error),alert(`Error saving settings: ${n.error}`))}catch(o){console.error("Error saving settings:",o),alert(`Error saving settings: ${o.message}`)}Vs()}async function Fi(o){var f;o.preventDefault();const n=(f=o.dataTransfer)==null?void 0:f.files;if(n&&n.length>0){const y=n[0].path;await ta(y)}}async function Ui(){if(!oe()){alert("File selection requires Electron environment");return}try{const o=await window.electronAPI.showOpenDialog({title:"Select Vanilla SMW ROM",filters:[{name:"SNES ROM Files",extensions:["sfc","smc"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(!o.canceled&&o.filePaths&&o.filePaths.length>0){const n=o.filePaths[0];await ta(n)}}catch(o){console.error("Error browsing ROM file:",o),alert("Error selecting ROM file: "+o.message)}}async function ta(o){if(oe())try{const n=await window.electronAPI.validateRomFile(o);n.valid?(b.vanillaRomPath=o,b.vanillaRomValid=!0,console.log(" Valid ROM file set:",o)):(b.vanillaRomValid=!1,alert("Invalid ROM file: "+n.error))}catch(n){console.error("Error validating ROM:",n),b.vanillaRomValid=!1,alert("Error validating ROM: "+n.message)}}async function $i(o){var f;o.preventDefault();const n=(f=o.dataTransfer)==null?void 0:f.files;if(n&&n.length>0){const y=n[0].path;await na(y)}}async function Ni(){if(!oe()){alert("File selection requires Electron environment");return}try{const o=await window.electronAPI.showOpenDialog({title:"Select FLIPS Executable",filters:[{name:"Executable Files",extensions:["exe","*"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});!o.canceled&&o.filePaths&&o.filePaths.length>0&&await na(o.filePaths[0])}catch(o){console.error("Error browsing FLIPS file:",o),alert("Error selecting FLIPS file: "+o.message)}}async function na(o){if(oe())try{const n=await window.electronAPI.validateFlipsFile(o);n.valid?(b.flipsPath=o,b.flipsValid=!0,console.log(" Valid FLIPS file set:",o)):(b.flipsValid=!1,alert("Invalid FLIPS file: "+n.error))}catch(n){console.error("Error validating FLIPS:",n),b.flipsValid=!1,alert("Error validating FLIPS: "+n.message)}}async function Li(o){var f;o.preventDefault();const n=(f=o.dataTransfer)==null?void 0:f.files;if(n&&n.length>0){const y=n[0].path;await sa(y)}}async function Oi(o){var f;o.preventDefault();const n=(f=o.dataTransfer)==null?void 0:f.files;if(n&&n.length>0){const y=n[0].path;b.launchProgram=y,console.log(" Launch program path set:",y)}}async function Vi(){if(!oe()){alert("File selection requires Electron environment");return}try{const o=await window.electronAPI.showOpenDialog({title:"Select ASAR Executable",filters:[{name:"Executable Files",extensions:["exe","*"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});!o.canceled&&o.filePaths&&o.filePaths.length>0&&await sa(o.filePaths[0])}catch(o){console.error("Error browsing ASAR file:",o),alert("Error selecting ASAR file: "+o.message)}}async function Bi(){if(!oe()){alert("File selection requires Electron environment");return}try{const o=await window.electronAPI.showOpenDialog({title:"Select Launch Program",filters:[{name:"Executable Files",extensions:["exe","sh","bat","cmd","*"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});!o.canceled&&o.filePaths&&o.filePaths.length>0&&(b.launchProgram=o.filePaths[0],console.log(" Launch program path set:",o.filePaths[0]))}catch(o){console.error("Error browsing launch program:",o),alert("Error selecting launch program: "+o.message)}}async function sa(o){if(oe())try{const n=await window.electronAPI.validateAsarFile(o);n.valid?(b.asarPath=o,b.asarValid=!0,console.log(" Valid ASAR file set:",o)):(b.asarValid=!1,alert("Invalid ASAR file: "+n.error))}catch(n){console.error("Error validating ASAR:",n),b.asarValid=!1,alert("Error validating ASAR: "+n.message)}}async function Hi(o){var f;o.preventDefault();const n=(f=o.dataTransfer)==null?void 0:f.files;if(n&&n.length>0){const y=n[0].path;await oa(y)}}async function ji(){if(!oe()){alert("File selection requires Electron environment");return}try{const o=await window.electronAPI.showOpenDialog({title:"Select UberASM Executable",filters:[{name:"Executable Files",extensions:["exe","*"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});!o.canceled&&o.filePaths&&o.filePaths.length>0&&await oa(o.filePaths[0])}catch(o){console.error("Error browsing UberASM file:",o),alert("Error selecting UberASM file: "+o.message)}}async function oa(o){if(oe())try{const n=await window.electronAPI.validateUberAsmFile(o);n.valid?(b.uberAsmPath=o,b.uberAsmValid=!0,console.log(" Valid UberASM file set:",o)):(b.uberAsmValid=!1,alert("Invalid UberASM file: "+n.error))}catch(n){console.error("Error validating UberASM:",n),b.uberAsmValid=!1,alert("Error validating UberASM: "+n.message)}}const Hs=Gt({11374:[{key:"11374-1",parentId:"11374",exitNumber:"1",description:"Intro stage",publicRating:4.2,myNotes:"",myDifficultyRating:3,myReviewRating:4},{key:"11374-2",parentId:"11374",exitNumber:"2",description:"Shell level",publicRating:4.5,myNotes:"practice",myDifficultyRating:5,myReviewRating:5}],17289:[{key:"17289-0x0F",parentId:"17289",exitNumber:"0x0F",description:"Custom level jump",publicRating:4.6,myNotes:"good practice",myDifficultyRating:5,myReviewRating:4}],20091:[]}),Z=Pe(()=>{const o=Array.from(i.value)[0];return r.find(n=>n.Id===o)??null}),Zt=Pe(()=>Z.value?Hs[Z.value.Id]??[]:[]),He=R(new Set),Gi=Pe(()=>{const o=Zt.value;return o.length===0?!1:o.every(n=>He.value.has(n.key))});function zi(o){if(o.target.checked)for(const f of Zt.value)He.value.add(f.key);else for(const f of Zt.value)He.value.delete(f.key)}function Ki(o,n){n.target.checked?He.value.add(o):He.value.delete(o)}function qi(){var f;const o=Array.from(He.value.values());if(o.length===0)return;let n=0;for(const y of o){const P=Zt.value.find(E=>E.key===y);if(!P)continue;const B=`stage-${P.key}-${Date.now()}-${n}`;N.push({key:B,id:P.parentId,entryType:"stage",name:((f=Z.value)==null?void 0:f.Name)||"",stageNumber:P.exitNumber,stageName:P.description,count:1,filterDifficulty:"",filterType:"",filterPattern:"",seed:"",isLocked:!0,conditions:[]}),n++}He.value.clear(),console.log(`Added ${n} stages to run`)}function Wi(){if(Array.from(He.value.values()).length===0)return;const n=window.prompt("Set notes for selected stages:");if(n!==null)for(const f of Zt.value)He.value.has(f.key)&&(f.myNotes=n)}function la(o){if(Array.from(He.value.values()).length===0)return;const f=o==="difficulty"?"Difficulty":"Review",y=window.prompt(`Set ${f} rating (1-5) for selected stages:`);if(y===null)return;const P=Number(y);if(!(Number.isNaN(P)||P<1||P>5))for(const B of Zt.value)He.value.has(B.key)&&(o==="difficulty"?B.myDifficultyRating=P:B.myReviewRating=P)}const js=R(!1),N=Gt([]),Re=R(new Set),at=R([]),me=R(null),en=R("preparing"),pt=R(""),ce=R(0),yn=R(null),ht=R(0),Ft=R(0),qe=R(!1),tn=R(null),pe=R([]),Ut=R([]),Gs=R(!1),Mn=R("My Challenge Run"),$t=R(!1),Ne=R(null),Ho=R(!1),Fn=R([]),rt=R([]),Nt=R(null),mt=Pe(()=>Nt.value?Fn.value.find(o=>o.run_uuid===Nt.value):null),wn=R([]),Sn=R([]),os=R(!1),zs=R(0),Ks=R(0),qs=R(""),jo=R(!1),bt=R(""),ls=R(0),Me=R(""),as=R(!1),Ws=R(0),Js=R(0),Go=R(""),rs=R(0),Qs=R(""),Lt=R(!1),zo=R(null),Ys=R(!1),Xs=R(0),Zs=R(0),Ko=R(""),qo=R(!1),Ot=R(""),eo=R(0),to=R([]),xe=R(""),Wo=R(""),Ji=Pe(()=>N.length>0&&N.every(o=>Re.value.has(o.key))),Qi=Pe(()=>Re.value.size),aa=Pe(()=>me.value!==null&&en.value==="preparing"),Fe=Pe(()=>en.value==="active"),yt=Pe(()=>!Fe.value||ce.value>=N.length?null:N[ce.value]),Jo=Pe(()=>yt.value&&yt.value.sfcpath||null),Yi=Pe(()=>Ut.value.length>0);an(ce,async(o,n)=>{if(console.log("[watch:currentChallengeIndex] Changed from",n,"to",o),!Fe.value||o>=N.length){console.log("[watch:currentChallengeIndex] Not active or out of bounds, returning");return}const f=N[o];console.log("[watch:currentChallengeIndex] Challenge:",o,"id:",f.id,"name:",f.name),f.id==="(random)"&&f.name==="???"?(console.log("[watch:currentChallengeIndex] Unrevealed random challenge detected, revealing..."),await no(!1)):console.log("[watch:currentChallengeIndex] Challenge already revealed or not random")});async function Xi(){if(W.count||(W.count=1),($n.value.difficulties.length===0||$n.value.types.length===0)&&await pc(),!W.seed&&oe())try{const o=await window.electronAPI.generateSeed();o.success&&(W.seed=o.seed,console.log(`Generated seed: ${o.seed} (mapping ${o.mapId}, ${o.gameCount} games)`))}catch(o){console.error("Error generating seed:",o),W.seed="ERROR-"+Math.random().toString(36).slice(2,7)}js.value=!0}function is(){js.value=!1}function Zi(){me.value="",pt.value="",en.value="preparing",ce.value=0,yn.value=null,ht.value=0,Ft.value=0,qe.value=!1,N.splice(0,N.length),pe.value=[],Ut.value=[],Re.value.clear(),at.value=[],bt.value="",ls.value=0,Me.value="",console.log("[clearRunState] Run state cleared, ready for new run")}function ec(o){if(o.target.checked)for(const f of N)Re.value.add(f.key);else for(const f of N)Re.value.delete(f.key)}function tc(){for(const o of N)Re.value.add(o.key)}function nc(){Re.value.clear()}function sc(){if(Re.value.size===0)return;const o=N.filter(n=>!Re.value.has(n.key));N.splice(0,N.length,...o),Re.value.clear()}function oc(o,n){n.target.checked?Re.value.add(o):Re.value.delete(o)}const Un=R(null);function lc(o){if(o===0)return;const n=N[o];N[o]=N[o-1],N[o-1]=n}function ac(o){if(o>=N.length-1)return;const n=N[o];N[o]=N[o+1],N[o+1]=n}function rc(o,n){Un.value=o,n.dataTransfer&&(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",String(o)))}function ic(o,n){n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="move")}function cc(o,n){if(n.preventDefault(),Un.value===null||Un.value===o)return;const f=Un.value,y=N[f];N.splice(f,1),N.splice(o,0,y)}function uc(){Un.value=null}const ra=Pe(()=>Re.value.size===0?!1:N.findIndex(n=>Re.value.has(n.key))>0),ia=Pe(()=>Re.value.size===0?!1:N.map((n,f)=>Re.value.has(n.key)?f:-1).reduce((n,f)=>Math.max(n,f),-1)<N.length-1);function dc(){if(ra.value){for(let o=1;o<N.length;o++)if(Re.value.has(N[o].key)&&!Re.value.has(N[o-1].key)){const n=N[o];N[o]=N[o-1],N[o-1]=n}}}function fc(){if(ia.value){for(let o=N.length-2;o>=0;o--)if(Re.value.has(N[o].key)&&!Re.value.has(N[o+1].key)){const n=N[o];N[o]=N[o+1],N[o+1]=n}}}const W=Gt({type:"any",difficulty:"any",pattern:"",count:1,seed:""}),$n=R({difficulties:[],types:[]}),Vt=R(null),Bt=R(""),ca=Pe(()=>{const o=typeof W.count=="number"&&W.count>=1&&W.count<=100;if(Vt.value!==null){const n=(W.count||0)+2;return o&&Vt.value>=n}return o});an(()=>[W.type,W.difficulty,W.pattern,W.count],async()=>{if(W.type!=="any"||W.difficulty!=="any"||W.pattern)try{const o=await window.electronAPI.countRandomMatches({filterType:W.type==="any"?"":W.type,filterDifficulty:W.difficulty==="any"?"":W.difficulty,filterPattern:W.pattern||""});if(o.success){Vt.value=o.count;const n=(W.count||0)+2;o.count<n?Bt.value=`Insufficient games: ${o.count} match filters, but need at least ${n} (count + 2)`:Bt.value=""}}catch(o){console.error("Error counting random matches:",o)}else Vt.value=null,Bt.value=""},{deep:!0});async function pc(){if(!oe()){console.warn("Electron not available, using default filter values");return}try{const o=await window.electronAPI.getRandomFilterValues();o.success&&($n.value={difficulties:o.difficulties||[],types:o.types||[]},console.log("Loaded filter values:",$n.value))}catch(o){console.error("Error loading random filter values:",o)}}async function ua(){if(!oe()){W.seed="MOCK-"+Math.random().toString(36).slice(2,7);return}try{const o=await window.electronAPI.generateSeed();o.success?(W.seed=o.seed,console.log(`Generated seed: ${o.seed} (${o.gameCount} games)`)):alert("Failed to generate seed: "+o.error)}catch(o){console.error("Error generating seed:",o),alert("Error generating seed")}}async function gc(){if(!ca.value)return;try{const f=await window.electronAPI.countRandomMatches({filterType:W.type==="any"?"":W.type,filterDifficulty:W.difficulty==="any"?"":W.difficulty,filterPattern:W.pattern||""});if(f.success){Vt.value=f.count;const y=(W.count||0)+2;if(f.count<y){Bt.value=`Insufficient games: ${f.count} match filters, but need at least ${y} (count + 2)`,alert(`Cannot add random game:

${Bt.value}

Please adjust your filters to match more games.`);return}Bt.value=""}}catch(f){console.error("Error counting random matches:",f),Vt.value=null,Bt.value="Failed to validate filters"}const o=`rand-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,n=W.seed&&W.seed.trim().length>0?W.seed.trim():"";if(!n){alert("Seed is required for random challenges. Please wait for seed generation or enter manually.");return}N.push({key:o,id:"(random)",entryType:"random_game",name:"Random Game",stageNumber:"",stageName:"",count:W.count||1,filterDifficulty:W.difficulty==="any"?"":W.difficulty,filterType:W.type==="any"?"":W.type,filterPattern:W.pattern||"",seed:n,matchCount:Vt.value,isLocked:!1,conditions:[]}),ua()}function vc(o){console.log("Stage run",o,N),pt.value?da():(Mn.value="My Challenge Run",Gs.value=!0)}async function da(){if(!oe()){alert("Run saving requires Electron environment");return}try{const o=pt.value;if(!o){alert("Run name is required");return}const n=N.filter(E=>E.entryType==="random_game"||E.entryType==="random_stage");for(const E of n){const c=E.matchCount,G=(E.count||1)+2;if(c==null){alert(`Cannot stage run:

Random entry "${E.name}" has no match count.
This entry may have been added before the match counting feature was implemented.

Please remove and re-add this entry.`);return}if(c<G){alert(`Cannot stage run:

Random entry "${E.name}" has insufficient matching games:
${c} games match the filters, but need at least ${G} (count + 2).

Please reduce the count or remove this entry.`);return}}const f=JSON.parse(JSON.stringify(at.value)),y=JSON.parse(JSON.stringify(N)),P=await window.electronAPI.createRun(o,"",f);if(!P.success){alert("Failed to create run: "+P.error);return}const B=await window.electronAPI.saveRunPlan(P.runUuid,y);if(!B.success){alert("Failed to save run plan: "+B.error);return}me.value=P.runUuid,en.value="preparing",console.log("Run saved with UUID:",P.runUuid),await hc(P.runUuid,o)}catch(o){console.error("Error saving run:",o),alert("Error saving run: "+o.message)}}async function hc(o,n){try{os.value=!0,zs.value=0,Ks.value=N.length,qs.value="Expanding run plan...";const f=await window.electronAPI.expandAndStageRun({runUuid:o});if(!f.success){os.value=!1,alert("Failed to expand run plan: "+f.error);return}const y=window.electronAPI.ipcRenderer;y&&y.on("staging-progress",(B,E)=>{zs.value=E.current,Ks.value=E.total,qs.value=E.gameName||"Processing..."}),qs.value="Creating game files...";const P=await window.electronAPI.stageRunGames({runUuid:o,vanillaRomPath:b.vanillaRomPath,flipsPath:b.flipsPath});if(y&&y.removeAllListeners("staging-progress"),os.value=!1,console.log("Staging result:",P),!P.success){alert("Failed to stage run games: "+P.error);return}console.log("Setting folder path:",P.folderPath),console.log("Setting games staged:",P.gamesStaged),bt.value=P.folderPath,ls.value=P.gamesStaged,jo.value=!0}catch(f){console.error("Error staging run games:",f),os.value=!1,alert("Error staging run games: "+f.message)}}function fa(){if(!Mn.value||Mn.value.trim()===""){alert("Please enter a run name");return}pt.value=Mn.value,Gs.value=!1,da()}function Qo(){Gs.value=!1}function mc(){jo.value=!1,Me.value=""}function bc(){if(bt.value){const o=window.electronAPI.shell;o&&o.openPath&&o.openPath(bt.value)}}async function yc(o){if(!bt.value){Me.value=" No run folder available";return}try{const f=(await window.electronAPI.readDirectory(bt.value)).filter(c=>c.endsWith(".sfc")).sort();if(f.length===0){Me.value=" No .sfc files found in run folder";return}if(o<1||o>f.length){Me.value=` Game ${o} not found (only ${f.length} games staged)`;return}const y=f[o-1],P=`${bt.value}/${y}`;Me.value=`Launching game ${o}: ${y}...`;const B=b.launchProgram||"",E=b.launchProgramArgs||"";if(!B){Me.value=" No launch program configured in settings";return}await window.electronAPI.launchProgram(B,E,P),Me.value=` Launched game ${o}: ${y}`}catch(n){Me.value=` Launch error: ${n}`}}async function wc(){if(!bt.value||!me.value){Me.value=" No run staged";return}as.value=!0,Lt.value=!0,Ws.value=0,Js.value=0,Go.value="",rs.value=0,Qs.value="";const o=f=>{const y=new Date().toLocaleTimeString();Qs.value+=`[${y}] ${f}
`,Vn(()=>{const P=zo.value;P&&(P.scrollTop=P.scrollHeight)})};if(o("Starting upload to USB2SNES..."),o("Checking USB2SNES connection..."),_.connected)o(" USB2SNES already connected");else if(o("USB2SNES not connected"),b.usb2snesEnabled){o("USB2SNES is enabled in settings, attempting to connect...");try{if(await Tt(),await new Promise(f=>setTimeout(f,500)),_.connected)o(" USB2SNES connected successfully");else{o(" Failed to connect to USB2SNES"),Lt.value=!1,Me.value=" Upload failed: Could not connect to USB2SNES";return}}catch(f){o(` Connection error: ${f}`),Lt.value=!1,Me.value=` Upload failed: ${f}`;return}}else{o(" USB2SNES is disabled in settings"),Lt.value=!1,Me.value=" Upload failed: USB2SNES is disabled in settings";return}const n=window.electronAPI.ipcRenderer;n&&(n.on("run-upload-progress",(f,y)=>{Ws.value=y.current,Js.value=y.total,Go.value=y.filename,rs.value=0,o(`Uploading ${y.current}/${y.total}: ${y.filename}`)}),n.on("usb2snes:uploadProgress",(f,y)=>{rs.value=y.percent}));try{const f=await window.electronAPI.uploadRunToSnes({runUuid:me.value,runFolderPath:bt.value});n&&(n.removeAllListeners("run-upload-progress"),n.removeAllListeners("usb2snes:uploadProgress")),Lt.value=!1,f.success?(o(` Upload complete: ${f.filesUploaded} files uploaded to ${f.snesPath}`),Me.value=` Uploaded ${f.filesUploaded} files to ${f.snesPath}`,setTimeout(()=>{as.value&&!Lt.value&&(as.value=!1)},2e3)):(o(` Upload failed: ${f.error}`),Me.value=` Upload failed: ${f.error}`)}catch(f){n&&(n.removeAllListeners("run-upload-progress"),n.removeAllListeners("usb2snes:uploadProgress")),Lt.value=!1,o(` Upload error: ${f}`),Me.value=` Upload error: ${f}`}}function Sc(){Lt.value=!1,Cc("Upload cancelled by user")}function _c(){as.value=!1}function Cc(o){const n=new Date().toLocaleTimeString();Qs.value+=`[${n}] ${o}
`,Vn(()=>{const f=zo.value;f&&(f.scrollTop=f.scrollHeight)})}function kc(){qo.value=!1,Ot.value="",to.value=[],xe.value=""}function Pc(){if(Ot.value){const o=window.electronAPI.shell;o&&o.openPath&&o.openPath(Ot.value)}}async function pa(o=!1){if(!Ot.value||to.value.length===0){xe.value=" No games staged. Click Start first to stage games.";return}const n=to.value;if(console.log(`[Upload] Uploading ${n.length} staged file(s):`,n),n.length===0){xe.value=" No .sfc files found in staging list";return}try{if(xe.value="Checking USB2SNES connection...",await lt(),!_.connected){xe.value="Connecting to USB2SNES...";try{const P=Y.value,B=b.usb2snesAddress,E=await window.electronAPI.usb2snesConnect(P,B);_.connected=!0,_.device=E.device,_.firmwareVersion=E.firmwareVersion||"N/A",_.versionString=E.versionString||"N/A",_.romRunning=E.romRunning||"N/A",Tn()}catch(P){xe.value=` Connection failed: ${P}`;return}}let f=0,y="";for(let P=0;P<n.length;P++){const B=n[P],E=`${Ot.value}/${B}`,c=`/work/${B}`;xe.value=`Uploading ${P+1}/${n.length}: ${B}...`,console.log(`[Upload] Uploading file ${P+1}/${n.length}: ${E} -> ${c}`);let G=!0;const we=window.electronAPI.onUploadProgress((Xe,wt,Nn)=>{G&&(xe.value=`Uploading ${P+1}/${n.length}: ${B}... ${Nn}%`)});try{const Xe=await window.electronAPI.usb2snesUploadRom(E,c);if(G=!1,we(),!Xe.success){xe.value=` Upload ${P+1}/${n.length} failed: ${B}`;return}f++,y=B,console.log(`[Upload] Successfully uploaded ${B} (${f}/${n.length})`);try{const wt={fullpath:c,filename:B,gameid:null,version:null,metadata:{},part_of_a_run:!1},Nn=B.match(/^smw(\d+)_(\d+)\.sfc$/i);if(Nn){wt.gameid=Nn[1],wt.version=parseInt(Nn[2]);const us=r.find(fu=>fu.Id===Nn[1]);us&&(wt.metadata={gamename:us.Name,gametype:us.Type,difficulty:us.PublicDifficulty,combinedtype:us.Type})}await window.electronAPI.snesContentsSync(wt),console.log(`[Upload] SNES contents cache synced for ${B}`)}catch(wt){console.warn(`[Upload] Cache sync failed for ${B}:`,wt)}}catch(Xe){G=!1,we(),xe.value=` Upload error for ${B}: ${Xe}`,console.error(`[Upload] Error uploading ${B}:`,Xe);return}}if(xe.value=` Uploaded ${f} file${f>1?"s":""}`,o&&y){const P=`/work/${y}`;xe.value=`Booting ${y}...`;try{await window.electronAPI.usb2snesBoot(P),xe.value=` Uploaded ${f} files and booted ${y}`}catch(B){xe.value=` Uploaded ${f} files (Boot failed: ${B})`}}}catch(f){xe.value=` Error: ${f}`}}async function xc(){xe.value="Scanning for game files...";try{const n=(await window.electronAPI.readDirectory(Ot.value)).filter(E=>E.endsWith(".sfc"));if(n.length===0){xe.value=" No .sfc files found in folder";return}let f=n[0];Wo.value&&n.includes(Wo.value)&&(f=Wo.value);const y=`${Ot.value}/${f}`;xe.value=`Launching ${f} with program...`;const P=b.launchProgram||"",B=b.launchProgramArgs||"";if(!P){xe.value=" No launch program configured in settings";return}await window.electronAPI.launchProgram(P,B,y),xe.value=` Launched ${f}`}catch(o){xe.value=` Launch error: ${o}`}}async function Ec(){In.value=!In.value,In.value&&await cs()}function Yo(){In.value=!1}async function cs(){try{es.value=await window.electronAPI.snesContentsGetList(Fo.value),console.log("[SnesContents] Loaded",es.value.length,"files")}catch(o){console.error("[SnesContents] Failed to load list:",o),es.value=[]}}async function Rc(o){try{if(b.usb2snesEnabled==="yes")if(await lt(),_.connected)console.log("[SnesContents]  USB2SNES already connected");else{console.log("[SnesContents] USB2SNES not connected, attempting to connect...");try{const n=Y.value,f=b.usb2snesAddress,y=await window.electronAPI.usb2snesConnect(n,f);_.connected=!0,_.device=y.device,_.firmwareVersion=y.firmwareVersion||"N/A",_.versionString=y.versionString||"N/A",_.romRunning=y.romRunning||"N/A",Tn(),console.log("[SnesContents]  USB2SNES connected successfully")}catch(n){console.error("[SnesContents] Connection error:",n),alert(`Launch failed: Could not connect to USB2SNES - ${n}`);return}}await window.electronAPI.usb2snesBoot(o.fullpath),await window.electronAPI.snesContentsUpdateStatus(o.fullpath,{launched_yet:!0}),await cs(),console.log("[SnesContents] Launched:",o.filename)}catch(n){console.error("[SnesContents] Launch error:",n),alert(`Launch failed: ${n}`)}}async function Ac(o){try{await window.electronAPI.snesContentsUpdateStatus(o.fullpath,{pinned:!o.pinned}),await cs(),console.log("[SnesContents] Pinned status toggled:",o.filename)}catch(n){console.error("[SnesContents] Pin error:",n)}}async function Dc(o){try{await window.electronAPI.snesContentsUpdateStatus(o.fullpath,{dismissed:!0}),await cs(),console.log("[SnesContents] Dismissed:",o.filename)}catch(n){console.error("[SnesContents] Dismiss error:",n)}}function Ic(o){if(!o.gameid)return;checkedGameIds.value.clear();const n=r.find(f=>f.Id===o.gameid);n&&(checkedGameIds.value.add(o.gameid),Z.value=n,Yo(),console.log("[SnesContents] Found and selected game:",n.Name))}async function Tc(){if(!me.value){alert("No run saved. Please save the run first.");return}if(!oe()){alert("Run execution requires Electron environment");return}if(confirm(`Start run "${pt.value}"?

${N.length} plan entries
Global conditions: ${at.value.length>0?at.value.join(", "):"None"}

Once started, the run cannot be edited.`))try{console.log("[startRun] Starting run:",me.value);const n=await window.electronAPI.startRun({runUuid:me.value});if(console.log("[startRun] Start result:",n),n.success){console.log("[startRun] Fetching run results...");const f=await window.electronAPI.getRunResults({runUuid:me.value});if(console.log("[startRun] Expanded results:",f),!f||f.length===0){alert("Failed to load run results - no challenges found");return}const y=f.map((P,B)=>{const E=P.status==="success"||P.status==="skipped"||P.status==="ok",c=!P.was_random||E||P.revealed_early;let G=[];if(P.conditions)if(typeof P.conditions=="string")try{G=JSON.parse(P.conditions),Array.isArray(G)||(G=[])}catch{console.warn("Failed to parse conditions:",P.conditions),G=[]}else Array.isArray(P.conditions)&&(G=P.conditions);return{key:P.result_uuid,id:c&&P.gameid||"(random)",entryType:P.was_random?"random_game":"game",name:c&&P.game_name||"???",stageNumber:P.exit_number,stageName:c?P.stage_description:null,count:1,isLocked:!0,conditions:G,sfcpath:P.sfcpath||null}});if(N.splice(0,N.length,...y),console.log("[startRun] Setting run status to active, entries:",N.length),en.value="active",ce.value=0,yn.value=Date.now(),ht.value=0,console.log("[startRun] Run status set. isRunActive should now be true"),pe.value=N.map((P,B)=>({index:B,status:"pending",durationSeconds:0,revealedEarly:!1})),Ut.value=[],pe.value.length>0&&(pe.value[0].durationSeconds=0),tn.value=window.setInterval(()=>{if(yn.value&&(ht.value=Math.floor((Date.now()-yn.value)/1e3),ce.value<pe.value.length)){const P=pe.value[ce.value];if(P.status==="pending"){const B=pe.value.slice(0,ce.value).reduce((E,c)=>E+c.durationSeconds,0);P.durationSeconds=ht.value-B}}},1e3),console.log(`[startRun] Run started with ${N.length} challenges`),console.log("[startRun] First challenge:",N[0]),N.length>0){const P=N[0];console.log("[startRun] Checking first challenge:",P.entryType,P.name),(P.entryType==="random_game"||P.entryType==="random_stage")&&P.name==="???"?(console.log("[startRun] First challenge is unrevealed random, revealing now..."),await no(!1)):console.log("[startRun] First challenge is not masked or not random")}}else alert("Failed to start run: "+n.error)}catch(n){console.error("Error starting run:",n),alert("Error starting run")}}async function Mc(){if(!(!yt.value||!Jo.value))try{if(b.usb2snesEnabled==="yes")if(await lt(),_.connected)console.log("[launchCurrentChallenge]  USB2SNES already connected");else{console.log("[launchCurrentChallenge] USB2SNES not connected, attempting to connect...");try{const f=Y.value,y=b.usb2snesAddress,P=await window.electronAPI.usb2snesConnect(f,y);_.connected=!0,_.device=P.device,_.firmwareVersion=P.firmwareVersion||"N/A",_.versionString=P.versionString||"N/A",_.romRunning=P.romRunning||"N/A",Tn(),console.log("[launchCurrentChallenge]  USB2SNES connected successfully")}catch(f){console.error("[launchCurrentChallenge] Connection error:",f),alert(`Launch failed: Could not connect to USB2SNES - ${f}`);return}}const n=`/work/${Jo.value}`;console.log("[launchCurrentChallenge] Booting:",n),await window.electronAPI.usb2snesBoot(n),console.log(` Launched challenge ${ce.value+1}`)}catch(o){console.error("Error launching challenge:",o),alert(`Error launching game: ${o}`)}}async function ga(){if(!(!me.value||qe.value))try{oe()&&await window.electronAPI.pauseRun(me.value),qe.value=!0,console.log("Run paused")}catch(o){console.error("Error pausing run:",o),alert("Error pausing run")}}async function Fc(){if(!(!me.value||!qe.value))try{if(oe()){const o=await window.electronAPI.unpauseRun(me.value);console.log("Unpause result:",o),o&&o.success?(Ft.value=o.pauseSeconds||0,qe.value=!1,console.log("Run unpaused, total pause time:",Ft.value)):(console.error("Unpause failed:",o),alert("Failed to unpause run: "+((o==null?void 0:o.error)||"Unknown error")))}else qe.value=!1}catch(o){console.error("Error unpausing run:",o),alert("Error unpausing run: "+o)}}async function Uc(){if(confirm(`Cancel run "${pt.value}"?

This will mark the run as cancelled. You can view it later but cannot continue it.`))try{oe()&&await window.electronAPI.cancelRun({runUuid:me.value}),tn.value&&(clearInterval(tn.value),tn.value=null),en.value="cancelled",console.log("Run cancelled"),alert("Run cancelled"),is()}catch(n){console.error("Error cancelling run:",n),alert("Error cancelling run")}}async function $c(){if(!yt.value)return;const o=ce.value,n=pe.value[o],f=n.revealedEarly?"ok":"success";Ut.value.push({index:o,status:n.status,durationSeconds:n.durationSeconds,revealedEarly:n.revealedEarly}),n.status=f;try{oe()&&await window.electronAPI.recordChallengeResult({runUuid:me.value,challengeIndex:o,status:f}),console.log(`Challenge ${o+1} completed (${f})`),o<N.length-1?(ce.value++,o+1<pe.value.length&&(pe.value[o+1].durationSeconds=0)):va()}catch(y){console.error("Error recording challenge result:",y),alert("Error recording result")}}async function Nc(){if(!yt.value)return;const o=ce.value,n=N[o];if((n.entryType==="random_game"||n.entryType==="random_stage")&&n.name==="???"&&await no(!1),!confirm(`Skip challenge ${o+1}: ${n.name}?`))return;const y=pe.value[o];Ut.value.push({index:o,status:y.status,durationSeconds:y.durationSeconds,revealedEarly:y.revealedEarly}),y.status="skipped";try{oe()&&await window.electronAPI.recordChallengeResult({runUuid:me.value,challengeIndex:o,status:"skipped"}),console.log(`Challenge ${o+1} skipped`),o<N.length-1?(ce.value++,o+1<pe.value.length&&(pe.value[o+1].durationSeconds=0)):va()}catch(P){console.error("Error recording skip:",P),alert("Error recording skip")}}async function Lc(){if(Ut.value.length===0)return;const o=Ut.value.pop(),n=o.index;for(let f=n+1;f<pe.value.length;f++){const y=pe.value[f],P=N[f];if((P.entryType==="random_game"||P.entryType==="random_stage")&&P.name!=="???"&&y.status!=="pending"){y.revealedEarly=!0,pe.value[f]={...y,revealedEarly:!0};try{oe()&&await window.electronAPI.markChallengeRevealedEarly({runUuid:me.value,challengeIndex:f,revealedEarly:!0})}catch(B){console.error("Error marking challenge as revealed early:",B)}}}pe.value[n]={...o},ce.value=n;try{oe()&&await window.electronAPI.recordChallengeResult({runUuid:me.value,challengeIndex:n,status:"pending"}),console.log(`Undone: Challenge ${n+1} back to pending`)}catch(f){console.error("Error undoing challenge:",f),alert("Error undoing challenge")}}async function no(o=!1){if(!oe()||!yt.value)return;const n=yt.value,f=ce.value;if(console.log("[revealCurrentChallenge] Challenge:",f,"id:",n.id,"name:",n.name,"type:",n.entryType),n.id!=="(random)"||n.name!=="???"){console.log("[revealCurrentChallenge] Already revealed or not random, skipping");return}try{console.log("[revealCurrentChallenge] Calling revealChallenge API...");const y=await window.electronAPI.revealChallenge({runUuid:me.value,resultUuid:n.key,revealedEarly:o});if(console.log("[revealCurrentChallenge] Result:",y),y.success){if(console.log("[revealCurrentChallenge] Full result object:",JSON.stringify(y,null,2)),console.log("[revealCurrentChallenge] result.gameid:",y.gameid,"type:",typeof y.gameid),console.log("[revealCurrentChallenge] result.gameName:",y.gameName,"type:",typeof y.gameName),y.gameid&&y.gameName){console.log("[revealCurrentChallenge] Before update - entry.id:",n.id,"entry.name:",n.name);const P={key:n.key,id:y.gameid,entryType:n.entryType,name:y.gameName,stageNumber:n.stageNumber,stageName:y.gameType||n.stageName,count:n.count,isLocked:n.isLocked,conditions:n.conditions,sfcpath:n.sfcpath||null,filterDifficulty:n.filterDifficulty,filterType:n.filterType,filterPattern:n.filterPattern,seed:n.seed};console.log("[revealCurrentChallenge] New entry object - id:",P.id,"name:",P.name),N.splice(f,1,P),console.log("[revealCurrentChallenge] After splice - entry at idx",f,"id:",N[f].id,"name:",N[f].name)}else console.error("[revealCurrentChallenge] Missing gameid or gameName in result!"),console.error("[revealCurrentChallenge] result.gameid:",y.gameid),console.error("[revealCurrentChallenge] result.gameName:",y.gameName),console.error("[revealCurrentChallenge] Full result:",y);o&&(pe.value[f].revealedEarly=!0)}else console.warn("[revealCurrentChallenge] Reveal failed:",y.error)}catch(y){console.error("[revealCurrentChallenge] Error revealing challenge:",y)}}async function va(){tn.value&&(clearInterval(tn.value),tn.value=null);try{if(oe()){const o=await window.electronAPI.completeRun({runUuid:me.value});if(!o.success){console.error("Failed to complete run in database:",o.error),alert("Error completing run: "+o.error);return}}en.value="completed",alert(`Run "${pt.value}" completed!

Total time: ${_n(ht.value)}
Challenges: ${N.length}`),Zi(),is()}catch(o){console.error("Error completing run:",o),alert("Error completing run: "+o.message)}}function _n(o){const n=Math.floor(o/3600),f=Math.floor(o%3600/60),y=o%60;return n>0?`${n}h ${f}m ${y}s`:f>0?`${f}m ${y}s`:`${y}s`}function Oc(o){if(o>=pe.value.length)return"";switch(pe.value[o].status){case"success":return"";case"ok":return"";case"skipped":return"";case"pending":default:return""}}function Vc(o){if(o>=pe.value.length)return"";switch(pe.value[o].status){case"success":return"status-success";case"ok":return"status-ok";case"skipped":return"status-skipped";case"pending":default:return""}}function Bc(o){if(o>=pe.value.length)return"";const n=pe.value[o];return o>ce.value||n.durationSeconds===0&&n.status==="pending"?"":_n(n.durationSeconds)}function Cn(o){return o.entryType==="random_game"||o.entryType==="random_stage"}const nn=["Hitless","Deathless","No Coins","No Powerups","No Midway"];function Hc(o){const n=o.conditions||[],f=`Select challenge conditions for this entry:

`+nn.map((E,c)=>`${c+1}. ${E} ${n.includes(E)?"":""}`).join(`
`)+`

Enter numbers to toggle (e.g., "1,3,5" or "all" or "none"):`,y=window.prompt(f,n.length===0?"":"current");if(y===null)return;const P=y.toLowerCase().trim();if(P==="none"||P===""){o.conditions=[];return}if(P==="all"){o.conditions=[...nn];return}const B=P.split(",").map(E=>parseInt(E.trim())).filter(E=>!isNaN(E)&&E>=1&&E<=nn.length);if(B.length>0){const E=B.map(c=>nn[c-1]);o.conditions=[...new Set(E)]}}function jc(){const o=at.value||[],n=`Select global challenge conditions for entire run:

`+nn.map((B,E)=>`${E+1}. ${B} ${o.includes(B)?"":""}`).join(`
`)+`

Enter numbers to toggle (e.g., "1,3,5" or "all" or "none"):`,f=window.prompt(n,o.length===0?"":"current");if(f===null)return;const y=f.toLowerCase().trim();if(y==="none"||y===""){at.value=[];return}if(y==="all"){at.value=[...nn];return}const P=y.split(",").map(B=>parseInt(B.trim())).filter(B=>!isNaN(B)&&B>=1&&B<=nn.length);if(P.length>0){const B=P.map(E=>nn[E-1]);at.value=[...new Set(B)]}}async function Gc(){try{Ho.value=!0;const o=await window.electronAPI.getAllRuns();Fn.value=o.filter(n=>n.status!=="active")}catch(o){console.error("Error loading past runs:",o),alert("Error loading past runs: "+o.message)}}function ha(){Ho.value=!1,rt.value=[],Nt.value=null,wn.value=[],Sn.value=[]}function zc(o){const n=rt.value.indexOf(o);n===-1?rt.value.push(o):rt.value.splice(n,1)}async function Kc(o){Nt.value=o;try{wn.value=await window.electronAPI.getRunResults({runUuid:o})}catch(n){console.error("Error loading run results:",n),wn.value=[]}try{Sn.value=await window.electronAPI.getRunPlanEntries({runUuid:o})}catch(n){console.error("Error loading plan entries:",n),Sn.value=[]}}async function qc(){if(rt.value.length!==0&&confirm(`Delete ${rt.value.length} run(s)? This action cannot be undone.`))try{for(const o of rt.value)await window.electronAPI.deleteRun({runUuid:o});Fn.value=Fn.value.filter(o=>!rt.value.includes(o.run_uuid)),rt.value=[],Nt.value&&rt.value.includes(Nt.value)&&(Nt.value=null,wn.value=[],Sn.value=[])}catch(o){console.error("Error deleting runs:",o),alert("Error deleting runs: "+o.message)}}function Wc(){if(!mt.value||!mt.value.staging_folder)return;const o=window.electronAPI.shell;o&&o.openPath&&o.openPath(mt.value.staging_folder)}function Jc(){const o=Sn.value.map(n=>`#${n.sequence_number}: ${n.entry_type} (${n.count}x)`).join(`
`);alert(`Plan Entries:

${o}`)}function Xo(o){return o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function Zo(o){return o?new Date(o).toLocaleString("en-US"):""}function Qc(o){if(!o)return"";try{return JSON.parse(o).join(", ")}catch{return""}}const oe=()=>typeof window.electronAPI<"u";function Yc(){return[{Id:"11374",Name:"Super Dram World",Type:"Kaizo: Intermediate",Author:"Panga",Length:"18 exits",PublicDifficulty:"Advanced",Status:"Default",MyDifficultyRating:4,MyReviewRating:5,MySkillRating:5,Publicrating:4.3,Hidden:!1,ExcludeFromRandom:!1,Mynotes:"",AvailableVersions:[1,2,3],CurrentVersion:3,JsonData:{gameid:"11374",name:"Super Dram World",version:3}},{Id:"17289",Name:"Storks, Apes, and Crocodiles",Type:"Standard",LegacyType:"Standard: Hard",Author:"Morsel",Length:"unknown",PublicDifficulty:"Moderate",Status:"In Progress",MyDifficultyRating:5,MyReviewRating:4,MySkillRating:3,Publicrating:4.6,Hidden:!1,ExcludeFromRandom:!1,Mynotes:"Practice level 0x0F",AvailableVersions:[1,2],CurrentVersion:2,JsonData:{gameid:"17289",name:"Storks, Apes, and Crocodiles",version:2}},{Id:"20091",Name:"Example Hack",Type:"Traditional",Author:"Someone",Length:"5 exits",PublicDifficulty:"Easy",Status:"Finished",MyDifficultyRating:2,MyReviewRating:2,MySkillRating:1,Publicrating:3.8,Hidden:!1,ExcludeFromRandom:!0,Mynotes:"",AvailableVersions:[1],CurrentVersion:1,JsonData:{gameid:"20091",name:"Example Hack",version:1}}]}async function el(){l.value=!0,a.value=null;try{if(!oe()){console.warn("Electron not available, using mock data");const n=Yc();r.splice(0,r.length,...n),l.value=!1;return}const o=await window.electronAPI.getGames();for(const n of o)try{const f=await window.electronAPI.getVersions(n.Id);n.AvailableVersions=f}catch(f){console.error(`Error getting versions for ${n.Id}:`,f),n.AvailableVersions=[n.CurrentVersion]}r.splice(0,r.length,...o),console.log(`Loaded ${o.length} games from database`)}catch(o){console.error("Failed to load games:",o),a.value=o.message||"Failed to load games"}finally{l.value=!1}}async function Xc(o){if(!oe()){const n={11374:[{key:"11374-1",parentId:"11374",exitNumber:"1",description:"Intro stage",publicRating:4.2,myNotes:"",myDifficultyRating:3,myReviewRating:4},{key:"11374-2",parentId:"11374",exitNumber:"2",description:"Shell level",publicRating:4.5,myNotes:"practice",myDifficultyRating:5,myReviewRating:5}],17289:[{key:"17289-0x0F",parentId:"17289",exitNumber:"0x0F",description:"Custom level jump",publicRating:4.6,myNotes:"good practice",myDifficultyRating:5,myReviewRating:4}]};return Hs[o]=n[o]||[],n[o]||[]}try{const n=await window.electronAPI.getStages(o);return Hs[o]=n,n}catch(n){return console.error(`Error loading stages for ${o}:`,n),[]}}async function Zc(){if(!oe()){console.warn("Electron not available, using default settings"),ro(pl),io(gl);return}try{const o=await window.electronAPI.getSettings();o.theme?(b.theme=o.theme,ro(b.theme)):ro(pl),o.textSize?(b.textSize=o.textSize,Bs.value=Bo.indexOf(b.textSize),io(b.textSize)):io(gl),o.vanillaRomPath&&(b.vanillaRomPath=o.vanillaRomPath),o.vanillaRomValid&&(b.vanillaRomValid=o.vanillaRomValid==="true"),o.flipsPath&&(b.flipsPath=o.flipsPath),o.flipsValid&&(b.flipsValid=o.flipsValid==="true"),o.asarPath&&(b.asarPath=o.asarPath),o.asarValid&&(b.asarValid=o.asarValid==="true"),o.uberAsmPath&&(b.uberAsmPath=o.uberAsmPath),o.uberAsmValid&&(b.uberAsmValid=o.uberAsmValid==="true"),o.launchMethod&&(b.launchMethod=o.launchMethod),o.launchProgram&&(b.launchProgram=o.launchProgram),o.launchProgramArgs&&(b.launchProgramArgs=o.launchProgramArgs),o.usb2snesAddress&&(b.usb2snesAddress=o.usb2snesAddress),o.usb2snesEnabled&&(b.usb2snesEnabled=o.usb2snesEnabled),o.usb2snesLaunchPref&&(b.usb2snesLaunchPref=o.usb2snesLaunchPref),o.usb2snesUploadPref&&(b.usb2snesUploadPref=o.usb2snesUploadPref),o.usb2snesUploadDir&&(b.usb2snesUploadDir=o.usb2snesUploadDir),o.tempDirOverride!==void 0&&(b.tempDirOverride=o.tempDirOverride),o.tempDirValid&&(b.tempDirValid=o.tempDirValid==="true"),console.log("Settings loaded from database")}catch(o){console.error("Error loading settings:",o)}}const eu=t(async o=>{if(!oe()){console.log("Mock mode: Would save annotation for",o.Id);return}try{const n={gameid:o.Id,status:o.Status,myDifficultyRating:o.MyDifficultyRating,myReviewRating:o.MyReviewRating,mySkillRating:o.MySkillRating,hidden:o.Hidden,excludeFromRandom:o.ExcludeFromRandom,mynotes:o.Mynotes},f=await window.electronAPI.saveAnnotation(n);f.success||console.error("Failed to save annotation:",f.error)}catch(n){console.error("Error saving annotation:",n)}},500);async function tu(o,n){if(!oe()){console.log(`Mock mode: Would load game ${o} version ${n}`);return}try{const f=await window.electronAPI.getGame(o,n);if(f){const y=r.findIndex(P=>P.Id===o);y>=0&&(f.AvailableVersions=r[y].AvailableVersions,Object.assign(r[y],f))}}catch(f){console.error(`Error loading game ${o} version ${n}:`,f)}}Ur(async()=>{if(console.log("=== APP MOUNTED ==="),console.log("Electron API available:",oe()),window.addEventListener("keydown",Xl),window.addEventListener("click",Zl),oe()){const o=window.electronAPI.ipcRenderer;o&&o.on("usb2snes:operation-success",()=>{ns()})}if(oe())try{const o=await window.electronAPI.getActiveRun();o&&(Ne.value=o,$t.value=!0,console.log("Active run found:",o.run_name))}catch(o){console.error("Error checking for active run:",o)}console.log("Starting data load...");try{await el(),console.log("Games loaded, count:",r.length)}catch(o){console.error("Error loading games:",o)}try{await Zc(),console.log("Settings loaded")}catch(o){console.error("Error loading settings:",o)}if(oe()&&b.usb2snesEnabled==="yes")try{await lt(),console.log("USB2SNES status refreshed on startup")}catch(o){console.error("Error refreshing USB2SNES status:",o)}console.log("=== INITIALIZATION COMPLETE ===")}),Vl(()=>{window.removeEventListener("keydown",Xl),window.removeEventListener("click",Zl)}),an(r,()=>{for(const o of r)eu(o)},{deep:!0}),an(q,async o=>{Z.value&&o&&await tu(Z.value.Id,o)}),an(Z,async(o,n)=>{o&&o.Id!==(n==null?void 0:n.Id)&&(Hs[o.Id]||await Xc(o.Id),q.value=o.CurrentVersion||1)});const ma=Pe(()=>{var o;return((o=Z.value)==null?void 0:o.AvailableVersions)||[1]}),ba=Pe(()=>{const o=ma.value;return o.length>0?Math.max(...o):1}),tl=Pe(()=>q.value!==ba.value);function ya(o,n){const f=o?`D:${o}`:"D:",y=n?`R:${n}`:"R:";return`${f} ${y}`}function nu(o){return o==null?"":["Super Easy","Very Easy","Easy","Normal","Hard","Very Hard"][o]||""}function su(o){return o==null?"":["Terrible","Not Recommended","Below Average","Average","Good","Excellent"][o]||""}function ou(o){return o==null?"":["Observer","Casual","Apprentice","Advanced","Expert","Master","Legend","Champion","Deity","Speedrunner","Pro Speedrunner"][o]||""}function wa(o){return['I saw someone play Mario once - "Will you play my level?"',"Casual","Apprentice","Advanced","Expert","Master","I am one of the greats: Glitchcat7, jaku, shovda, juzcook, MrMightymouse, Panga, Stew_, Calco, Noblet, MitchFlowerPower, GPB, Aurateur, Pmiller, Barb, ThaBeast, DaWildGrim, or have world record, etc","I beat Hackers Dragon or JUMP, Responsible World 1.0, Casio, and Fruit Dealer RTA","I would run several of these again, back-to-back","I thought of speedrunning more than a few hacks like these","I speedran many of them"][o]||""}const nl=R(!1),lu=Pe(()=>Z.value?JSON.stringify(Z.value.JsonData||Z.value,null,2):"");function au(){nl.value=!0}function sl(){nl.value=!1}function ru(){if(tl.value){alert("This version already has version-specific ratings.");return}confirm(`Set ratings specifically for version ${q.value}?

This will create a separate rating for this version only, overriding the game-wide rating when viewing this version.`)&&alert(`Version-specific rating enabled for version ${q.value}`)}async function iu(){if(!me.value){alert("No run to export. Please save the run first.");return}if(!oe()){alert("Export requires Electron environment");return}try{const o=await window.electronAPI.exportRun(me.value);if(o.success){const n=JSON.stringify(o.data,null,2),f=new Blob([n],{type:"application/json"}),y=URL.createObjectURL(f),P=document.createElement("a");P.href=y,P.download=`run-${pt.value.replace(/[^a-z0-9]/gi,"_")}-${Date.now()}.json`,P.click(),URL.revokeObjectURL(y),console.log("Run exported successfully")}else alert("Failed to export run: "+o.error)}catch(o){console.error("Error exporting run:",o),alert("Error exporting run")}}async function cu(){if(!oe()){alert("Import requires Electron environment");return}const o=document.createElement("input");o.type="file",o.accept=".json",o.onchange=async n=>{var y;const f=(y=n.target.files)==null?void 0:y[0];if(f)try{const P=await f.text(),B=JSON.parse(P),E=await window.electronAPI.importRun(B);if(E.success){let c="Run imported successfully!";E.warnings&&E.warnings.length>0&&(c+=`

Warnings:
${E.warnings.join(`
`)}`),alert(c),is()}else alert("Failed to import run: "+E.error)}catch(P){console.error("Error importing run:",P),alert("Error importing run: Invalid file or format")}},o.click()}async function Sa(){if(!Ne.value){console.error("No resume run data available");return}console.log("Resuming run:",Ne.value);try{if($t.value=!1,me.value=Ne.value.run_uuid,pt.value=Ne.value.run_name,en.value="active",Ft.value=Ne.value.pause_seconds||0,qe.value=Ne.value.isPaused,console.log("Loading run results for:",me.value),!oe())throw new Error("Electron API not available");const o=await window.electronAPI.getRunResults({runUuid:me.value});if(console.log("Fetched run results:",o),!o||o.length===0)if(confirm("This run appears to be corrupted (no results found). Would you like to cancel it and start fresh?"))try{await window.electronAPI.cancelRun({runUuid:me.value}),alert("Run cancelled. You can now create a new run."),$t.value=!1;return}catch(E){throw console.error("Error cancelling corrupted run:",E),new Error("Could not cancel corrupted run. Please contact support.")}else{$t.value=!1;return}const n=o.map((E,c)=>{const G=E.status==="success"||E.status==="skipped"||E.status==="ok",we=!E.was_random||G||E.revealed_early;let Xe=[];if(E.conditions)if(typeof E.conditions=="string")try{Xe=JSON.parse(E.conditions),Array.isArray(Xe)||(Xe=[])}catch{console.warn("Failed to parse conditions:",E.conditions),Xe=[]}else Array.isArray(E.conditions)&&(Xe=E.conditions);return{key:E.result_uuid,id:we&&E.gameid||"(random)",entryType:E.was_random?"random_game":"game",name:we&&E.game_name||"???",stageNumber:E.exit_number,stageName:we?E.stage_description:null,count:1,isLocked:!0,conditions:Xe,sfcpath:E.sfcpath||null}});N.splice(0,N.length,...n),console.log("Loaded run entries:",N.length),ce.value=o.findIndex(E=>E.status==="pending"),ce.value===-1&&(ce.value=o.length-1),console.log("Current challenge index:",ce.value),pe.value=o.map((E,c)=>({index:c,status:E.status||"pending",durationSeconds:E.duration_seconds||0,revealedEarly:E.revealed_early||!1})),Ut.value=pe.value.filter(E=>E.status==="success"||E.status==="skipped"||E.status==="ok").map(E=>({index:E.index,status:E.status,durationSeconds:E.durationSeconds,revealedEarly:E.revealedEarly})),console.log("Initialized undo stack with",Ut.value.length,"completed challenges");const f=Ne.value.started_at;console.log("DEBUG: started_at from DB:",f),console.log("DEBUG: type:",typeof f);const y=new Date(f+"Z").getTime(),P=Date.now();console.log("DEBUG: originalStartTime (ms):",y),console.log("DEBUG: now (ms):",P),console.log("DEBUG: difference (ms):",P-y),yn.value=y;const B=Math.floor((P-y)/1e3);if(ht.value=B-Ft.value,console.log("Resuming run. Started at:",f,"Total elapsed:",B,"Pause seconds:",Ft.value,"Net active:",ht.value,"Is paused:",qe.value),console.log("Starting timer"),tn.value=window.setInterval(()=>{if(yn.value&&!qe.value){const E=Date.now(),c=Math.floor((E-yn.value)/1e3);if(ht.value=c-Ft.value,ce.value<pe.value.length){const G=pe.value[ce.value];if(G.status==="pending"){const we=pe.value.slice(0,ce.value).reduce((Xe,wt)=>Xe+wt.durationSeconds,0);G.durationSeconds=ht.value-we}}}},1e3),ce.value>=0&&ce.value<N.length){const E=N[ce.value];console.log("[resumeRun] Current challenge:",ce.value,E),(E.entryType==="random_game"||E.entryType==="random_stage")&&E.name==="???"&&(console.log("[resumeRun] Current challenge is unrevealed random, revealing now..."),await no(!1))}js.value=!0,console.log("Run modal opened, resume complete")}catch(o){console.error("Error resuming run:",o),alert(`Error resuming run: ${o.message}`),$t.value=!1}}async function uu(){Ne.value&&($t.value=!1,await Sa(),me.value&&await ga())}async function du(){if(!Ne.value)return;if(!confirm(`Cancel run "${Ne.value.run_name}"?`)){$t.value=!1;return}try{oe()&&await window.electronAPI.cancelRun({runUuid:Ne.value.run_uuid}),$t.value=!1,console.log("Run cancelled from startup")}catch(n){console.error("Error cancelling run:",n),alert("Error cancelling run")}}return(o,n)=>{var f,y,P,B,E;return w(),S(ve,null,[s("main",zf,[s("header",Kf,[s("div",qf,[s("button",{onClick:Vo},"Open settings"),b.usb2snesEnabled==="yes"?(w(),S("div",Wf,[s("button",{onClick:di,class:"usb2snes-dropdown-btn"},[n[84]||(n[84]=s("span",{class:"dropdown-icon"},"",-1)),n[85]||(n[85]=s("span",null,"USB2SNES",-1)),s("span",{class:Se(["health-indicator-mini",Ve.value])},null,2),n[86]||(n[86]=s("span",{class:"dropdown-arrow"},"",-1))]),De.value?(w(),S("div",{key:0,class:"usb2snes-dropdown",onClick:n[1]||(n[1]=ge(()=>{},["stop"]))},[s("div",Jf,[s("div",Qf,[s("div",Yf,[n[87]||(n[87]=s("span",{class:"status-label"},"Connection:",-1)),s("span",{class:Se(["status-indicator",_.connected?"connected":"disconnected"])},m(_.connected?" Connected":" Disconnected"),3)]),s("div",Xf,[n[88]||(n[88]=s("span",{class:"status-label"},"Health:",-1)),s("span",{class:Se(["health-indicator",Ve.value])},m(Ve.value==="green"?" Healthy":Ve.value==="yellow"?" Slow":" Down"),3)])]),_.connected?(w(),S("div",Zf,[s("span",ep,m(_.device),1),n[89]||(n[89]=s("span",{class:"info-separator"},"|",-1)),s("span",tp,"FW "+m(_.firmwareVersion),1),n[90]||(n[90]=s("span",{class:"info-separator"},"|",-1)),s("span",np,m(_.romRunning),1)])):F("",!0),s("div",sp,[_.connected?F("",!0):(w(),S("button",{key:0,onClick:Tt,class:"btn-primary-small"}," Connect ")),_.connected?(w(),S("button",{key:1,onClick:vn,class:"btn-danger-small"}," Disconnect ")):F("",!0),s("button",{onClick:Ts,class:"btn-secondary-small"}," USB2SNES Diagnostics ")]),Ie.value?(w(),S("div",op,m(Ie.value),1)):F("",!0)]),s("div",lp,[n[91]||(n[91]=s("h4",null,"Quick Actions",-1)),s("div",ap,[s("button",{onClick:Yn,class:"action-btn"},"  Reconnect "),s("button",{onClick:v,disabled:!_.connected,class:"action-btn"},"  Reboot ",8,rp),s("button",{onClick:k,disabled:!_.connected,class:"action-btn"},"  Menu ",8,ip),s("button",{onClick:hi,class:"action-btn"},"  Upload "),s("button",{onClick:mi,disabled:!_.connected,class:"action-btn"},"  Cheats ",8,cp),s("button",{onClick:bi,disabled:!_.connected,class:"action-btn"},"  Challenges ",8,up)])]),s("div",dp,[s("div",{class:"minichat-header"},[n[92]||(n[92]=s("h4",null,"Quick Chat",-1)),s("button",{onClick:yi,class:"btn-link-small"},"Open Full Chat ")]),s("div",fp,[(w(!0),S(ve,null,Le(Xn.value,(c,G)=>(w(),S("div",{key:G,class:Se(["chat-entry-mini",c.type])},[s("span",pp,m(c.message),1)],2))),128)),Xn.value.length===0?(w(),S("div",gp," Commands will appear here ")):F("",!0)]),s("div",vp,[re(s("input",{ref_key:"miniChatInputField",ref:zl,"onUpdate:modelValue":n[0]||(n[0]=c=>Yt.value=c),onKeydown:wi,placeholder:"Enter command (e.g., !lives 0x63)",class:"minichat-input",disabled:!_.connected},null,40,hp),[[je,Yt.value]]),s("button",{onClick:Yl,disabled:!Yt.value.trim()||!_.connected,class:"btn-primary-small"}," Go ",8,mp)])])])):F("",!0)])):F("",!0),s("div",bp,[s("button",{onClick:Jn,class:Se(["filter-dropdown-btn",{"has-active-filter":fe.value}])},[n[93]||(n[93]=s("span",null,"Search/Filters",-1)),n[94]||(n[94]=s("span",{class:"dropdown-arrow"},"",-1)),fe.value?(w(),S("span",yp,"")):F("",!0)],2),h.value?(w(),S("div",{key:0,class:"filter-dropdown",onClick:n[15]||(n[15]=ge(()=>{},["stop"]))},[s("div",{class:"filter-header"},[n[95]||(n[95]=s("h3",null,"Search & Filters",-1)),s("button",{onClick:gn,class:"close"},"")]),s("div",wp,[s("div",Sp,[re(s("input",{ref_key:"filterSearchInput",ref:x,"onUpdate:modelValue":n[2]||(n[2]=c=>u.value=c),type:"text",placeholder:"Search or filter... (try: rating:>3, -demo:Yes, author:Panga)",class:"filter-search-input",onKeydown:ao(gn,["esc"])},null,544),[[je,u.value]]),s("button",{onClick:Dn,disabled:!fe.value,class:"btn-clear-filter"},"Clear",8,_p)]),s("div",Cp,[n[96]||(n[96]=s("div",{class:"filter-section-label"},"Common Filters:",-1)),s("div",kp,[s("button",{onClick:n[3]||(n[3]=c=>he("demo:No")),class:"filter-tag"},"demo:No"),s("button",{onClick:n[4]||(n[4]=c=>he("demo:Yes")),class:"filter-tag"},"demo:Yes"),s("button",{onClick:n[5]||(n[5]=c=>he("Kaizo")),class:"filter-tag"},"Kaizo"),s("button",{onClick:n[6]||(n[6]=c=>he("Standard")),class:"filter-tag"},"Standard"),s("button",{onClick:n[7]||(n[7]=c=>he("Puzzle")),class:"filter-tag"},"Puzzle"),s("button",{onClick:n[8]||(n[8]=c=>he("Troll")),class:"filter-tag"},"Troll"),s("button",{onClick:n[9]||(n[9]=c=>he("Vanilla")),class:"filter-tag"},"Vanilla"),s("button",{onClick:n[10]||(n[10]=c=>he("added:2025")),class:"filter-tag"},"Added: 2025"),s("button",{onClick:n[11]||(n[11]=c=>he("added:2024")),class:"filter-tag"},"Added: 2024"),s("button",{onClick:n[12]||(n[12]=c=>he("rating:>3")),class:"filter-tag"},"Rating > 3"),s("button",{onClick:n[13]||(n[13]=c=>he("rating:5")),class:"filter-tag"},"Rating: 5"),s("button",{onClick:n[14]||(n[14]=c=>he("rating:4")),class:"filter-tag"},"Rating: 4")])]),n[97]||(n[97]=Na('<div class="filter-help"><details><summary>Filter Syntax Guide</summary><div class="filter-help-content"><p><strong>Attribute Search:</strong> <code>&lt;attribute&gt;:&lt;value&gt;</code></p><p>Examples: <code>added:2025</code>, <code>author:FuSoYa</code>, <code>name:Cave</code></p><p><strong>Rating Filters:</strong> <code>rating:5</code>, <code>rating:&gt;3</code>, <code>rating:&lt;4</code></p><p><strong>Version Filters:</strong> <code>version:1</code> (specific), <code>version:*</code> (all versions)</p><p><em>By default, only the highest version of each game is searched.</em></p></div></details></div>',1))])])):F("",!0)]),s("div",Pp,[s("button",{onClick:Dt,class:"filter-dropdown-btn"},[...n[98]||(n[98]=[s("span",null,"Manage",-1),s("span",{class:"dropdown-arrow"},"",-1)])]),H.value?(w(),S("div",{key:0,class:"filter-dropdown simple-dropdown",onClick:n[20]||(n[20]=ge(()=>{},["stop"]))},[s("div",xp,[s("button",{onClick:n[16]||(n[16]=c=>{ki(),dt()}),disabled:V.value===0,class:"dropdown-action-btn"},"Hide checked",8,Ep),s("button",{onClick:n[17]||(n[17]=c=>{Pi(),dt()}),disabled:V.value===0,class:"dropdown-action-btn"},"Unhide checked",8,Rp),n[99]||(n[99]=s("div",{class:"dropdown-separator"},null,-1)),s("button",{onClick:n[18]||(n[18]=c=>{It(),dt()}),disabled:V.value===0,class:"dropdown-action-btn"},"Export Full",8,Ap),s("button",{onClick:n[19]||(n[19]=c=>{ot(),dt()}),class:"dropdown-action-btn"},"Import")])])):F("",!0)]),s("div",Dp,[s("button",{onClick:ke,class:"filter-dropdown-btn"},[...n[100]||(n[100]=[s("span",null,"Select",-1),s("span",{class:"dropdown-arrow"},"",-1)])]),O.value?(w(),S("div",{key:0,class:"filter-dropdown simple-dropdown",onClick:n[24]||(n[24]=ge(()=>{},["stop"]))},[s("div",Ip,[s("button",{onClick:n[21]||(n[21]=c=>{Si(),ie()}),disabled:ee.value.length===0,class:"dropdown-action-btn"},"Check all",8,Tp),s("button",{onClick:n[22]||(n[22]=c=>{_i(),ie()}),class:"dropdown-action-btn"},"Uncheck all"),s("button",{onClick:n[23]||(n[23]=c=>{Ci(),ie()}),disabled:ee.value.length===0,class:"dropdown-action-btn"},"Check random",8,Mp)])])):F("",!0)]),s("button",{onClick:An,disabled:V.value===0},"Add to Run",8,Fp),s("label",Up,[n[102]||(n[102]=Q(" Status for checked: ",-1)),re(s("select",{"onUpdate:modelValue":n[25]||(n[25]=c=>C.value=c),onChange:xi,disabled:V.value===0},[...n[101]||(n[101]=[s("option",{value:""},"Select",-1),s("option",{value:"Default"},"Default",-1),s("option",{value:"In Progress"},"In Progress",-1),s("option",{value:"Finished"},"Finished",-1)])],40,$p),[[it,C.value]])]),s("label",Np,[re(s("input",{type:"checkbox","onUpdate:modelValue":n[26]||(n[26]=c=>d.value=c)},null,512),[[ps,d.value]]),n[103]||(n[103]=Q(" Show hidden ",-1))]),s("label",Lp,[re(s("input",{type:"checkbox","onUpdate:modelValue":n[27]||(n[27]=c=>g.value=c)},null,512),[[ps,g.value]]),n[104]||(n[104]=Q(" Hide finished ",-1))])]),s("div",Op,[s("button",{onClick:Xi},"Prepare Run"),s("button",{onClick:Ei,disabled:!Ue.value},"Start",8,Vp),s("button",{onClick:Ri,disabled:!X.value},"Edit notes",8,Bp),s("button",{onClick:Ai,disabled:!X.value},"My rating",8,Hp),b.usb2snesEnabled==="yes"?(w(),S("div",jp,[s("button",{onClick:Ec,class:"snes-contents-dropdown-btn"},"  SNES Files "),In.value?(w(),S("div",{key:0,class:"snes-contents-dropdown",onClick:n[29]||(n[29]=ge(()=>{},["stop"]))},[s("div",Gp,[n[106]||(n[106]=s("h4",null,"Files on SNES",-1)),s("label",zp,[re(s("input",{type:"checkbox","onUpdate:modelValue":n[28]||(n[28]=c=>Fo.value=c),onChange:cs},null,544),[[ps,Fo.value]]),n[105]||(n[105]=Q(" Show All ",-1))])]),s("div",Kp,[es.value.length===0?(w(),S("div",qp," No files found on SNES /work/ folder ")):F("",!0),(w(!0),S(ve,null,Le(es.value,c=>(w(),S("div",{key:c.id,class:Se(["snes-file-item",{pinned:c.pinned,dismissed:c.dismissed,launched:c.launched_yet}])},[s("div",Wp,[s("div",Jp,[c.pinned?(w(),S("span",Qp,"")):F("",!0),Q(" "+m(c.filename),1)]),s("div",Yp,[c.gamename?(w(),S("span",Xp,m(c.gamename),1)):c.gameid?(w(),S("span",Zp,"ID: "+m(c.gameid),1)):(w(),S("span",eg,"Unknown file")),c.upload_timestamp?(w(),S("span",tg,m(new Date(c.upload_timestamp*1e3).toLocaleString()),1)):F("",!0)])]),s("div",ng,[s("button",{onClick:G=>Rc(c),class:"snes-action-btn launch-btn",title:"Launch"},"  ",8,sg),s("button",{onClick:G=>Ac(c),class:Se(["snes-action-btn","pin-btn",{active:c.pinned}]),title:"Pin"},"  ",10,og),s("button",{onClick:G=>Dc(c),class:"snes-action-btn dismiss-btn",title:"Dismiss"},"  ",8,lg),c.gameid?(w(),S("button",{key:0,onClick:G=>Ic(c),class:"snes-action-btn find-btn",title:"Find Game"},"  ",8,ag)):F("",!0)])],2))),128))])])):F("",!0)])):F("",!0)])]),s("section",rg,[s("div",ig,[l.value?(w(),S("div",cg,[...n[107]||(n[107]=[s("div",{class:"loading-spinner"},null,-1),s("div",null,"Loading games from database...",-1)])])):F("",!0),a.value?(w(),S("div",ug,[n[108]||(n[108]=s("strong",null,"Error:",-1)),Q(" "+m(a.value)+" ",1),s("button",{onClick:el},"Retry")])):F("",!0),s("table",dg,[s("thead",null,[s("tr",null,[s("th",fg,[s("input",{type:"checkbox",checked:st.value,onChange:n[30]||(n[30]=c=>vt(c))},null,40,pg)]),n[109]||(n[109]=s("th",null,"Action",-1)),n[110]||(n[110]=s("th",null,"Id",-1)),n[111]||(n[111]=s("th",null,"Name",-1)),n[112]||(n[112]=s("th",null,"Type",-1)),n[113]||(n[113]=s("th",null,"Author",-1)),n[114]||(n[114]=s("th",null,"Length",-1)),n[115]||(n[115]=s("th",null,"Status",-1)),n[116]||(n[116]=s("th",null,"My Ratings",-1)),n[117]||(n[117]=s("th",null,"Public",-1)),n[118]||(n[118]=s("th",null,"Hidden",-1)),n[119]||(n[119]=s("th",null,"My notes",-1))])]),s("tbody",null,[(w(!0),S(ve,null,Le(ee.value,c=>(w(),S("tr",{key:c.Id,class:Se({hidden:c.Hidden,finished:c.Status==="Finished"}),onClick:G=>Rn(c)},[s("td",vg,[s("input",{type:"checkbox",checked:i.value.has(c.Id),onChange:G=>Rt(c.Id,G),onClick:n[31]||(n[31]=ge(()=>{},["stop"]))},null,40,hg)]),s("td",mg,m(At(c.Id)?"*":""),1),s("td",null,m(c.Id),1),s("td",{class:Se(["name",{"in-run":At(c.Id)}])},m(c.Name),3),s("td",null,m(c.Type),1),s("td",null,m(c.Author),1),s("td",null,m(c.Length),1),s("td",null,m(c.Status),1),s("td",null,m(ya(c.MyDifficultyRating,c.MyReviewRating)),1),s("td",null,m(c.Publicrating??""),1),s("td",null,m(c.Hidden?"Yes":"No"),1),s("td",bg,m(c.Mynotes??""),1)],10,gg))),128)),ee.value.length===0?(w(),S("tr",yg,[...n[120]||(n[120]=[s("td",{class:"empty",colspan:"11"},"No items match your filters.",-1)])])):F("",!0)])])]),s("aside",wg,[X.value&&Z.value?(w(),S("div",Sg,[n[138]||(n[138]=s("h3",null,"Details",-1)),s("div",_g,[s("table",Cg,[s("tbody",null,[s("tr",null,[n[121]||(n[121]=s("th",null,"Version",-1)),s("td",null,[re(s("select",{"onUpdate:modelValue":n[32]||(n[32]=c=>q.value=c)},[(w(!0),S(ve,null,Le(ma.value,c=>(w(),S("option",{key:c,value:c}," Version "+m(c)+m(c===ba.value?" (Latest)":""),9,kg))),128))],512),[[it,q.value]])])]),s("tr",null,[n[122]||(n[122]=s("th",null,"Id",-1)),s("td",Pg,m(Z.value.Id),1)]),s("tr",null,[n[123]||(n[123]=s("th",null,"Name",-1)),s("td",xg,m(Z.value.Name),1)]),s("tr",null,[n[124]||(n[124]=s("th",null,"Type",-1)),s("td",Eg,m(Z.value.Type),1)]),Z.value.LegacyType?(w(),S("tr",Rg,[n[125]||(n[125]=s("th",null,"Legacy Type",-1)),s("td",Ag,m(Z.value.LegacyType),1)])):F("",!0),s("tr",null,[n[126]||(n[126]=s("th",null,"Author",-1)),s("td",Dg,m(Z.value.Author),1)]),s("tr",null,[n[127]||(n[127]=s("th",null,"Length",-1)),s("td",Ig,m(Z.value.Length),1)]),s("tr",null,[n[128]||(n[128]=s("th",null,"Public Difficulty",-1)),s("td",Tg,m(Z.value.PublicDifficulty||""),1)]),s("tr",null,[n[129]||(n[129]=s("th",null,"Public Rating",-1)),s("td",Mg,m(Z.value.Publicrating||""),1)]),s("tr",null,[n[131]||(n[131]=s("th",null,"Status",-1)),s("td",null,[re(s("select",{"onUpdate:modelValue":n[33]||(n[33]=c=>Z.value.Status=c)},[...n[130]||(n[130]=[s("option",{value:"Default"},"Default",-1),s("option",{value:"In Progress"},"In Progress",-1),s("option",{value:"Finished"},"Finished",-1)])],512),[[it,Z.value.Status]])])]),s("tr",null,[n[132]||(n[132]=s("th",null,"My Difficulty",-1)),s("td",null,[s("div",Fg,[(w(),S(ve,null,Le(6,c=>s("span",{key:"diff-"+(c-1),onClick:G=>Z.value.MyDifficultyRating=c-1,class:Se([{filled:c-1<=(Z.value.MyDifficultyRating??-1)},"star"])},"",10,Ug)),64)),s("button",{onClick:n[34]||(n[34]=c=>Z.value.MyDifficultyRating=null),class:"btn-clear-rating"},""),s("span",$g,m(nu(Z.value.MyDifficultyRating)),1)])])]),s("tr",null,[n[133]||(n[133]=s("th",null,"My Review",-1)),s("td",null,[s("div",Ng,[(w(),S(ve,null,Le(6,c=>s("span",{key:"rev-"+(c-1),onClick:G=>Z.value.MyReviewRating=c-1,class:Se([{filled:c-1<=(Z.value.MyReviewRating??-1)},"star"])},"",10,Lg)),64)),s("button",{onClick:n[35]||(n[35]=c=>Z.value.MyReviewRating=null),class:"btn-clear-rating"},""),s("span",Og,m(su(Z.value.MyReviewRating)),1)])])]),s("tr",null,[n[134]||(n[134]=s("th",null,"My Skill Level",-1)),s("td",null,[s("div",Vg,[s("div",Bg,[(w(),S(ve,null,Le(11,c=>s("span",{key:"skill-"+(c-1),onClick:G=>Z.value.MySkillRating=c-1,class:Se([{filled:c-1<=(Z.value.MySkillRating??-1)},"star star-small"]),title:wa(c-1)},"",10,Hg)),64)),s("button",{onClick:n[36]||(n[36]=c=>Z.value.MySkillRating=null),class:"btn-clear-rating"},""),s("span",jg,m(ou(Z.value.MySkillRating)),1)]),Z.value.MySkillRating!==null&&Z.value.MySkillRating!==void 0?(w(),S("div",Gg,m(wa(Z.value.MySkillRating)),1)):F("",!0)])])]),s("tr",null,[n[135]||(n[135]=s("th",null,"Hidden",-1)),s("td",null,[re(s("input",{type:"checkbox","onUpdate:modelValue":n[37]||(n[37]=c=>Z.value.Hidden=c)},null,512),[[ps,Z.value.Hidden]])])]),s("tr",null,[n[136]||(n[136]=s("th",null,"Exclude from Random",-1)),s("td",null,[re(s("input",{type:"checkbox","onUpdate:modelValue":n[38]||(n[38]=c=>Z.value.ExcludeFromRandom=c)},null,512),[[ps,Z.value.ExcludeFromRandom]])])]),s("tr",null,[n[137]||(n[137]=s("th",null,"My notes",-1)),s("td",null,[re(s("textarea",{"onUpdate:modelValue":n[39]||(n[39]=c=>Z.value.Mynotes=c),rows:"4"},null,512),[[je,Z.value.Mynotes]])])]),s("tr",null,[s("td",zg,[s("div",Kg,[s("button",{onClick:ru,disabled:tl.value},m(tl.value?" Version-Specific":"Set Version-Specific Rating"),9,qg),s("button",{onClick:au},"View Details (JSON)")])])])])])])])):F("",!0),X.value&&Z.value?(w(),S("div",Wg,[n[146]||(n[146]=s("h3",null,"Stages",-1)),s("div",Jg,[s("button",{onClick:qi,disabled:He.value.size===0},"Add chosen stages to run",8,Qg),s("button",{onClick:Wi,disabled:He.value.size===0},"Edit notes",8,Yg),s("button",{onClick:n[40]||(n[40]=c=>la("difficulty")),disabled:He.value.size===0},"Set Difficulty",8,Xg),s("button",{onClick:n[41]||(n[41]=c=>la("review")),disabled:He.value.size===0},"Set Review",8,Zg)]),s("div",ev,[s("table",tv,[s("thead",null,[s("tr",null,[s("th",nv,[s("input",{type:"checkbox",checked:Gi.value,onChange:n[42]||(n[42]=c=>zi(c))},null,40,sv)]),n[139]||(n[139]=s("th",null,"Parent ID",-1)),n[140]||(n[140]=s("th",null,"Exit #",-1)),n[141]||(n[141]=s("th",null,"Description",-1)),n[142]||(n[142]=s("th",null,"Public",-1)),n[143]||(n[143]=s("th",null,"My Ratings",-1)),n[144]||(n[144]=s("th",null,"My notes",-1))])]),s("tbody",null,[(w(!0),S(ve,null,Le(Zt.value,c=>(w(),S("tr",{key:c.key},[s("td",ov,[s("input",{type:"checkbox",checked:He.value.has(c.key),onChange:G=>Ki(c.key,G)},null,40,lv)]),s("td",null,m(c.parentId),1),s("td",null,m(c.exitNumber),1),s("td",null,m(c.description),1),s("td",null,m(c.publicRating??""),1),s("td",null,m(ya(c.myDifficultyRating,c.myReviewRating)),1),s("td",null,m(c.myNotes??""),1)]))),128)),Zt.value.length===0?(w(),S("tr",av,[...n[145]||(n[145]=[s("td",{class:"empty",colspan:"7"},"No stages.",-1)])])):F("",!0)])])])])):F("",!0),X.value?F("",!0):(w(),S("div",rv,[...n[147]||(n[147]=[s("h3",null,"Details",-1),s("div",{class:"panel-body"},"Select a single item to view details and stages.",-1)])]))])])]),js.value?(w(),S("div",{key:0,class:"modal-backdrop",onClick:ge(is,["self"])},[s("div",iv,[s("header",cv,[s("h3",null,m(Fe.value?"Active Run":"Prepare Run")+m(pt.value?": "+pt.value:""),1),s("div",uv,[Fe.value?F("",!0):(w(),S(ve,{key:0},[s("button",{onClick:Gc,class:"btn-past-runs"}," Past Runs"),s("button",{onClick:jc,class:"btn-conditions-header",title:`Global Conditions: ${at.value.length>0?at.value.join(", "):"None"}`},m(at.value.length>0?` Global Conditions (${at.value.length})`:"Set Global Conditions"),9,dv),s("button",{onClick:iu,disabled:!aa.value}," Export",8,fv),s("button",{onClick:cu}," Import"),s("button",{onClick:n[43]||(n[43]=c=>vc("save")),disabled:N.length===0},"Stage and Save",8,pv),s("button",{onClick:Tc,disabled:!aa.value,class:"btn-start-run"}," Start Run",8,gv)],64)),Fe.value?(w(),S(ve,{key:1},[s("span",vv," "+m(_n(ht.value)),1),Ft.value>0?(w(),S("span",hv," "+m(_n(Ft.value)),1)):F("",!0),s("span",mv,"Challenge "+m(ce.value+1)+" / "+m(N.length),1),qe.value?F("",!0):(w(),S("button",{key:1,onClick:ga,class:"btn-pause"}," Pause")),qe.value?(w(),S("button",{key:2,onClick:Fc,class:"btn-unpause"}," Unpause")):F("",!0),s("button",{onClick:Lc,disabled:!Yi.value||qe.value,class:"btn-back"}," Back",8,bv),s("button",{onClick:$c,disabled:!yt.value||qe.value,class:"btn-next"}," Done",8,yv),yt.value&&Jo.value?(w(),S("button",{key:3,onClick:Mc,disabled:qe.value,class:"btn-launch",title:`Launch challenge ${String(ce.value+1).padStart(2,"0")} on USB2SNES`}," Launch "+m(String(ce.value+1).padStart(2,"0")),9,wv)):F("",!0),s("button",{onClick:Nc,disabled:!yt.value||qe.value,class:"btn-skip"}," Skip",8,Sv),s("button",{onClick:Uc,class:"btn-cancel-run"}," Cancel Run")],64)):F("",!0),s("button",{class:"close",onClick:is},"")])]),Fe.value?F("",!0):(w(),S("section",_v,[s("div",Cv,[s("button",{onClick:tc},"Check All"),s("button",{onClick:nc},"Uncheck All"),s("button",{onClick:sc,disabled:Qi.value===0},"Remove",8,kv),s("button",{onClick:dc,disabled:!ra.value}," Move Up",8,Pv),s("button",{onClick:fc,disabled:!ia.value}," Move Down",8,xv)]),s("div",Ev,[s("label",null,[n[149]||(n[149]=Q(" Filter Type ",-1)),re(s("select",{"onUpdate:modelValue":n[44]||(n[44]=c=>W.type=c)},[n[148]||(n[148]=s("option",{value:"any"},"Any",-1)),(w(!0),S(ve,null,Le($n.value.types,c=>(w(),S("option",{key:c,value:c},m(c),9,Rv))),128))],512),[[it,W.type]])]),s("label",null,[n[151]||(n[151]=Q(" Difficulty ",-1)),re(s("select",{"onUpdate:modelValue":n[45]||(n[45]=c=>W.difficulty=c)},[n[150]||(n[150]=s("option",{value:"any"},"Any",-1)),(w(!0),S(ve,null,Le($n.value.difficulties,c=>(w(),S("option",{key:c,value:c},m(c),9,Av))),128))],512),[[it,W.difficulty]])]),re(s("input",{class:"pattern","onUpdate:modelValue":n[46]||(n[46]=c=>W.pattern=c),type:"text",placeholder:"Advanced filter (try: rating:>3, -demo:Yes, author:Panga)"},null,512),[[je,W.pattern]]),s("label",null,[n[152]||(n[152]=Q(" Count ",-1)),re(s("input",{class:"count","onUpdate:modelValue":n[47]||(n[47]=c=>W.count=c),type:"number",min:"1",max:"100"},null,512),[[je,W.count,void 0,{number:!0}]])]),s("label",null,[n[153]||(n[153]=Q(" Seed ",-1)),re(s("input",{class:"seed","onUpdate:modelValue":n[48]||(n[48]=c=>W.seed=c),type:"text",placeholder:"Auto-generated"},null,512),[[je,W.seed]])]),s("button",{onClick:ua,title:"Generate new random seed"},""),s("button",{onClick:gc,disabled:!ca.value},"Add Random Game",8,Dv),Vt.value!==null?(w(),S("span",{key:0,class:Se(["match-count-indicator",{insufficient:Bt.value}])},[Q(m(Vt.value)+" games match ",1),Bt.value?(w(),S("span",Iv," (need "+m((W.count||0)+2)+"+)",1)):F("",!0)],2)):F("",!0)])])),s("section",Tv,[s("div",Mv,[s("table",Fv,[s("thead",null,[s("tr",null,[s("th",Uv,[s("input",{type:"checkbox",checked:Ji.value,onChange:n[49]||(n[49]=c=>ec(c))},null,40,$v)]),n[154]||(n[154]=s("th",{class:"col-seq"},"#",-1)),Fe.value?(w(),S("th",Nv,"Status")):F("",!0),Fe.value?(w(),S("th",Lv,"Time")):F("",!0),n[155]||(n[155]=s("th",{class:"col-actions"},"Actions",-1)),n[156]||(n[156]=s("th",null,"ID",-1)),n[157]||(n[157]=s("th",null,"Entry Type",-1)),n[158]||(n[158]=s("th",null,"Name",-1)),n[159]||(n[159]=s("th",null,"Stage #",-1)),n[160]||(n[160]=s("th",null,"Stage name",-1)),n[161]||(n[161]=s("th",{class:"col-count"},"Count",-1)),n[162]||(n[162]=s("th",null,"Filter difficulty",-1)),n[163]||(n[163]=s("th",null,"Filter type",-1)),n[164]||(n[164]=s("th",{class:"col-pattern"},"Filter pattern",-1)),n[165]||(n[165]=s("th",{class:"col-matches"},"Matches",-1)),n[166]||(n[166]=s("th",{class:"col-seed"},"Seed",-1)),n[167]||(n[167]=s("th",{class:"col-conditions"},"Conditions",-1))])]),s("tbody",null,[(w(!0),S(ve,null,Le(N,(c,G)=>(w(),S("tr",{key:c.key,draggable:!Fe.value,onDragstart:we=>rc(G,we),onDragover:ge(we=>ic(G,we),["prevent"]),onDrop:we=>cc(G,we),onDragend:uc,class:Se({dragging:Un.value===G,"current-challenge":Fe.value&&G===ce.value})},[s("td",Vv,[s("input",{type:"checkbox",checked:Re.value.has(c.key),onChange:we=>oc(c.key,we),disabled:Fe.value},null,40,Bv)]),s("td",Hv,m(G+1),1),Fe.value?(w(),S("td",{key:0,class:Se(["col-status",Vc(G)])},[s("span",jv,m(Oc(G)),1)],2)):F("",!0),Fe.value?(w(),S("td",Gv,m(Bc(G)),1)):F("",!0),s("td",zv,[s("button",{class:"btn-mini",onClick:we=>lc(G),disabled:Fe.value||G===0,title:"Move up"},"",8,Kv),s("button",{class:"btn-mini",onClick:we=>ac(G),disabled:Fe.value||G===N.length-1,title:"Move down"},"",8,qv)]),s("td",null,m(c.id),1),s("td",null,[s("span",Wv,m(c.entryType==="game"?"Game":c.entryType==="stage"?"Stage":c.entryType==="random_game"?"Random Game":c.entryType==="random_stage"?"Random Stage":c.entryType),1)]),s("td",null,m(c.name),1),s("td",null,m(c.stageNumber??""),1),s("td",null,m(c.stageName??""),1),s("td",Jv,[re(s("input",{type:"number",min:"1",max:Cn(c)&&c.matchCount?c.matchCount-2:void 0,"onUpdate:modelValue":we=>c.count=we,disabled:Fe.value,title:Cn(c)&&c.matchCount?`Max: ${c.matchCount-2} (${c.matchCount} matches - 2)`:""},null,8,Qv),[[je,c.count,void 0,{number:!0}]])]),Cn(c)?(w(),S("td",Yv,[s("span",Xv,m(c.filterDifficulty||""),1)])):(w(),S("td",Zv,"")),Cn(c)?(w(),S("td",eh,[s("span",th,m(c.filterType||""),1)])):(w(),S("td",nh,"")),Cn(c)?(w(),S("td",sh,[s("span",oh,m(c.filterPattern||""),1)])):(w(),S("td",lh,"")),Cn(c)?(w(),S("td",ah,[s("span",{class:Se(["match-count-display",{insufficient:c.matchCount&&c.matchCount<(c.count||0)+2}])},m(c.matchCount!==null&&c.matchCount!==void 0?c.matchCount:"?"),3)])):(w(),S("td",rh,"")),Cn(c)?(w(),S("td",ih,[re(s("input",{"onUpdate:modelValue":we=>c.seed=we,disabled:Fe.value},null,8,ch),[[je,c.seed]])])):(w(),S("td",uh,"")),s("td",dh,[s("button",{onClick:we=>Hc(c),class:"btn-mini btn-conditions",disabled:Fe.value,title:`Conditions: ${Array.isArray(c.conditions)&&c.conditions.length>0?c.conditions.join(", "):"None"}`},m(Array.isArray(c.conditions)&&c.conditions.length>0?` (${c.conditions.length})`:"Set"),9,fh)])],42,Ov))),128)),N.length===0?(w(),S("tr",ph,[...n[168]||(n[168]=[s("td",{class:"empty",colspan:"14"},"Run is empty. Add entries or use Add Random Game.",-1)])])):F("",!0)])])])])])])):F("",!0),nl.value?(w(),S("div",{key:1,class:"modal-backdrop",onClick:ge(sl,["self"])},[s("div",gh,[s("header",{class:"modal-header"},[n[169]||(n[169]=s("h3",null,"Game Details (JSON)",-1)),s("button",{class:"close",onClick:sl},"")]),s("section",vh,[s("pre",null,m(lu.value),1)]),s("footer",{class:"modal-footer"},[s("button",{onClick:sl},"Close")])])])):F("",!0),Os.value?(w(),S("div",{key:2,class:"modal-backdrop",onClick:ge(Vs,["self"])},[s("div",hh,[s("header",{class:"modal-header"},[n[170]||(n[170]=s("h3",null,"Settings",-1)),s("button",{class:"close",onClick:Vs},"")]),s("section",mh,[s("div",bh,[s("div",yh,[n[172]||(n[172]=s("label",{class:"setting-label"}," Theme ",-1)),s("div",wh,[re(s("select",{"onUpdate:modelValue":n[50]||(n[50]=c=>b.theme=c),onChange:Ii},[...n[171]||(n[171]=[s("option",{value:"light"},"Light Theme",-1),s("option",{value:"dark"},"Dark",-1),s("option",{value:"onyx"},"Onyx (Black & Gray)",-1),s("option",{value:"ash"},"Ash (Mid-Gray)",-1)])],544),[[it,b.theme]])])]),n[173]||(n[173]=s("div",{class:"setting-caption"}," Choose your preferred color scheme. Changes apply immediately. ",-1))]),s("div",Sh,[s("div",_h,[n[174]||(n[174]=s("label",{class:"setting-label"}," Text Size ",-1)),s("div",Ch,[re(s("input",{type:"range","onUpdate:modelValue":n[51]||(n[51]=c=>Bs.value=c),onInput:Ti,min:"0",max:"3",step:"1",class:"text-size-slider"},null,544),[[je,Bs.value,void 0,{number:!0}]]),s("span",kh,m(Pr(Bf)(b.textSize)),1)])]),n[175]||(n[175]=s("div",{class:"setting-caption"}," Adjust the text size throughout the application. ",-1))]),s("div",Ph,[s("div",xh,[s("label",Eh,[s("span",Rh,m(b.vanillaRomValid?"":""),1),n[176]||(n[176]=Q(" Import required Vanilla SMW ROM ",-1))]),s("div",Ah,[s("div",{class:"drop-zone",onDragover:n[52]||(n[52]=ge(()=>{},["prevent"])),onDrop:ge(Fi,["prevent"])}," Drag ROM file here ",32),s("button",{onClick:Ui},"Browse")])]),b.vanillaRomPath?(w(),S("div",Dh,[n[177]||(n[177]=Q(" Current: ",-1)),s("code",null,m(b.vanillaRomPath),1)])):F("",!0),n[178]||(n[178]=s("div",{class:"setting-caption"},[Q(" You must have a legally-obtained SMW SFC file that you are authorized to play with, required to proceed."),s("br"),Q(" The acceptable file has a sha224 sum of "),s("code",null,"fdc4c00e09a8e08d395003e9c8a747f45a9e5e94cbfedc508458eb08"),s("br"),Q(" OR sha-1: "),s("code",null,"6b47bb75d16514b6a476aa0c73a683a2a4c18765"),Q(", Or Md5: "),s("code",null,"cdd3c8c37322978ca8669b34bc89c804")],-1))]),s("div",Ih,[s("div",Th,[s("label",Mh,[s("span",Fh,m(b.flipsValid?"":""),1),n[179]||(n[179]=Q(" Import FLIPS executable ",-1))]),s("div",Uh,[s("div",{class:"drop-zone",onDragover:n[53]||(n[53]=ge(()=>{},["prevent"])),onDrop:ge($i,["prevent"])}," Drag FLIPS file here ",32),s("button",{onClick:Ni},"Browse")])]),b.flipsPath?(w(),S("div",$h,[n[180]||(n[180]=Q(" Current: ",-1)),s("code",null,m(b.flipsPath),1)])):F("",!0),n[181]||(n[181]=s("div",{class:"setting-caption"},[Q(" Floating IPS "),s("a",{href:"https://www.gamebrew.org/wiki/Floating_IPS",target:"_blank"},"https://www.gamebrew.org/wiki/Floating_IPS")],-1))]),s("div",Nh,[s("div",Lh,[n[183]||(n[183]=s("label",{class:"setting-label"},"Game launch method",-1)),s("div",Oh,[re(s("select",{"onUpdate:modelValue":n[54]||(n[54]=c=>b.launchMethod=c)},[...n[182]||(n[182]=[s("option",{value:"manual"},"Launch Manually",-1),s("option",{value:"program"},"Run Launch Program",-1),s("option",{value:"usb2snes"},"Launch from USB2Snes",-1)])],512),[[it,b.launchMethod]])])])]),s("div",Vh,[s("div",Bh,[n[184]||(n[184]=s("label",{class:"setting-label"},"Launch Program",-1)),s("div",Hh,[s("div",{class:"drop-zone",onDragover:n[55]||(n[55]=ge(()=>{},["prevent"])),onDrop:ge(Oi,["prevent"])}," Drag program file here ",32),s("button",{onClick:Bi},"Browse")])]),b.launchProgram?(w(),S("div",jh,[n[185]||(n[185]=Q(" Current: ",-1)),s("code",null,m(b.launchProgram),1)])):F("",!0)]),s("div",Gh,[s("div",zh,[n[186]||(n[186]=s("label",{class:"setting-label"},"Launch Program Arguments",-1)),s("div",Kh,[re(s("input",{type:"text","onUpdate:modelValue":n[56]||(n[56]=c=>b.launchProgramArgs=c)},null,512),[[je,b.launchProgramArgs]])])])]),s("div",qh,[s("div",Wh,[n[188]||(n[188]=s("label",{class:"setting-label"},"Default usb2snes library",-1)),s("div",Jh,[re(s("select",{"onUpdate:modelValue":n[57]||(n[57]=c=>b.usb2snesLibrary=c)},[...n[187]||(n[187]=[s("option",{value:"usb2snes_a"},"usb2snes_a (Type A - Python port)",-1),s("option",{value:"usb2snes_b"},"usb2snes_b (Type B - 3rd party JS)",-1),s("option",{value:"qusb2snes"},"Qusb2snes (Local server)",-1),s("option",{value:"node-usb"},"node-usb (Direct hardware)",-1)])],512),[[it,b.usb2snesLibrary]])])])]),s("div",Qh,[s("div",Yh,[n[189]||(n[189]=s("label",{class:"setting-label"},"USB2snes Websocket address",-1)),s("div",Xh,[re(s("input",{type:"text","onUpdate:modelValue":n[58]||(n[58]=c=>b.usb2snesAddress=c)},null,512),[[je,b.usb2snesAddress]])])]),n[190]||(n[190]=s("div",{class:"setting-caption warning"},[Q("  USB2SNES launch requires a USB2SNES server running. "),s("a",{href:"https://usb2snes.com/",target:"_blank"},"https://usb2snes.com/")],-1))]),s("div",Zh,[s("div",em,[n[192]||(n[192]=s("label",{class:"setting-label"},"USB2SNES Enabled",-1)),s("div",tm,[re(s("select",{"onUpdate:modelValue":n[59]||(n[59]=c=>b.usb2snesEnabled=c)},[...n[191]||(n[191]=[s("option",{value:"yes"},"Yes",-1),s("option",{value:"no"},"No",-1)])],512),[[it,b.usb2snesEnabled]])])])]),s("div",nm,[s("div",sm,[n[194]||(n[194]=s("label",{class:"setting-label"},"USB2SNES Launch Preference",-1)),s("div",om,[re(s("select",{"onUpdate:modelValue":n[60]||(n[60]=c=>b.usb2snesLaunchPref=c)},[...n[193]||(n[193]=[s("option",{value:"auto"},"Launch Automatically",-1),s("option",{value:"manual"},"Manual Launch (Do nothing)",-1),s("option",{value:"reset"},"Manual Launch (Reset console)",-1)])],512),[[it,b.usb2snesLaunchPref]])])])]),s("div",lm,[s("div",am,[n[196]||(n[196]=s("label",{class:"setting-label"},"USB2SNES Upload Preference",-1)),s("div",rm,[re(s("select",{"onUpdate:modelValue":n[61]||(n[61]=c=>b.usb2snesUploadPref=c)},[...n[195]||(n[195]=[s("option",{value:"manual"},"Manual Transfer (do not upload)",-1),s("option",{value:"check"},"Check first and Upload",-1),s("option",{value:"always"},"Always Upload",-1)])],512),[[it,b.usb2snesUploadPref]])])])]),s("div",im,[s("div",cm,[n[197]||(n[197]=s("label",{class:"setting-label"},"USB2SNES Upload Directory",-1)),s("div",um,[re(s("input",{type:"text","onUpdate:modelValue":n[62]||(n[62]=c=>b.usb2snesUploadDir=c)},null,512),[[je,b.usb2snesUploadDir]])])])]),s("div",dm,[s("div",fm,[s("label",pm,[s("span",gm,m(b.asarValid?"":""),1),n[198]||(n[198]=Q(" Import ASAR executable ",-1))]),s("div",vm,[s("div",{class:"drop-zone",onDragover:n[63]||(n[63]=ge(()=>{},["prevent"])),onDrop:ge(Li,["prevent"])}," Drag ASAR file here ",32),s("button",{onClick:Vi},"Browse")])]),b.asarPath?(w(),S("div",hm,[n[199]||(n[199]=Q(" Current: ",-1)),s("code",null,m(b.asarPath),1)])):F("",!0),n[200]||(n[200]=s("div",{class:"setting-caption"},[Q(" Download ASAR from "),s("a",{href:"https://smwc.me/s/37443",target:"_blank"},"https://smwc.me/s/37443")],-1))]),s("div",mm,[s("div",bm,[s("label",ym,[s("span",wm,m(b.uberAsmValid?"":""),1),n[201]||(n[201]=Q(" Import UberASM executable ",-1))]),s("div",Sm,[s("div",{class:"drop-zone",onDragover:n[64]||(n[64]=ge(()=>{},["prevent"])),onDrop:ge(Hi,["prevent"])}," Drag UberASM file here ",32),s("button",{onClick:ji},"Browse")])]),b.uberAsmPath?(w(),S("div",_m,[n[202]||(n[202]=Q(" Current: ",-1)),s("code",null,m(b.uberAsmPath),1)])):F("",!0),n[203]||(n[203]=s("div",{class:"setting-caption"},[Q(" Download UberASM from "),s("a",{href:"https://smwc.me/s/39036",target:"_blank"},"https://smwc.me/s/39036")],-1))]),s("div",Cm,[s("div",km,[s("label",Pm,[s("span",xm,m(b.tempDirValid?"":""),1),n[204]||(n[204]=Q(" Temporary Directory Override ",-1))]),s("div",Em,[re(s("input",{type:"text","onUpdate:modelValue":n[65]||(n[65]=c=>b.tempDirOverride=c),placeholder:"Leave blank for OS default temp dir"},null,512),[[je,b.tempDirOverride]])])]),b.tempDirOverride?(w(),S("div",Rm,[n[205]||(n[205]=Q(" Current: ",-1)),s("code",null,m(b.tempDirOverride),1)])):F("",!0),n[206]||(n[206]=s("div",{class:"setting-caption"},[Q(" Optional: Override the base path for temporary directories used by RHTools."),s("br"),Q(" Leave blank to use the OS-specific temporary directory. If specified, the path must exist. ")],-1))])]),s("footer",{class:"modal-footer"},[s("button",{onClick:Mi,class:"btn-primary"},"Save Changes and Close")])])])):F("",!0),te.value?(w(),S("div",{key:3,class:"modal-backdrop",onClick:ge(Qn,["self"])},[s("div",Am,[s("header",{class:"modal-header"},[n[207]||(n[207]=s("h3",null,"USB2SNES Tools & Diagnostics",-1)),s("button",{class:"close",onClick:Qn},"")]),s("div",Dm,[s("div",Im,[n[210]||(n[210]=s("h4",null,"USB2SNES Implementation",-1)),s("div",Tm,[n[209]||(n[209]=s("label",null,"USB2SNES Library:",-1)),re(s("select",{"onUpdate:modelValue":n[66]||(n[66]=c=>Y.value=c),disabled:_.connected,class:"usb2snes-library-select"},[...n[208]||(n[208]=[s("option",{value:"usb2snes_a"},"usb2snes_a (Type A - Python port)",-1),s("option",{value:"usb2snes_b"},"usb2snes_b (Type B - 3rd party JS)",-1),s("option",{value:"qusb2snes"},"Qusb2snes (Local server)",-1),s("option",{value:"node-usb"},"node-usb (Direct hardware)",-1)])],8,Mm),[[it,Y.value]])]),_.connected?(w(),S("div",Fm,"  Disconnect to change library implementation ")):F("",!0)]),s("div",Um,[n[218]||(n[218]=s("h4",null,"Connection Status",-1)),s("div",$m,[n[211]||(n[211]=s("label",null,"WebSocket Address:",-1)),s("code",null,m(b.usb2snesAddress),1)]),s("div",Nm,[n[212]||(n[212]=s("label",null,"Connection Status:",-1)),s("span",{class:Se(["status-indicator",_.connected?"connected":"disconnected"])},m(_.connected?" Connected":" Disconnected"),3)]),s("div",Lm,[n[213]||(n[213]=s("label",null,"Device:",-1)),s("span",null,m(_.device||"N/A"),1)]),_.connected?(w(),S("div",Om,[n[214]||(n[214]=s("label",null,"Firmware:",-1)),s("span",null,m(_.firmwareVersion||"N/A"),1)])):F("",!0),_.connected?(w(),S("div",Vm,[n[215]||(n[215]=s("label",null,"Version String:",-1)),s("span",null,m(_.versionString||"N/A"),1)])):F("",!0),_.connected?(w(),S("div",Bm,[n[216]||(n[216]=s("label",null,"ROM Running:",-1)),s("span",null,m(_.romRunning||"N/A"),1)])):F("",!0),s("div",Hm,[_.connected?F("",!0):(w(),S("button",{key:0,onClick:Tt,class:"btn-primary"},"Connect")),_.connected?(w(),S("button",{key:1,onClick:vn,class:"btn-danger"},"Disconnect")):F("",!0)]),_.connected?(w(),S("div",jm,[s("button",{onClick:p,class:"btn-secondary"},"Create Required Upload Directory"),s("span",Gm,[n[217]||(n[217]=Q("Will create: ",-1)),s("code",null,m(b.usb2snesUploadDir),1)])])):F("",!0)]),s("div",zm,[n[222]||(n[222]=s("h4",null,"Upload Settings",-1)),s("div",Km,[n[219]||(n[219]=s("label",null,"Upload Directory:",-1)),s("code",null,m(b.usb2snesUploadDir),1)]),s("div",qm,[n[220]||(n[220]=s("label",null,"Upload Preference:",-1)),s("span",null,m(b.usb2snesUploadPref),1)]),s("div",Wm,[n[221]||(n[221]=s("label",null,"Launch Preference:",-1)),s("span",null,m(b.usb2snesLaunchPref),1)])]),s("div",Jm,[n[225]||(n[225]=s("h4",null,"Diagnostics",-1)),s("div",Qm,[s("p",null,[n[223]||(n[223]=s("strong",null,"Last Connection Attempt:",-1)),Q(" "+m(_.lastAttempt||"Never"),1)]),s("p",null,[n[224]||(n[224]=s("strong",null,"Last Error:",-1)),Q(" "+m(_.lastError||"None"),1)])]),s("button",{onClick:Ms,class:"btn-secondary"},"Clear Error Log")]),s("div",Ym,[n[227]||(n[227]=s("h4",null,"Console Control",-1)),s("div",Xm,[n[226]||(n[226]=s("strong",null,"Debug Status:",-1)),Q(" connected="+m(_.connected)+", device="+m(_.device),1)]),s("div",Zm,[s("button",{onClick:v,disabled:!_.connected,class:"btn-secondary"},"Reboot SNES",8,eb),s("button",{onClick:k,disabled:!_.connected,class:"btn-secondary"},"Return to Menu",8,tb)])]),s("div",nb,[n[228]||(n[228]=s("h4",null,"SMW Quick Actions",-1)),s("div",sb,[s("button",{onClick:M,disabled:!_.connected,class:"btn-secondary"},"Grant Cape",8,ob),s("button",{onClick:L,disabled:!_.connected,class:"btn-secondary"},"Timer Challenge (60s)",8,lb)])]),s("div",ab,[n[229]||(n[229]=s("h4",null,"File Upload",-1)),s("div",rb,[s("input",{type:"file",ref_key:"usb2snesFileInput",ref:U,onChange:ql,accept:".sfc,.smc,.bin",style:{display:"none"}},null,544),s("div",ib,[s("button",{onClick:Kl,class:"btn-secondary"},"Select File"),T.value?(w(),S("span",cb,m(T.value.name)+" ("+m(Wl(T.value.size))+")",1)):(w(),S("span",ub,"No file selected"))]),s("button",{onClick:Jl,disabled:!_.connected||!T.value||T.value.size>15*1024*1024,class:"btn-primary"}," Upload to /work ",8,db),T.value&&T.value.size>15*1024*1024?(w(),S("div",fb,"  File too large (max 15 MB) ")):F("",!0)])]),s("div",pb,[n[231]||(n[231]=s("h4",null,"Chat Commands - EXPERIMENTAL",-1)),s("div",gb,[s("div",{class:"chat-log",ref_key:"chatLogContainer",ref:ts},[(w(!0),S(ve,null,Le(z.value,(c,G)=>(w(),S("div",{key:G,class:Se(["chat-entry",c.type])},[s("span",vb,m(c.timestamp),1),s("span",hb,m(c.message),1)],2))),128)),z.value.length===0?(w(),S("div",mb," Chat command log will appear here ")):F("",!0)],512),s("div",bb,[re(s("input",{type:"text","onUpdate:modelValue":n[67]||(n[67]=c=>A.value=c),onKeydown:[Ql,ao($s,["enter"])],placeholder:"Enter chat command (e.g., !powerup 0x02, !w 0x7E0DBE 0x63)",class:"chat-input",ref_key:"chatInputField",ref:se},null,544),[[je,A.value]]),s("button",{onClick:$s,disabled:!A.value.trim(),class:"btn-primary"},"Go",8,yb)]),s("div",wb,[s("button",{onClick:n[68]||(n[68]=c=>ae.value=!0),class:"btn-secondary",style:{width:"100%"}},"  Show All Commands "),n[230]||(n[230]=s("p",{style:{"font-size":"11px",color:"#888","margin-top":"4px","text-align":"center"}},[s("em",null,"Press Up/Down arrows to navigate command history")],-1))]),K.value.length>0?(w(),S("div",Sb,[s("strong",null,"Loaded CARL-Like Modules ("+m(K.value.length)+"):",1),s("div",_b,[(w(!0),S(ve,null,Le(K.value,c=>(w(),S("div",{key:c.name,class:"module-item"},[Q(m(c.name)+" ",1),s("span",Cb,"("+m(c.addressHex)+", "+m(c.size)+"B)",1)]))),128))])])):F("",!0)])]),s("div",{class:"usb2snes-section"},[n[232]||(n[232]=s("h4",null,"Diagnostics",-1)),s("div",{class:"action-buttons"},[s("button",{onClick:hn,class:"btn-secondary"},"Reset Connection"),s("button",{onClick:Gl,class:"btn-secondary"},"Open USB2SNES Website")])])]),s("footer",{class:"modal-footer"},[s("button",{onClick:Qn,class:"btn-primary"},"Close")])])])):F("",!0),ae.value?(w(),S("div",{key:4,class:"modal-backdrop",onClick:n[71]||(n[71]=ge(c=>ae.value=!1,["self"]))},[s("div",kb,[s("header",Pb,[n[233]||(n[233]=s("h3",null," Chat Commands Reference",-1)),s("button",{onClick:n[69]||(n[69]=c=>ae.value=!1),class:"btn-close"},"")]),n[234]||(n[234]=Na('<div class="modal-body"><div class="command-help-content"><section class="help-section"><h4> General Commands</h4><div class="command-list"><div class="command-item"><code>!w ADDRESS VALUE [ADDRESS VALUE ...]</code><p>Write byte value(s) to memory address(es)</p><p class="example">Example: <code>!w 0x7E0DBE 0x63</code> - Set lives to 99</p></div><div class="command-item"><code>!r ADDRESS [ADDRESS ...]</code><p>Read byte value(s) from memory address(es)</p><p class="example">Example: <code>!r 0x7E0019</code> - Read powerup status</p></div><div class="command-item"><code>!read ADDRESS</code><p>Alias for !r - Read from memory</p></div></div></section><section class="help-section"><h4>Experimental CARL-Like Module Commands</h4><div class="command-list"><div class="command-item"><code>!load MODULE_NAME</code><p>Load an ASM module from /work/carl/</p><p class="example">Example: <code>!load moonjump</code></p></div><div class="command-item"><code>!unload MODULE_NAME</code><p>Unload a loaded ASM module</p></div><div class="command-item"><code>!reload MODULE_NAME</code><p>Reload an ASM module (unload + load)</p></div></div></section><section class="help-section"><h4> Pseudocommands (Quick Aliases)</h4><p class="section-description">These are shortcuts for common memory addresses. Format: <code>!command VALUE</code></p><div class="help-subsection"><h5> Player Status</h5><div class="command-grid"><div class="command-item-compact"><code>!powerup</code><span>0x7E0019 - Powerup (0=small, 1=big, 2=cape, 3=fire)</span></div><div class="command-item-compact"><code>!lives</code><span>0x7E0DBE - Number of lives</span></div><div class="command-item-compact"><code>!coins</code><span>0x7E0DBF - Coin count</span></div><div class="command-item-compact"><code>!reserve_item</code><span>0x7E0DC2 - Item in reserve box</span></div><div class="command-item-compact"><code>!vx</code><span>0x7E007B - Mario velocity X</span></div><div class="command-item-compact"><code>!vy</code><span>0x7E007D - Mario velocity Y</span></div></div></div><div class="help-subsection"><h5> Timers</h5><div class="command-grid"><div class="command-item-compact"><code>!star_timer</code><span>0x7E1490 - Star invincibility timer</span></div><div class="command-item-compact"><code>!keyhole_timer</code><span>0x7E1434 - Keyhole entry timer</span></div><div class="command-item-compact"><code>!end_level_timer</code><span>0x7E1493 - Level end sequence timer</span></div><div class="command-item-compact"><code>!pswitch_blue_timer</code><span>0x7E14AD - Blue P-switch timer</span></div><div class="command-item-compact"><code>!invulnerability_timer</code><span>0x7E1497 - Post-damage invulnerability</span></div><div class="command-item-compact"><code>!sparkle_timer</code><span>0x7E18D3 - Sparkle animation timer</span></div></div></div><div class="help-subsection"><h5> Yoshi</h5><div class="command-grid"><div class="command-item-compact"><code>!yoshi_color</code><span>0x7E13C7 - Yoshi color</span></div><div class="command-item-compact"><code>!is_riding_yoshi</code><span>0x7E187A - Riding Yoshi flag</span></div><div class="command-item-compact"><code>!yoshi_egg_sprite</code><span>0x7E18DA - Yoshi egg sprite slot</span></div><div class="command-item-compact"><code>!yoshi_egg_timer</code><span>0x7E18DE - Yoshi egg hatch timer</span></div></div></div><div class="help-subsection"><h5> Control &amp; Effects</h5><div class="command-grid"><div class="command-item-compact"><code>!freeze_everything</code><span>0x7E13FD - Freeze all sprites (1=freeze, 0=unfreeze)</span></div><div class="command-item-compact"><code>!is_paused</code><span>0x7E13D4 - Pause game flag</span></div><div class="command-item-compact"><code>!p_meter</code><span>0x7E13E4 - P-meter value</span></div><div class="command-item-compact"><code>!mode</code><span>0x7E0100 - Game mode</span></div><div class="command-item-compact"><code>!can_climb_on_air</code><span>0x7E18BE - Air climbing flag</span></div><div class="command-item-compact"><code>!disable_ground_collision</code><span>0x7E185C - Walk through ground</span></div></div></div><div class="help-subsection"><h5> Level Properties</h5><div class="command-grid"><div class="command-item-compact"><code>!is_water_level</code><span>0x7E0085 - Water level flag</span></div><div class="command-item-compact"><code>!slippery_amount</code><span>0x7E0086 - Floor slipperiness</span></div><div class="command-item-compact"><code>!scroll_mode</code><span>0x7E143E - Camera scroll mode</span></div><div class="command-item-compact"><code>!can_scroll</code><span>0x7E1411 - Enable/disable scrolling</span></div></div></div><div class="help-subsection"><h5> Visual Effects</h5><div class="command-grid"><div class="command-item-compact"><code>!screen_display_value</code><span>0x7E0DAE - Screen brightness</span></div><div class="command-item-compact"><code>!mosaic_value</code><span>0x7E0DB0 - Mosaic effect intensity</span></div><div class="command-item-compact"><code>!layer_1_shake_timer</code><span>0x7E1887 - Screen shake timer</span></div><div class="command-item-compact"><code>!transition_stars</code><span>0x7E13CB - Star transition count</span></div></div></div><div class="help-subsection"><h5> Multiplayer &amp; Misc</h5><div class="command-grid"><div class="command-item-compact"><code>!is_multiplayer</code><span>0x7E0DB2 - Multiplayer mode flag</span></div><div class="command-item-compact"><code>!is_player2</code><span>0x7E0DB3 - Player 2 active flag</span></div><div class="command-item-compact"><code>!music_dispatch</code><span>0x7E1DFB - Music track selector</span></div><div class="command-item-compact"><code>!message_box_dispatch</code><span>0x7E1426 - Message box trigger</span></div></div></div></section></div></div>',1)),s("footer",xb,[s("button",{onClick:n[70]||(n[70]=c=>ae.value=!1),class:"btn-primary"},"Close")])])])):F("",!0),le.value?(w(),S("div",Eb,[s("div",Rb,[n[236]||(n[236]=s("header",{class:"modal-header"},[s("h3",null,"Uploading File")],-1)),s("div",Ab,[s("div",Db,[s("div",Ib,[n[235]||(n[235]=s("strong",null,"Destination:",-1)),Q(" "+m(Ye.value),1)]),s("div",Tb,[s("div",{class:"progress-bar-fill",style:ln({width:Ee.value+"%"})},null,4),s("div",Mb,m(Ee.value)+"%",1)]),s("div",{class:Se(["upload-status",{success:Te.value,error:!Te.value&&ye.value.includes("failed")}])},m(ye.value),3)])]),s("footer",Fb,[s("button",{onClick:ri,class:"btn-secondary"},"Close"),Te.value?(w(),S("button",{key:0,onClick:ii,class:"btn-primary"}," Launch File on SNES ")):F("",!0)])])])):F("",!0),Fs.value?(w(),S("div",{key:6,class:"modal-backdrop",onClick:ge(Uo,["self"])},[s("div",Ub,[s("header",{class:"modal-header"},[n[237]||(n[237]=s("h3",null," Upload File to SNES",-1)),s("button",{onClick:Uo,class:"btn-close"},"")]),s("div",$b,[s("div",Nb,[s("div",Lb,[s("input",{type:"file",ref_key:"usb2snesFileInput",ref:U,onChange:ql,accept:".sfc,.smc,.bin",style:{display:"none"}},null,544),s("button",{onClick:Kl,class:"btn-secondary"}," Browse Files "),T.value?(w(),S("div",Ob,[s("p",null,[n[238]||(n[238]=s("strong",null,"Selected:",-1)),Q(" "+m(T.value.name),1)]),T.value.size>0?(w(),S("p",Vb,[n[239]||(n[239]=s("strong",null,"Size:",-1)),Q(" "+m(Wl(T.value.size)),1)])):F("",!0)])):F("",!0)]),T.value?(w(),S("div",Bb,[s("button",{onClick:Jl,class:"btn-primary"}," Upload to /work/ on SNES ")])):F("",!0)])]),s("footer",{class:"modal-footer"},[s("button",{onClick:Uo,class:"btn-secondary"},"Close")])])])):F("",!0),To.value?(w(),S("div",{key:7,class:"modal-backdrop",onClick:ge($o,["self"])},[s("div",Hb,[s("header",{class:"modal-header"},[n[240]||(n[240]=s("h3",null," Cheats & Power-ups",-1)),s("button",{onClick:$o,class:"btn-close"},"")]),s("div",jb,[s("div",Gb,[s("div",{class:"cheat-buttons"},[s("button",{onClick:M,class:"cheat-btn"},[...n[241]||(n[241]=[s("span",{class:"cheat-icon"},"",-1),s("span",{class:"cheat-name"},"Grant Cape",-1),s("span",{class:"cheat-desc"},"Powerup = 0x02",-1)])]),s("button",{onClick:D,class:"cheat-btn"},[...n[242]||(n[242]=[s("span",{class:"cheat-icon"},"",-1),s("span",{class:"cheat-name"},"Grant 1-Up",-1),s("span",{class:"cheat-desc"},"Lives++",-1)])]),s("button",{onClick:I,class:"cheat-btn"},[...n[243]||(n[243]=[s("span",{class:"cheat-icon"},"",-1),s("span",{class:"cheat-name"},"Grant Star",-1),s("span",{class:"cheat-desc"},"Star Timer = 0xFF",-1)])])]),et.value?(w(),S("div",zb,m(et.value),1)):F("",!0)])]),s("footer",{class:"modal-footer"},[s("button",{onClick:$o,class:"btn-secondary"},"Close")])])])):F("",!0),Mo.value?(w(),S("div",{key:8,class:"modal-backdrop",onClick:ge(No,["self"])},[s("div",Kb,[s("header",{class:"modal-header"},[n[244]||(n[244]=s("h3",null," Challenges",-1)),s("button",{onClick:No,class:"btn-close"},"")]),s("div",qb,[s("div",Wb,[s("div",{class:"challenge-buttons"},[s("button",{onClick:L,class:"challenge-btn"},[...n[245]||(n[245]=[s("span",{class:"challenge-icon"},"",-1),s("span",{class:"challenge-name"},"Timer Challenge",-1),s("span",{class:"challenge-desc"},"Race against the clock",-1)])]),n[246]||(n[246]=s("div",{class:"challenge-btn disabled"},[s("span",{class:"challenge-icon"},""),s("span",{class:"challenge-name"},"More Coming Soon"),s("span",{class:"challenge-desc"},"Future challenges...")],-1))]),Zn.value?(w(),S("div",Jb,m(Zn.value),1)):F("",!0)])]),s("footer",{class:"modal-footer"},[s("button",{onClick:No,class:"btn-secondary"},"Close")])])])):F("",!0),Us.value?(w(),S("div",{key:9,class:"modal-backdrop",onClick:ge(Lo,["self"])},[s("div",Qb,[s("header",{class:"modal-header"},[n[247]||(n[247]=s("h3",null," Chat Commands",-1)),s("button",{onClick:Lo,class:"btn-close"},"")]),s("div",Yb,[s("div",Xb,[s("div",Zb,[s("div",e1,[s("span",{class:Se(["status-indicator",_.connected?"connected":"disconnected"])},m(_.connected?" Connected":" Disconnected"),3),s("span",{class:Se(["health-indicator",Ve.value])},m(Ve.value==="green"?" Healthy":Ve.value==="yellow"?" Slow":" Down"),3),_.romRunning?(w(),S("span",t1,m(_.romRunning),1)):F("",!0)])]),s("div",n1,[s("button",{onClick:n[72]||(n[72]=c=>ss("!r")),class:"quick-cmd-btn"},"!r"),s("button",{onClick:n[73]||(n[73]=c=>ss("!w")),class:"quick-cmd-btn"},"!w"),s("button",{onClick:n[74]||(n[74]=c=>ss("!powerup")),class:"quick-cmd-btn"},"!powerup"),s("button",{onClick:n[75]||(n[75]=c=>ss("!lives")),class:"quick-cmd-btn"},"!lives"),s("button",{onClick:n[76]||(n[76]=c=>ss("!freeze_everything")),class:"quick-cmd-btn"},"!freeze")]),s("div",{class:"chat-log-fullsize",ref_key:"chatLogContainer",ref:ts},[(w(!0),S(ve,null,Le(z.value,(c,G)=>(w(),S("div",{key:G,class:Se(["chat-entry",c.type])},[s("span",s1,m(c.timestamp),1),s("span",o1,m(c.message),1)],2))),128)),z.value.length===0?(w(),S("div",l1," Chat command log will appear here ")):F("",!0)],512),s("div",a1,[re(s("input",{"onUpdate:modelValue":n[77]||(n[77]=c=>A.value=c),onKeydown:[Ql,ao($s,["enter"])],placeholder:"Enter chat command (e.g., !powerup 0x02, !w 0x7E0DBE 0x63)",class:"chat-input",ref_key:"chatInputField",ref:se},null,544),[[je,A.value]]),s("button",{onClick:$s,disabled:!A.value.trim(),class:"btn-primary"},"Go",8,r1)]),s("div",i1,[s("button",{onClick:n[78]||(n[78]=c=>ae.value=!0),class:"btn-secondary",style:{width:"100%"}},"  Show All Commands ")]),K.value.length>0?(w(),S("div",c1,[s("strong",null,"Loaded CARL-Like Modules ("+m(K.value.length)+"):",1),s("div",u1,[(w(!0),S(ve,null,Le(K.value,c=>(w(),S("span",{key:c.name,class:"module-chip"},m(c.name),1))),128))])])):F("",!0)])]),s("footer",{class:"modal-footer"},[s("button",{onClick:Lo,class:"btn-secondary"},"Close")])])])):F("",!0),Gs.value?(w(),S("div",{key:10,class:"modal-backdrop",onClick:ge(Qo,["self"])},[s("div",d1,[s("header",{class:"modal-header"},[n[248]||(n[248]=s("h3",null,"Enter Run Name",-1)),s("button",{class:"close",onClick:Qo},"")]),s("section",f1,[n[249]||(n[249]=s("label",{for:"run-name-input"},"Run Name:",-1)),re(s("input",{id:"run-name-input",type:"text","onUpdate:modelValue":n[79]||(n[79]=c=>Mn.value=c),placeholder:"My Challenge Run",onKeyup:ao(fa,["enter"]),autofocus:""},null,544),[[je,Mn.value]])]),s("footer",{class:"modal-footer"},[s("button",{onClick:fa,class:"btn-primary"},"Save Run"),s("button",{onClick:Qo},"Cancel")])])])):F("",!0),$t.value?(w(),S("div",p1,[s("div",g1,[n[256]||(n[256]=s("header",{class:"modal-header"},[s("h3",null," Active Run Found")],-1)),s("section",v1,[n[254]||(n[254]=s("p",{class:"resume-message"},"You have an active run in progress:",-1)),s("div",h1,[s("div",m1,[n[250]||(n[250]=s("span",{class:"label"},"Run Name:",-1)),s("span",b1,m((f=Ne.value)==null?void 0:f.run_name),1)]),s("div",y1,[n[251]||(n[251]=s("span",{class:"label"},"Status:",-1)),s("span",w1,m((y=Ne.value)!=null&&y.isPaused?" Paused":" Running"),1)]),s("div",S1,[n[252]||(n[252]=s("span",{class:"label"},"Elapsed Time:",-1)),s("span",_1," "+m(_n(((P=Ne.value)==null?void 0:P.elapsedSeconds)||0)),1)]),((B=Ne.value)==null?void 0:B.pause_seconds)>0?(w(),S("div",C1,[n[253]||(n[253]=s("span",{class:"label"},"Paused Time:",-1)),s("span",k1," "+m(_n(((E=Ne.value)==null?void 0:E.pause_seconds)||0)),1)])):F("",!0)]),n[255]||(n[255]=s("p",{class:"resume-prompt"},"What would you like to do?",-1))]),s("footer",{class:"modal-footer resume-run-footer"},[s("button",{onClick:Sa,class:"btn-primary btn-large"}," Resume Run"),s("button",{onClick:uu,class:"btn-secondary btn-large"}," View (Paused)"),s("button",{onClick:du,class:"btn-danger btn-large"}," Cancel Run")])])])):F("",!0),os.value?(w(),S("div",P1,[s("div",x1,[n[257]||(n[257]=s("header",{class:"modal-header"},[s("h3",null," Staging Run Games...")],-1)),s("section",E1,[s("div",R1,[s("div",A1,[s("div",{class:"progress-fill",style:ln({width:zs.value/Ks.value*100+"%"})},null,4)]),s("p",D1,m(zs.value)+" / "+m(Ks.value),1),s("p",I1,m(qs.value),1)])])])])):F("",!0),as.value?(w(),S("div",T1,[s("div",M1,[n[261]||(n[261]=s("header",{class:"modal-header"},[s("h3",null," Uploading Run to USB2SNES...")],-1)),s("section",F1,[s("div",U1,[n[259]||(n[259]=s("label",{class:"progress-label"},"Overall Progress:",-1)),s("div",$1,[s("div",{class:"progress-fill",style:ln({width:Ws.value/Js.value*100+"%"})},null,4)]),s("p",N1,m(Ws.value)+" / "+m(Js.value)+" files uploaded",1),n[260]||(n[260]=s("label",{class:"progress-label",style:{"margin-top":"20px"}},"Current File:",-1)),s("div",L1,[s("div",{class:"progress-fill",style:ln({width:rs.value+"%"})},null,4)]),s("p",O1,m(Go.value)+" - "+m(rs.value)+"%",1),s("div",V1,[n[258]||(n[258]=s("label",{class:"progress-label"},"Status Log:",-1)),s("textarea",{readonly:"",value:Qs.value,class:"status-log",ref_key:"runUploadStatusLogTextarea",ref:zo},null,8,B1)])])]),s("footer",H1,[Lt.value?(w(),S("button",{key:0,onClick:Sc,class:"btn-secondary"}," Cancel ")):(w(),S("button",{key:1,onClick:_c,class:"btn-primary"}," Close "))])])])):F("",!0),Ho.value?(w(),S("div",{key:14,class:"modal-backdrop",onClick:ge(ha,["self"])},[s("div",j1,[s("header",{class:"modal-header"},[n[262]||(n[262]=s("h3",null," Past Runs",-1)),s("button",{class:"close",onClick:ha},"")]),s("section",G1,[s("div",z1,[s("button",{onClick:qc,disabled:rt.value.length===0,class:"btn-danger"},"Delete Checked",8,K1)]),s("div",q1,[s("div",W1,[s("table",J1,[n[264]||(n[264]=s("thead",null,[s("tr",null,[s("th",{class:"col-check"}),s("th",null,"Run Name"),s("th",null,"Status"),s("th",null,"Created"),s("th",null,"Started"),s("th",null,"Completed"),s("th",null,"# Challenges"),s("th",null,"# Finished"),s("th",null,"# Skipped"),s("th",null,"Conditions"),s("th",null,"Pause")])],-1)),s("tbody",null,[(w(!0),S(ve,null,Le(Fn.value,c=>(w(),S("tr",{key:c.run_uuid,onClick:G=>Kc(c.run_uuid),class:Se({selected:Nt.value===c.run_uuid})},[s("td",{class:"col-check",onClick:n[80]||(n[80]=ge(()=>{},["stop"]))},[s("input",{type:"checkbox",checked:rt.value.includes(c.run_uuid),onChange:G=>zc(c.run_uuid),disabled:c.status==="active"},null,40,Y1)]),s("td",null,m(c.run_name),1),s("td",null,m(c.status),1),s("td",null,m(Xo(c.created_at)),1),s("td",null,m(Xo(c.started_at)),1),s("td",null,m(Xo(c.completed_at)),1),s("td",null,m(c.total_challenges),1),s("td",null,m(c.completed_challenges),1),s("td",null,m(c.skipped_challenges),1),s("td",null,m(Qc(c.global_conditions)),1),s("td",null,m(_n(c.pause_seconds||0)),1)],10,Q1))),128)),Fn.value.length===0?(w(),S("tr",X1,[...n[263]||(n[263]=[s("td",{colspan:"11",class:"empty"},"No past runs found.",-1)])])):F("",!0)])])]),Nt.value&&mt.value?(w(),S("div",Z1,[n[274]||(n[274]=s("h4",null,"Run Details",-1)),s("div",ey,[s("div",ty,[n[265]||(n[265]=s("label",null,"Run Name:",-1)),s("span",null,m(mt.value.run_name),1)]),s("div",ny,[n[266]||(n[266]=s("label",null,"Status:",-1)),s("span",null,m(mt.value.status),1)]),s("div",sy,[n[267]||(n[267]=s("label",null,"Created:",-1)),s("span",null,m(Zo(mt.value.created_at)),1)]),s("div",oy,[n[268]||(n[268]=s("label",null,"Started:",-1)),s("span",null,m(Zo(mt.value.started_at)),1)]),s("div",ly,[n[269]||(n[269]=s("label",null,"Completed:",-1)),s("span",null,m(Zo(mt.value.completed_at)),1)]),mt.value.staging_folder?(w(),S("div",ay,[n[270]||(n[270]=s("label",null,"Staging Folder:",-1)),s("button",{onClick:Wc,class:"btn-link"}," Open")])):F("",!0),wn.value&&wn.value.length>0?(w(),S("div",ry,[n[272]||(n[272]=s("h5",null,"Results",-1)),s("table",iy,[n[271]||(n[271]=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"Game ID"),s("th",null,"Game Name"),s("th",null,"Status")])],-1)),s("tbody",null,[(w(!0),S(ve,null,Le(wn.value,c=>(w(),S("tr",{key:c.result_uuid},[s("td",null,m(c.sequence_number),1),s("td",null,m(c.gameid),1),s("td",null,m(c.game_name),1),s("td",null,m(c.status),1)]))),128))])])])):F("",!0),Sn.value&&Sn.value.length>0?(w(),S("div",cy,[n[273]||(n[273]=s("h5",null,"Plan Entries",-1)),s("button",{onClick:Jc,class:"btn-secondary"},"View Plan Entries")])):F("",!0)])])):F("",!0)])])])])):F("",!0),jo.value?(w(),S("div",uy,[s("div",dy,[n[278]||(n[278]=s("header",{class:"modal-header"},[s("h3",null," Run Staged Successfully!")],-1)),s("section",fy,[s("div",py,[s("p",gy,[s("strong",null,m(ls.value),1),Q(" game file"+m(ls.value===1?"":"s")+" "+m(ls.value===1?"has":"have")+" been prepared for your run. ",1)]),s("div",vy,[n[275]||(n[275]=s("label",{class:"folder-label"},"Run Folder:",-1)),s("div",hy,[s("input",{type:"text",readonly:"",value:bt.value,class:"folder-path-input"},null,8,my),s("button",{onClick:bc,class:"btn-open-folder",title:"Open Folder"},"")])]),s("div",by,[n[276]||(n[276]=s("h4",null," Quick Actions:",-1)),s("div",yy,[b.launchProgram&&b.launchProgram.trim()?(w(),S("div",wy,[s("button",{onClick:n[81]||(n[81]=c=>yc(1)),class:"btn-action"},"  Launch Game 1 ")])):F("",!0),b.usb2snesEnabled==="yes"?(w(),S("div",Sy,[s("button",{onClick:wc,class:"btn-action"},"  Upload to USB2SNES ")])):F("",!0)]),Me.value?(w(),S("div",_y,m(Me.value),1)):F("",!0),n[277]||(n[277]=s("p",{class:"tip"},[Q(" "),s("strong",null,"Tip:"),Q(" Game files are numbered sequentially in the folder above")],-1))])])]),s("footer",{class:"modal-footer"},[s("button",{onClick:mc,class:"btn-primary"},"Close")])])])):F("",!0),Ys.value?(w(),S("div",Cy,[s("div",ky,[n[279]||(n[279]=s("header",{class:"modal-header"},[s("h3",null," Staging Games for Quick Launch...")],-1)),s("section",Py,[s("div",xy,[s("div",Ey,[s("div",{class:"progress-fill",style:ln({width:Xs.value/Zs.value*100+"%"})},null,4)]),s("p",Ry,m(Xs.value)+" / "+m(Zs.value),1),s("p",Ay,m(Ko.value),1)])])])])):F("",!0),qo.value?(w(),S("div",Dy,[s("div",Iy,[n[283]||(n[283]=s("header",{class:"modal-header"},[s("h3",null," Games Staged Successfully!")],-1)),s("section",Ty,[s("div",My,[s("p",Fy,[s("strong",null,m(eo.value),1),Q(" game file"+m(eo.value===1?"":"s")+" "+m(eo.value===1?"has":"have")+" been prepared for quick launch. ",1)]),s("div",Uy,[n[280]||(n[280]=s("label",{class:"folder-label"},"Staged Games Folder:",-1)),s("div",$y,[s("input",{type:"text",readonly:"",value:Ot.value,class:"folder-path-input"},null,8,Ny),s("button",{onClick:Pc,class:"btn-open-folder",title:"Open Folder"},"")])]),s("div",Ly,[n[281]||(n[281]=s("h4",null," Quick Actions:",-1)),s("div",Oy,[b.usb2snesEnabled==="yes"?(w(),S("div",Vy,[s("button",{onClick:n[82]||(n[82]=c=>pa(!1)),class:"btn-action"},"  Upload to SNES "),s("button",{onClick:n[83]||(n[83]=c=>pa(!0)),class:"btn-action"},"  Upload and Boot ")])):F("",!0),b.launchProgram&&b.launchProgram.trim()?(w(),S("div",By,[s("button",{onClick:xc,class:"btn-action"},"  Launch with Program ")])):F("",!0)]),xe.value?(w(),S("div",Hy,m(xe.value),1)):F("",!0),n[282]||(n[282]=s("p",{class:"tip"},[Q(" "),s("strong",null,"Tip:"),Q(" Game files are in the folder above: "),s("code",null,"smw<GAMEID>_<VERSION>.sfc")],-1))])])]),s("footer",{class:"modal-footer"},[s("button",{onClick:kc,class:"btn-primary"},"Close")])])])):F("",!0)],64)}}});$f(jy).mount("#app");
